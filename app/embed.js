/*! For license information please see embed.js.LICENSE.txt */
(()=>{var e={6329:(e,t,n)=>{var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach((function(t){i.push(e(t))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},c={},l="",s="",u="",f=2,d=3,m=2,p=[],y=0,h=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=d++,c[l]=!0),s=u+l,Object.prototype.hasOwnProperty.call(i,s))u=s;else{if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)y<<=1,h==t-1?(h=0,p.push(n(y)),y=0):h++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}else{for(o=1,r=0;r<m;r++)y=y<<1|o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;0==--f&&(f=Math.pow(2,m),m++),i[s]=d++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)y<<=1,h==t-1?(h=0,p.push(n(y)),y=0):h++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}else{for(o=1,r=0;r<m;r++)y=y<<1|o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;0==--f&&(f=Math.pow(2,m),m++)}for(o=2,r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;for(;;){if(y<<=1,h==t-1){p.push(n(y));break}h++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,a,i,c,l,s,u,f=[],d=4,m=4,p=3,y="",h=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(i=0,l=Math.pow(2,2),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 2:return""}for(f[3]=u,a=u,h.push(u);;){if(v.index>t)return"";for(i=0,l=Math.pow(2,p),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(u=i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 2:return h.join("")}if(0==d&&(d=Math.pow(2,p),p++),f[u])y=f[u];else{if(u!==m)return null;y=a+a.charAt(0)}h.push(y),f[m++]=a+y.charAt(0),a=y,0==--d&&(d=Math.pow(2,p),p++)}}};return a}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{"use strict";var e,t,r,o,a,i,c={},l=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function d(t,n,r){var o,a,i,c={};for(i in n)"key"==i?o=n[i]:"ref"==i?a=n[i]:c[i]=n[i];if(arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===c[i]&&(c[i]=t.defaultProps[i]);return m(t,c,o,a,null)}function m(e,n,o,a,i){var c={type:e,props:n,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++r:i};return null==i&&null!=t.vnode&&t.vnode(c),c}function p(e){return e.children}function y(e,t){this.props=e,this.context=t}function h(e,t){if(null==t)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?h(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function _(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!g.__r++||i!==t.debounceRendering)&&((i=t.debounceRendering)||a)(g)}function g(){for(var e;g.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,o,a,i;e.__d&&(a=(o=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=u({},o)).__v=o.__v+1,N(i,o,r,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?h(o):a,o.__h),M(n,o),o.__e!=a&&v(o)))}))}function x(e,t,n,r,o,a,i,s,u,f){var d,y,v,_,g,x,S,k=r&&r.__k||l,E=k.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(_=n.__k[d]=null==(_=t[d])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?m(null,_,null,null,_):Array.isArray(_)?m(p,{children:_},null,null,null):_.__b>0?m(_.type,_.props,_.key,null,_.__v):_)){if(_.__=n,_.__b=n.__b+1,null===(v=k[d])||v&&_.key==v.key&&_.type===v.type)k[d]=void 0;else for(y=0;y<E;y++){if((v=k[y])&&_.key==v.key&&_.type===v.type){k[y]=void 0;break}v=null}N(e,_,v=v||c,o,a,i,s,u,f),g=_.__e,(y=_.ref)&&v.ref!=y&&(S||(S=[]),v.ref&&S.push(v.ref,null,_),S.push(y,_.__c||g,_)),null!=g?(null==x&&(x=g),"function"==typeof _.type&&_.__k===v.__k?_.__d=u=b(_,u,e):u=w(e,_,v,k,g,u),"function"==typeof n.type&&(n.__d=u)):u&&v.__e==u&&u.parentNode!=e&&(u=h(v))}for(n.__e=x,d=E;d--;)null!=k[d]&&("function"==typeof n.type&&null!=k[d].__e&&k[d].__e==n.__d&&(n.__d=h(r,d+1)),O(k[d],k[d]));if(S)for(d=0;d<S.length;d++)A(S[d],S[++d],S[++d])}function b(e,t,n){for(var r,o=e.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=e,t="function"==typeof r.type?b(r,t,n):w(n,r,r,o,r.__e,t));return t}function w(e,t,n,r,o,a){var i,c,l;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(o),i=null;else{for(c=a,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==o)break e;e.insertBefore(o,a),i=a}return void 0!==i?i:o.nextSibling}function S(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||s.test(t)?n:n+"px"}function k(e,t,n,r,o){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||S(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||S(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?C:E,a):e.removeEventListener(t,a?C:E,a);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function E(e){this.l[e.type+!1](t.event?t.event(e):e)}function C(e){this.l[e.type+!0](t.event?t.event(e):e)}function N(n,r,o,a,i,l,s,d,m){var v,_,g,b,w,S,E,C,N,M,A,O=r.type;if(void 0!==r.constructor)return null;null!=o.__h&&(m=o.__h,d=r.__e=o.__e,r.__h=null,l=[d]),(v=t.__b)&&v(r);try{e:if("function"==typeof O){if(C=r.props,N=(v=O.contextType)&&a[v.__c],M=v?N?N.props.value:v.__:a,o.__c?E=(_=r.__c=o.__c).__=_.__E:("prototype"in O&&O.prototype.render?r.__c=_=new O(C,M):(r.__c=_=new y(C,M),_.constructor=O,_.render=L),N&&N.sub(_),_.props=C,_.state||(_.state={}),_.context=M,_.__n=a,g=_.__d=!0,_.__h=[]),null==_.__s&&(_.__s=_.state),null!=O.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=u({},_.__s)),u(_.__s,O.getDerivedStateFromProps(C,_.__s))),b=_.props,w=_.state,g)null==O.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(null==O.getDerivedStateFromProps&&C!==b&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(C,M),!_.__e&&null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(C,_.__s,M)||r.__v===o.__v){_.props=C,_.state=_.__s,r.__v!==o.__v&&(_.__d=!1),_.__v=r,r.__e=o.__e,r.__k=o.__k,r.__k.forEach((function(e){e&&(e.__=r)})),_.__h.length&&s.push(_);break e}null!=_.componentWillUpdate&&_.componentWillUpdate(C,_.__s,M),null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(b,w,S)}))}_.context=M,_.props=C,_.state=_.__s,(v=t.__r)&&v(r),_.__d=!1,_.__v=r,_.__P=n,v=_.render(_.props,_.state,_.context),_.state=_.__s,null!=_.getChildContext&&(a=u(u({},a),_.getChildContext())),g||null==_.getSnapshotBeforeUpdate||(S=_.getSnapshotBeforeUpdate(b,w)),A=null!=v&&v.type===p&&null==v.key?v.props.children:v,x(n,Array.isArray(A)?A:[A],r,o,a,i,l,s,d,m),_.base=r.__e,r.__h=null,_.__h.length&&s.push(_),E&&(_.__E=_.__=null),_.__e=!1}else null==l&&r.__v===o.__v?(r.__k=o.__k,r.__e=o.__e):r.__e=function(t,n,r,o,a,i,l,s){var u,d,m,p=r.props,y=n.props,v=n.type,_=0;if("svg"===v&&(a=!0),null!=i)for(;_<i.length;_++)if((u=i[_])&&"setAttribute"in u==!!v&&(v?u.localName===v:3===u.nodeType)){t=u,i[_]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=a?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),i=null,s=!1}if(null===v)p===y||s&&t.data===y||(t.data=y);else{if(i=i&&e.call(t.childNodes),d=(p=r.props||c).dangerouslySetInnerHTML,m=y.dangerouslySetInnerHTML,!s){if(null!=i)for(p={},_=0;_<t.attributes.length;_++)p[t.attributes[_].name]=t.attributes[_].value;(m||d)&&(m&&(d&&m.__html==d.__html||m.__html===t.innerHTML)||(t.innerHTML=m&&m.__html||""))}if(function(e,t,n,r,o){var a;for(a in n)"children"===a||"key"===a||a in t||k(e,a,null,n[a],r);for(a in t)o&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||k(e,a,t[a],n[a],r)}(t,y,p,a,s),m)n.__k=[];else if(_=n.props.children,x(t,Array.isArray(_)?_:[_],n,r,o,a&&"foreignObject"!==v,i,l,i?i[0]:r.__k&&h(r,0),s),null!=i)for(_=i.length;_--;)null!=i[_]&&f(i[_]);s||("value"in y&&void 0!==(_=y.value)&&(_!==p.value||_!==t.value||"progress"===v&&!_)&&k(t,"value",_,p.value,!1),"checked"in y&&void 0!==(_=y.checked)&&_!==t.checked&&k(t,"checked",_,p.checked,!1))}return t}(o.__e,r,o,a,i,l,s,m);(v=t.diffed)&&v(r)}catch(n){r.__v=null,(m||null!=l)&&(r.__e=d,r.__h=!!m,l[l.indexOf(d)]=null),t.__e(n,r,o)}}function M(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function A(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function O(e,n,r){var o,a;if(t.unmount&&t.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||A(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){t.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&O(o[a],n,"function"!=typeof e.type);r||null==e.__e||f(e.__e),e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function T(n,r,o){var a,i,l;t.__&&t.__(n,r),i=(a="function"==typeof o)?null:o&&o.__k||r.__k,l=[],N(r,n=(!a&&o||r).__k=d(p,null,[n]),i||c,c,void 0!==r.ownerSVGElement,!a&&o?[o]:i?null:r.firstChild?e.call(r.childNodes):null,l,!a&&o?o:i?i.__e:r.firstChild,a),M(l,n)}function I(e,t){T(e,t,I)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=H(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}e=l.slice,t={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},r=0,y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},n),this.props)),e&&u(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),_(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_(this))},y.prototype.render=p,o=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0;var B,D,W,K,V,$,G,Q,J={},Y={},Z={},X={},ee=[],te=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ne(e,t){for(var n in t)e[n]=t[n];return e}function re(e){var t=e.parentNode;t&&t.removeChild(e)}function oe(e,t,n){var r,o,a,i={};for(a in t)"key"==a?r=t[a]:"ref"==a?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?B.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===i[a]&&(i[a]=e.defaultProps[a]);return ae(e,i,r,o,null)}function ae(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++W:o};return null==o&&null!=D.vnode&&D.vnode(a),a}function ie(e){return e.children}function ce(e,t){this.props=e,this.context=t}function le(e,t){if(null==t)return e.__?le(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?le(e):null}function se(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return se(e)}}function ue(e){(!e.__d&&(e.__d=!0)&&V.push(e)&&!fe.__r++||G!==D.debounceRendering)&&((G=D.debounceRendering)||$)(fe)}function fe(){for(var e;fe.__r=V.length;)e=V.sort((function(e,t){return e.__v.__b-t.__v.__b})),V=[],e.some((function(e){var t,n,r,o,a,i;e.__d&&(a=(o=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=ne({},o)).__v=o.__v+1,ge(i,o,r,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?le(o):a,o.__h),xe(n,o),o.__e!=a&&se(o)))}))}function de(e,t,n,r,o,a,i,c,l,s){var u,f,d,m,p,y,h,v=r&&r.__k||ee,_=v.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(m=n.__k[u]=null==(m=t[u])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?ae(null,m,null,null,m):Array.isArray(m)?ae(ie,{children:m},null,null,null):m.__b>0?ae(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(d=v[u])||d&&m.key==d.key&&m.type===d.type)v[u]=void 0;else for(f=0;f<_;f++){if((d=v[f])&&m.key==d.key&&m.type===d.type){v[f]=void 0;break}d=null}ge(e,m,d=d||X,o,a,i,c,l,s),p=m.__e,(f=m.ref)&&d.ref!=f&&(h||(h=[]),d.ref&&h.push(d.ref,null,m),h.push(f,m.__c||p,m)),null!=p?(null==y&&(y=p),"function"==typeof m.type&&m.__k===d.__k?m.__d=l=me(m,l,e):l=pe(e,m,d,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&d.__e==l&&l.parentNode!=e&&(l=le(d))}for(n.__e=y,u=_;u--;)null!=v[u]&&("function"==typeof n.type&&null!=v[u].__e&&v[u].__e==n.__d&&(n.__d=le(r,u+1)),we(v[u],v[u]));if(h)for(u=0;u<h.length;u++)be(h[u],h[++u],h[++u])}function me(e,t,n){for(var r,o=e.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=e,t="function"==typeof r.type?me(r,t,n):pe(n,r,r,o,r.__e,t));return t}function pe(e,t,n,r,o,a){var i,c,l;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(o),i=null;else{for(c=a,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==o)break e;e.insertBefore(o,a),i=a}return void 0!==i?i:o.nextSibling}function ye(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||te.test(t)?n:n+"px"}function he(e,t,n,r,o){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ye(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ye(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?_e:ve,a):e.removeEventListener(t,a?_e:ve,a);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function ve(e){this.l[e.type+!1](D.event?D.event(e):e)}function _e(e){this.l[e.type+!0](D.event?D.event(e):e)}function ge(e,t,n,r,o,a,i,c,l){var s,u,f,d,m,p,y,h,v,_,g,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(s=D.__b)&&s(t);try{e:if("function"==typeof x){if(h=t.props,v=(s=x.contextType)&&r[s.__c],_=s?v?v.props.value:s.__:r,n.__c?y=(u=t.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?t.__c=u=new x(h,_):(t.__c=u=new ce(h,_),u.constructor=x,u.render=Se),v&&v.sub(u),u.props=h,u.state||(u.state={}),u.context=_,u.__n=r,f=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=x.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=ne({},u.__s)),ne(u.__s,x.getDerivedStateFromProps(h,u.__s))),d=u.props,m=u.state,f)null==x.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==x.getDerivedStateFromProps&&h!==d&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(h,_),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(h,u.__s,_)||t.__v===n.__v){u.props=h,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&i.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(h,u.__s,_),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(d,m,p)}))}u.context=_,u.props=h,u.state=u.__s,(s=D.__r)&&s(t),u.__d=!1,u.__v=t,u.__P=e,s=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=ne(ne({},r),u.getChildContext())),f||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(d,m)),g=null!=s&&s.type===ie&&null==s.key?s.props.children:s,de(e,Array.isArray(g)?g:[g],t,n,r,o,a,i,c,l),u.base=t.__e,t.__h=null,u.__h.length&&i.push(u),y&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,a,i,c){var l,s,u,f=n.props,d=t.props,m=t.type,p=0;if("svg"===m&&(o=!0),null!=a)for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!m&&(m?l.localName===m:3===l.nodeType)){e=l,a[p]=null;break}if(null==e){if(null===m)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,d.is&&d),a=null,c=!1}if(null===m)f===d||c&&e.data===d||(e.data=d);else{if(a=a&&B.call(e.childNodes),s=(f=n.props||X).dangerouslySetInnerHTML,u=d.dangerouslySetInnerHTML,!c){if(null!=a)for(f={},p=0;p<e.attributes.length;p++)f[e.attributes[p].name]=e.attributes[p].value;(u||s)&&(u&&(s&&u.__html==s.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,o){var a;for(a in n)"children"===a||"key"===a||a in t||he(e,a,null,n[a],r);for(a in t)o&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||he(e,a,t[a],n[a],r)}(e,d,f,o,c),u)t.__k=[];else if(p=t.props.children,de(e,Array.isArray(p)?p:[p],t,n,r,o&&"foreignObject"!==m,a,i,a?a[0]:n.__k&&le(n,0),c),null!=a)for(p=a.length;p--;)null!=a[p]&&re(a[p]);c||("value"in d&&void 0!==(p=d.value)&&(p!==f.value||p!==e.value||"progress"===m&&!p)&&he(e,"value",p,f.value,!1),"checked"in d&&void 0!==(p=d.checked)&&p!==e.checked&&he(e,"checked",p,f.checked,!1))}return e}(n.__e,t,n,r,o,a,i,l);(s=D.diffed)&&s(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=c,t.__h=!!l,a[a.indexOf(c)]=null),D.__e(e,t,n)}}function xe(e,t){D.__c&&D.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){D.__e(e,t.__v)}}))}function be(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){D.__e(e,n)}}function we(e,t,n){var r,o;if(D.unmount&&D.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||be(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){D.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&we(r[o],t,"function"!=typeof e.type);n||null==e.__e||re(e.__e),e.__e=e.__d=void 0}function Se(e,t,n){return this.constructor(e,n)}function ke(e,t,n){var r,o,a;D.__&&D.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],ge(t,e=(!r&&n||t).__k=oe(ie,null,[e]),o||X,X,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?B.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r),xe(a,e)}B=ee.slice,D={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},W=0,K=function(e){return null!=e&&void 0===e.constructor},ce.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ne({},this.state),"function"==typeof e&&(e=e(ne({},n),this.props)),e&&ne(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),ue(this))},ce.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ue(this))},ce.prototype.render=ie,V=[],$="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fe.__r=0,Q=0,Z.render=ke,Z.hydrate=function e(t,n){ke(t,n,e)},Z.createElement=oe,Z.h=oe,Z.Fragment=ie,Z.createRef=function(){return{current:null}},Z.isValidElement=K,Z.Component=ce,Z.cloneElement=function(e,t,n){var r,o,a,i=ne({},e.props);for(a in t)"key"==a?r=t[a]:"ref"==a?o=t[a]:i[a]=t[a];return arguments.length>2&&(i.children=arguments.length>3?B.call(arguments,2):n),ae(e.type,i,r||e.key,o||e.ref,null)},Z.createContext=function(e,t){var n={__c:t="__cC"+Q++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(ue)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},Z.toChildArray=function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){e(t,n)})):n.push(t)),n},Z.options=D;var Ee,Ce,Ne,Me=Z,Ae=0,Oe=[],Le=Me.options.__b,Te=Me.options.__r,Ie=Me.options.diffed,Pe=Me.options.__c,qe=Me.options.unmount;function je(e,t){Me.options.__h&&Me.options.__h(Ce,e,Ae||t),Ae=0;var n=Ce.__H||(Ce.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ze(e){return Ae=1,Fe(Ve,e)}function Fe(e,t,n){var r=je(Ee++,2);return r.t=e,r.__c||(r.__=[n?n(t):Ve(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Ce),r.__}function He(e,t){var n=je(Ee++,4);!Me.options.__s&&Ke(n.__H,t)&&(n.__=e,n.__H=t,Ce.__h.push(n))}function Ue(e,t){var n=je(Ee++,7);return Ke(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Re(){var e;for(Oe.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=Oe.pop();)if(e.__P)try{e.__H.__h.forEach(De),e.__H.__h.forEach(We),e.__H.__h=[]}catch(t){e.__H.__h=[],Me.options.__e(t,e.__v)}}Me.options.__b=function(e){Ce=null,Le&&Le(e)},Me.options.__r=function(e){Te&&Te(e),Ee=0;var t=(Ce=e.__c).__H;t&&(t.__h.forEach(De),t.__h.forEach(We),t.__h=[])},Me.options.diffed=function(e){Ie&&Ie(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Oe.push(t)&&Ne===Me.options.requestAnimationFrame||((Ne=Me.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),Be&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Be&&(t=requestAnimationFrame(n))})(Re)),Ce=null},Me.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(De),e.__h=e.__h.filter((function(e){return!e.__||We(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Me.options.__e(n,e.__v)}})),Pe&&Pe(e,t)},Me.options.unmount=function(e){qe&&qe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{De(e)}catch(e){t=e}})),t&&Me.options.__e(t,n.__v))};var Be="function"==typeof requestAnimationFrame;function De(e){var t=Ce,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Ce=t}function We(e){var t=Ce;e.__c=e.__(),Ce=t}function Ke(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Ve(e,t){return"function"==typeof t?t(e):t}Y.useState=ze,Y.useReducer=Fe,Y.useEffect=function(e,t){var n=je(Ee++,3);!Me.options.__s&&Ke(n.__H,t)&&(n.__=e,n.__H=t,Ce.__H.__h.push(n))},Y.useLayoutEffect=He,Y.useRef=function(e){return Ae=5,Ue((function(){return{current:e}}),[])},Y.useImperativeHandle=function(e,t,n){Ae=6,He((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},Y.useMemo=Ue,Y.useCallback=function(e,t){return Ae=8,Ue((function(){return e}),t)},Y.useContext=function(e){var t=Ce.context[e.__c],n=je(Ee++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Ce)),t.props.value):e.__},Y.useDebugValue=function(e,t){Me.options.useDebugValue&&Me.options.useDebugValue(t?t(e):e)},Y.useErrorBoundary=function(e){var t=je(Ee++,10),n=ze();return t.__=e,Ce.componentDidCatch||(Ce.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]},function(e){var t=Y,n=Z;function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function a(e){this.props=e}function i(e,t){function r(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:o(this.props,e)}function a(t){return this.shouldComponentUpdate=r,n.createElement(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(a.prototype=new n.Component).isPureReactComponent=!0,a.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var c=n.options.__b;n.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var l="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function s(e){function t(t,n){var o=r({},t);return delete o.ref,e(o,(n=t.ref||n)&&("object"!=j(n)||"current"in n)?n:null)}return t.$$typeof=l,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var u=function(e,t){return null==e?null:n.toChildArray(n.toChildArray(e).map(t))},f={map:u,forEach:u,count:function(e){return e?n.toChildArray(e).length:0},only:function(e){var t=n.toChildArray(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:n.toChildArray},d=n.options.__e;n.options.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);d(e,t,n)};var m=n.options.unmount;function p(){this.__u=0,this.t=null,this.__b=null}function y(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function h(e){var t,r,o;function a(a){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){o=e})),o)throw o;if(!r)throw t;return n.createElement(r,a)}return a.displayName="Lazy",a.__f=!0,a}function v(){this.o=null,this.u=null}n.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),m&&m(e)},(p.prototype=new n.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=y(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(c):c())};n.__R=i;var c=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(i,i)},p.prototype.componentWillUnmount=function(){this.t=[]},p.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=r({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,o)}))),t}(this.__b,o,a.__O=a.__P)}this.__b=null}var i=t.__e&&n.createElement(n.Fragment,null,e.fallback);return i&&(i.__h=null),[n.createElement(n.Fragment,null,t.__e?null:e.children),i]};var _=function(e,t,n){if(++n[1]===n[0]&&e.u.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.u.size))for(n=e.o;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.o=n=n[2]}};function g(e){return this.getChildContext=function(){return e.context},e.children}function x(e){var t=this,r=e.i;t.componentWillUnmount=function(){n.render(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),n.render(n.createElement(g,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function b(e,t){return n.createElement(x,{__v:e,i:t})}(v.prototype=new n.Component).__e=function(e){var t=this,n=y(t.__v),r=t.u.get(e);return r[0]++,function(o){var a=function(){t.props.revealOrder?(r.push(o),_(t,e,r)):o()};n?n(a):a()}},v.prototype.render=function(e){this.o=null,this.u=new Map;var t=n.toChildArray(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.u.set(t[r],this.o=[1,0,this.o]);return e.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var e=this;this.u.forEach((function(t,n){_(e,n,t)}))};var w="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,S=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,k="undefined"!=typeof document,E=function(e){return("undefined"!=typeof Symbol&&"symbol"==j(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(e)};function C(e,t,r){return null==t.__k&&(t.textContent=""),n.render(e,t),"function"==typeof r&&r(),e?e.__c:null}function N(e,t,r){return n.hydrate(e,t),"function"==typeof r&&r(),e?e.__c:null}n.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(n.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var M=n.options.event;function A(){}function O(){return this.cancelBubble}function L(){return this.defaultPrevented}n.options.event=function(e){return M&&(e=M(e)),e.persist=A,e.isPropagationStopped=O,e.isDefaultPrevented=L,e.nativeEvent=e};var T,I={configurable:!0,get:function(){return this.class}},P=n.options.vnode;n.options.vnode=function(e){var t=e.type,r=e.props,o=r;if("string"==typeof t){var a=-1===t.indexOf("-");for(var i in o={},r){var c=r[i];k&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in r&&null==c||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===c?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!E(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():a&&S.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===c&&(c=void 0),o[i]=c)}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=n.toChildArray(r.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==t&&null!=o.defaultValue&&(o.value=n.toChildArray(r.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),e.props=o,r.class!=r.className&&(I.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",I))}e.$$typeof=w,P&&P(e)};var q=n.options.__r;n.options.__r=function(e){q&&q(e),T=e.__c};var z={ReactCurrentDispatcher:{current:{readContext:function(e){return T.__n[e.__c].props.value}}}};function F(e){return n.createElement.bind(null,e)}function H(e){return!!e&&e.$$typeof===w}function U(e){return H(e)?n.cloneElement.apply(null,arguments):e}function R(e){return!!e.__k&&(n.render(null,e),!0)}function B(e){return e&&(e.base||1===e.nodeType&&e)||null}var D=function(e,t){return e(t)},W=function(e,t){return e(t)},K=n.Fragment,V={useState:t.useState,useReducer:t.useReducer,useEffect:t.useEffect,useLayoutEffect:t.useLayoutEffect,useRef:t.useRef,useImperativeHandle:t.useImperativeHandle,useMemo:t.useMemo,useCallback:t.useCallback,useContext:t.useContext,useDebugValue:t.useDebugValue,version:"17.0.2",Children:f,render:C,hydrate:N,unmountComponentAtNode:R,createPortal:b,createElement:n.createElement,createContext:n.createContext,createFactory:F,cloneElement:U,createRef:n.createRef,Fragment:n.Fragment,isValidElement:H,findDOMNode:B,Component:n.Component,PureComponent:a,memo:i,forwardRef:s,flushSync:W,unstable_batchedUpdates:D,StrictMode:K,Suspense:p,SuspenseList:v,lazy:h,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:z};Object.keys(t).forEach((function(n){e[n]=t[n]})),e.createElement=n.createElement,e.createContext=n.createContext,e.createRef=n.createRef,e.Fragment=n.Fragment,e.Component=n.Component,e.version="17.0.2",e.Children=f,e.render=C,e.hydrate=N,e.unmountComponentAtNode=R,e.createPortal=b,e.createFactory=F,e.cloneElement=U,e.isValidElement=H,e.findDOMNode=B,e.PureComponent=a,e.memo=i,e.forwardRef=s,e.flushSync=W,e.unstable_batchedUpdates=D,e.StrictMode=K,e.Suspense=p,e.SuspenseList=v,e.lazy=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.default=V}(J);var $e=J;function Ge(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=n.size,o={setA:r,setB:r,union:r,intersection:r};return function(a){if(a===e)return o;var i=0;a.forEach((function(e){(t&&n.has(t(e))||!t&&n.has(e))&&i++}));var c=function(e){return e instanceof Set?e.size:e.length}(a);return{setA:r,setB:c,intersection:i,union:r+c-i}}}function Qe(e,t){var n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=Array.isArray(e)?e:Array.from(e),o={setA:r,setB:r,union:r,intersection:r};return function(a){if(a===e)return o;var i=[],c=r.slice();return a.forEach((function(e){t&&n.has(t(e))||!t&&n.has(e)?i.push(e):c.push(e)})),{setA:r,setB:Array.isArray(a)?a:Array.from(a),intersection:i,union:c}}}function Je(e){return Array.isArray(e.elems)}function Ye(e){return"function"==typeof e.overlap}function Ze(e){return null!=e.set}function Xe(e,t,n){if(Ye(e))return e.overlap;if(Ze(e)&&e.set.overlap)return e.set.overlap;var r=Ge(Je(e)?e.elems:e.set.elems,n);return function(n){return n.overlap&&Je(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&Ze(e)?n.overlap(e.set):r(n.elems)[t]}}function et(e,t,n){if(Ye(e))return function(){return null};if("intersection"===t){var r=function(e,t){var n=e instanceof Set?Array.from(e):e,r=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return function(o){if(o===e)return n;var a=[];return o.forEach((function(e){(t&&r.has(t(e))||!t&&r.has(e))&&a.push(e)})),a}}(Je(e)?e.elems:e.set.elems,n);return function(e){return r(e.elems)}}var o=Qe(Je(e)?e.elems:e.set.elems,n);return function(e){return o(e.elems)[t]}}function tt(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function nt(e){return tt(e)&&"set"===e.type}function rt(e){var t=e;return tt(e)&&["composite","union","intersection","distinctIntersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function ot(e){return nt(e)||rt(e)}function at(e){var t=e;return null!=e&&"string"==typeof t.name&&"string"==typeof t.color&&(Je(t)||Ze(t)||Ye(t))}function it(e,t){return e.name.localeCompare(t.name)}function ct(e,t){return t.cardinality-e.cardinality}function lt(e,t){return e.degree-t.degree}function st(e){return function(t,n){return-e(t,n)}}function ut(e){return function(t,n){var r=function(e){return e<0?Number.POSITIVE_INFINITY:e},o=r(e.findIndex((function(e){return t.sets.has(e)}))),a=r(e.findIndex((function(e){return n.sets.has(e)})));return o-a}}function ft(e,t){if(!t)return it;var n,r=Array.isArray(t)?t:[t];return 0===r.length?it:(n=r.map((function(t){switch(t){case"cardinality":case"cardinality:desc":return ct;case"cardinality:asc":return st(ct);case"name:desc":return st(it);case"degree":case"degree:asc":return lt;case"degree:desc":return st(lt);case"group":case"group:asc":return ut(e);case"group:desc":return st(ut(e));default:return it}})),function(e,t){return n.reduce((function(n,r){return 0===n?r(e,t):n}),0)})}function dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;return n.order&&(r=r.sort(ft(e,n.order))),null!=n.limit?r.slice(0,n.limit):r}function mt(e,t,n){var r=n(e);return Object.assign({type:t,cardinality:e.elems.length,sets:new Set(r),degree:r.length},e)}var pt={distinctIntersection:" ∩ ",intersection:" ∩ ",union:" ∪ ",composite:","};function yt(e){if(!e)return[255,255,255];var t=e.match(/#([\da-f]{2})([\da-f]{2})([\da-f]{2})/i);if(t)return[Number.parseInt(t[1],16),Number.parseInt(t[2],16),Number.parseInt(t[3],16)];var n=e.match(/\(([\d]+)[, ]([\d]+)[, ]([\d]+)\)/i);return n?[Number.parseInt(n[1],10),Number.parseInt(n[2],10),Number.parseInt(n[3],10)]:[255,255,255]}function ht(e){if(1===e.length)return e[0];if(!e.every((function(e){return null==e}))){var t=e.map(yt),n=Math.floor(t.reduce((function(e,t){return e+t[0]}),0)/t.length),r=Math.floor(t.reduce((function(e,t){return e+t[1]}),0)/t.length),o=Math.floor(t.reduce((function(e,t){return e+t[2]}),0)/t.length);return"#".concat(n.toString(16)).concat(r.toString(16)).concat(o.toString(16))}}function vt(e,t,n){var r=Array.from(e).sort((function(e,n){return t.get(e)-t.get(n)}));return 1===r.length?r[0].name:"(".concat(r.map((function(e){return e.name})).join(n),")")}function _t(e,t,n,r,o){return{type:0===n.size?"composite":e,elems:r,color:o(Array.from(n).map((function(e){return e.color}))),sets:n,name:t,cardinality:r.length,degree:n.size}}function gt(e,t,n,r,o,a,i){var c=new Set(e.sets);t.sets.forEach((function(e){return c.add(e)}));var l=vt(c,o,pt[a]);if(0===e.cardinality||0===t.cardinality)return _t(a,l,c,[],i);var s=e,u=t;e.cardinality>t.cardinality&&(s=t,u=e);for(var f=new Set,d=n.get(u),m=[],p=s.elems.length,y=0;y<p;y++){var h=s.elems[y],v=r(h);d.has(v)&&(f.add(v),m.push(h))}var _=_t(a,l,c,m,i);return n.set(_,f),_}function xt(e,t,n,r,o,a,i){var c=new Set(e.sets);t.sets.forEach((function(e){return c.add(e)}));var l=vt(c,o,pt[a]);if(0===e.cardinality){var s=_t(a,l,c,t.elems,i);return n.set(s,n.get(t)),s}if(0===t.cardinality){var u=_t(a,l,c,e.elems,i);return n.set(u,n.get(e)),u}var f=e,d=t;e.cardinality>t.cardinality&&(f=t,d=e);var m=new Set(n.get(d)),p=n.get(d),y=d.elems.slice();f.elems.forEach((function(e){var t=r(e);p.has(t)||(m.add(t),y.push(e))}));var h=_t(a,l,c,y,i);return n.set(h,m),h}function bt(e,t,n,r,o,a){if("number"==typeof t)return{type:"composite",elems:[],color:a?a([]):void 0,sets:new Set,name:"()",cardinality:t,overlap:function(e){return e===this||ot(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0};if(Array.isArray(t))return _t(e,"()",new Set,t,a);var i=Array.from(r.values()),c=n.filter((function(e){var t=o(e);return i.every((function(e){return!e.has(t)}))}));return _t(e,"()",new Set,c,a)}function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=void 0===n?"intersection":n,o=t.min,a=void 0===o?0:o,i=t.max,c=void 0===i?Number.POSITIVE_INFINITY:i,l=t.empty,s=void 0!==l&&l,u=t.elems,f=void 0===u?[]:u,d=t.notPartOfAnySet,m=t.toElemKey,p=t.mergeColors,y=void 0===p?ht:p,h=[],v=new Map(e.map((function(e,t){return[e,t]}))),_=new Map(e.map((function(e){return[e,m?new Set(e.elems.map(m)):new Set(e.elems)]}))),g=m?null:_,x=m?_:null,b="union"===r?xt:gt;function w(t){if(!(t.degree<a||t.degree>c||0===t.cardinality&&!s))if("distinctIntersection"===r){var n=e.filter((function(e){return!t.sets.has(e)})),o=[];if(m){var i=n.map((function(e){return x.get(e)}));o=t.elems.filter((function(e){var t=m(e);return i.every((function(e){return!e.has(t)}))}))}else{var l=n.map((function(e){return g.get(e)}));o=t.elems.filter((function(e){return l.every((function(t){return!t.has(e)}))}))}if(o.length!==t.cardinality){var u=_t(r,t.name,t.sets,o,y);(0!==u.cardinality||s)&&h.push(u)}else h.push(t)}else h.push(t)}function S(e,t,n,o){if(!(t>c))for(var a=e.length,i=0;i<a;i++){for(var l=e[i],u=[],f=i+1;f<a;f++){var d=e[f],m=b(l,d,n,o,v,r,y);w(m),("union"===r||m.cardinality>0||s)&&u.push(m)}u.length>1&&S(u,t+1,n,o)}}a<=0&&w(m?bt(r,d,f,x,m,y):bt(r,d,f,g,(function(e){return e}),y));var k=e.map((function(e){var t=_t(r,e.name,new Set([e]),e.elems,y);return _.set(t,_.get(e)),w(t),t}));return m?S(k,2,x,m):S(k,2,g,(function(e){return e})),dt(e,h,t)}function St(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function kt(e){return"".concat(e.name,":").concat(e.type,"#").concat(e.cardinality)}function Et(e){return 0===e.sets.size}function Ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,r={done:null,aKey:"",bKey:"",aIsSet:!1,bIsSet:!1,toKey:n};return e===t?(r.done=e.cardinality,r):0===e.cardinality||0===t.cardinality?(r.done=0,r):(r.aKey=n(e),r.bKey=n(t),r.aKey===r.bKey?(r.done=e.cardinality,r):(r.aIsSet=nt(e),r.bIsSet=nt(t),!r.aIsSet&&Et(e)||!r.bIsSet&&Et(t)?(r.done=0,r):r))}function Nt(e,t){return!(t.bIsSet||!t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.aKey)}function Mt(e,t){return!(!t.bIsSet||t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.bKey)}function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;return e.map((function(e){var n=Array.from(e.sets).map(t).sort();return{key:n.join("&"),s:n,sets:new Set(n),degree:e.degree,cardinality:e.cardinality}}))}function Ot(e,t,n){var r=new Set;if(n.aIsSet)r.add(n.aKey);else for(var o=0,a=Array.from(e.sets);o<a.length;o++){var i=a[o];r.add(n.toKey(i))}if(n.bIsSet)r.add(n.bKey);else for(var c=0,l=Array.from(t.sets);c<l.length;c++){var s=l[c];r.add(n.toKey(s))}return Array.from(r).sort().join("&")}function Lt(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,o=new Map,a=R(At(e,r));try{for(a.s();!(n=a.n()).done;){var i,c=n.value,l=R(c.s);try{for(l.s();!(i=l.n()).done;){var s=i.value;o.has(s)?o.get(s).push(c):o.set(s,[c])}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return function(e,n){var a=Ct(e,n,r);if(null!=a.done)return a.done;if(!a.aIsSet&&!a.bIsSet)return 0;if(a.aIsSet&&!a.bIsSet)return Nt(n,a)?n.cardinality:0;if(!a.aIsSet&&a.bIsSet)return Mt(e,a)?e.cardinality:0;var i=o.get(a.aKey),c=o.get(a.bKey);return i&&c?i.length<c.length?i.reduce((function(e,t){return e+(t.sets.has(a.bKey)?t.cardinality:0)}),0):c.reduce((function(e,t){return e+(t.sets.has(a.aKey)?t.cardinality:0)}),0):t(e,n)}}function Tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,r=new Map(At(e,n).map((function(e){return[e.key,e.cardinality]})));return function(e,o){var a=Ct(e,o,n);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&Nt(o,a))return o.cardinality;if(!a.aIsSet&&a.bIsSet&&Mt(e,a))return e.cardinality;var i=Ot(e,o,a);return r.has(i)?r.get(i):t(e,o)}}function It(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,r=new Map(At(e,n).map((function(e){return[e.key,e.cardinality]})));return function(e,o){var a=Ct(e,o,n);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&Nt(o,a))return e.cardinality;if(!a.aIsSet&&a.bIsSet&&Mt(e,a))return o.cardinality;var i=Ot(e,o,a);return r.has(i)?e.cardinality+o.cardinality-r.get(i):t(e,o)}}function Pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt;if(0===e.length)return t;var r=e[0].type;if(e.some((function(e){return e.type!==r})))return t;switch(r){case"union":return It(e,t,n);case"intersection":return Tt(e,t,n);case"distinctIntersection":return Lt(e,t,n)}return t}function qt(e){if(0===e.length)return"";var t=e.length,n=e.flat();return"".concat(t,";").concat(function(e){if(0===e.length)return"";for(var t=[],n=e[0],r=1,o=1;o<e.length;o++){var a=e[o];a===n?r++:(r>1?t.push("".concat(n,"=").concat(r-1)):0===n?t.push(""):t.push(n.toString()),n=a,r=1)}return r>1?t.push("".concat(n,"=").concat(r)):0===n?t.push(""):t.push(n.toString()),t.join(",")}(n))}function jt(e){if(0===e.length)return[];for(var t,n=F(e.split(";"),2),r=n[0],o=n[1],a=Number.parseInt(r,10),i=0===(t=o).length?[]:t.split(",").map((function(e){if(""===e)return 0;if(e.includes("=")){var t=F(e.split("=").map((function(e){return Number.parseInt(e,10)})),2),n=t[0],r=t[1];return Array(r+1).fill(n)}return Number.parseInt(e,10)})).flat(),c=[],l=0,s=a;s>0;s--)c.push(i.slice(l,l+s)),l+=s;return c}function zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.toElemKey,o=n.what,a=void 0===o?"intersection":o,i=n.compress,c=void 0===i?"auto":i,l=e.concat(t);function s(e){if(e.overlap)return e.overlap;var t=Ge(e.elems,r);return function(n){return n.overlap?n.overlap(e):t(n.elems)[a]}}var u=l.map((function(e,t){for(var n=s(e),r=[],o=t+1;o<l.length;o++)r.push(n(l[o]));return r}));if(u.pop(),"no"===c)return u;var f=qt(u);if("yes"===c)return f;var d=JSON.stringify(u).length,m=f.length+2;return m<.6*d?f:u}function Ft(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kt,o="string"==typeof e?jt(e):e,a=new Map(t.map((function(e,t){return[r(e),t]}))),i=new Map(n.map((function(e,n){return[r(e),n+t.length]}))),c=function(e,t){if(e===t)return e.cardinality;var n=r(e),c=r(t),l=a.has(n)?a.get(n):i.get(n),s=a.has(c)?a.get(c):i.get(c);if(l===s)return e.cardinality;var u=Math.min(l,s),f=Math.max(l,s)-u-1;return u<0||u>=o.length||f<0||f>=o[u].length?0:o[u][f]};return{setIndex:a,compute:c,combinationIndex:i}}var Ht=function(e,t,n){var r=e.length+n,o=t/Math.max(1,r),a=t-o*e.length,i=new Map(e.map((function(e,t){return[e,t]}))),c=o/(1+n),l=function(e){var t=i.get(e);if(null!=t)return a+o*t};return l.bandwidth=function(){return c},l};function Ut(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0;r<e.length-n;r+=n){var o=e[r],a=e[r+1];if(o<a){var i=o+t[r]/2,c=a-t[r+1]/2;if(i>c)return!0}else{var l=o-t[r]/2,s=a+t[r+1]/2;if(s>l)return!0}}return!1}function Rt(e,t,n,r,o){var a=e[e.length-1];if(!a.label)for(var i=e.length-2;i>0;--i)if(e[i].label){a=e[i];break}if(a.value<t){var c=n(a.value),l=n(t);if(c<l)c+r(a.value)/2<l-r(t)/2&&e.push({value:t,label:o(t)});else{var s=c-r(a.value)/2;l+r(t)/2<s&&e.push({value:t,label:o(t)})}}return e}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.map((function(e,r){return{value:e,label:1===n||r%n==0?t(e):void 0}}))}function Dt(e,t,n,r,o){var a=e.map((function(e){return t(e)})),i=e.map((function(e){return n(e)}));return Ut(a,i)&&Ut(a,i,2)?null:Rt(Bt(e,o),r,t,n,o)}function Wt(e){return e.toLocaleString()}function Kt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=0;r<=e;r+=t)n.push(r);return n}function Vt(e,t,n,r){if(t<=0)return[];for(var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=Math.max(0,Math.floor(Math.log10(e)-.5)),r=Math.pow(10,n),o=[1,2,5],a=o.map((function(e){return e*r}));n>0&&a.unshift(o[o.length-1]*Math.pow(10,n-1)),a.push(o[0]*Math.pow(10,n+1));var i=Math.ceil(e/t);return a.filter((function(t){return t>=i&&t<=e}))}(e,t),a=0;a<o.length;a++){var i=Dt(Kt(e,o[a]),n,r,e,Wt);if(i)return i}return Bt([0,e],Wt)}var $t=function(e,t,n){var r=t[1]-t[0],o=e,a=function(e){var n=Math.max(0,Math.min(e,o))/o;return t[0]+n*r};return a.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if("vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return Vt(e,t+1,a,(function(){return r}))}var o=n.fontSizeHint/1.4;return Vt(e,t+1,a,(function(e){return Math.ceil(Wt(e).length*o)}))},a.tickFormat=function(){return Wt},a};function Gt(e){var t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1)),r=Math.round(e/Math.pow(10,3*n-1))/10;return"".concat(r.toLocaleString()).concat(t[n])}function Qt(e,t){for(var n=[],r=Math.pow(10,t),o=1;o<=e;o*=r)n.push(o);return n}function Jt(e,t){for(var n=[],r=1,o=0;r<=e;r*=10,o++){n.push({value:r,label:1===t||o%t==0?Gt(r):void 0});for(var a=r+r;a<10*r&&a<e;a+=r*t)n.push({value:a})}return n}function Yt(e,t,n,r){if(t<=0)return[];for(var o=0,a=[1,2,5];o<a.length;o++){var i=a[o];if(Dt(Qt(e,i),n,r,e,Gt))return Rt(Jt(e,i),e,n,r,Gt)}return Bt([0,e],Gt)}var Zt=function(e,t,n){var r=t[1]-t[0],o=e<1?1:Math.log10(e),a=function(e){var n=Math.max(0,Math.min(e,o)),a=n<=1?0:Math.log10(n)/o;return t[0]+a*r};return a.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if("vertical"===n.orientation){var r=Math.ceil(1.4*n.fontSizeHint);return Yt(e,t+1,a,(function(){return r}))}var o=n.fontSizeHint/1.4;return Yt(e,t+1,a,(function(e){return Math.ceil(Gt(e).length*o)}))},a.tickFormat=function(){return Gt},a};function Xt(e){if(0===e.length)return"";for(var t=[],n=0,r=function(r){return r===n+1?t.push(e[n].toString()):r===n+2&&r<10?t.push("".concat(e[n],",").concat(e[n+1])):t.push("".concat(e[n],"+").concat(r-n-1)),r},o=1;o<e.length;o++){var a=e[o-1]+1;e[o]!==a&&(n=r(o),n=o)}return r(e.length),t.join(",")}function en(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sortAble,o=n.compress,a=void 0===o?"auto":o;if(0===e.length)return[];var i=e.map((function(e){return t(e)}));if("no"===a)return i;r&&i.sort((function(e,t){return e-t}));var c=Xt(i),l=JSON.stringify(i).length,s=c.length+2;return s<.6*l||l-s>50||"yes"===a&&s<l?c:i}function tn(e,t){return"string"==typeof e?0===e.length?[]:e.split(",").map((function(e){if(e.includes("+")){var n=F(e.split("+").map((function(e){return Number.parseInt(e,10)})),2),r=n[0],o=n[1];return t.slice(r,r+o+1)}return t[Number.parseInt(e,10)]})).flat():e.map((function(e){return t[e]}))}function nn(e,t){return t.color&&(e.color=t.color),e}function rn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({sortAble:!0},n),o=null!==(t=n.toKey)&&void 0!==t?t:kt,a=new Map(e.sets.map((function(e,t){return[o(e),t]}))),i=new Map(e.combinations.map((function(e,t){return[o(e),t]}))),c=function(t){if("set"===t.type)return{type:t.type,index:a.get(o(t))};var n=i.get(o(t));return null==n||n<0?en(t.elems,e.toElemIndex,r):{type:t.type,index:n}},l=e.sets.map((function(e,t){return{key:o(e),i:t}}));return{sets:e.sets.map((function(t){return nn({name:t.name,cardinality:t.cardinality,elems:en(t.elems,e.toElemIndex,r)},t)})),combinations:"no"===n.compress?e.combinations.map((function(t){var n=new Set(Array.from(t.sets).map(o));return nn({name:t.name,type:t.type,cardinality:t.cardinality,degree:t.degree,sets:l.filter((function(e){var t=e.key;return n.has(t)})).map((function(e){return e.i})),elems:en(t.elems,e.toElemIndex,r)},t)})):void 0,combinationOptions:e.combinationOptions,selection:e.selection?Array.isArray(e.selection)?en(e.selection,e.toElemIndex,r):c(e.selection):void 0,queries:e.queries.map((function(t){var n=Ze(t)?c(t.set):en(Array.from(t.elems),e.toElemIndex,r);return{name:t.name,color:t.color,set:"string"==typeof n||Array.isArray(n)?void 0:n,elems:"string"==typeof n||Array.isArray(n)?n:void 0}}))}}function on(e,t){return 1===e.length?e[0].name:"(".concat(e.map((function(e){return e.name})).join(pt[t]),")")}function an(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(t=n.toKey)&&void 0!==t?t:kt,o=new Map(e.sets.map((function(e,t){return[r(e),t]}))),a=new Map(e.combinations.map((function(e,t){return[r(e),t]}))),i=function(t){if(ot(t)){if("set"===t.type)return{type:t.type,index:o.get(r(t))};var n=a.get(r(t));if(null!=n&&n>=0)return{type:t.type,index:n}}var i=Ge(ot(t)?t.elems:t);return e.sets.map((function(e){return i(e.elems).intersection})).concat(e.combinations.map((function(e){return i(e.elems).intersection})))},c=new Map(e.sets.map((function(e,t){return[r(e),t]}))),l=zt(e.sets,e.combinations,n),s="yes"===n.compress,u=function(t){var n=Array.from(t.sets).map((function(e){return c.get(r(e))})).sort((function(e,t){return e-t})),o={c:t.cardinality,s:n.reduce((function(e,t){return e+Math.pow(2,t)}),0)};return t.name!==on(n.map((function(t){return e.sets[t]})),t.type)&&(o.n=t.name),"intersection"!==t.type&&(o.type=t.type[0]),t.color&&(o.cc=t.color),o};return{sets:s?e.sets.map((function(e){return{n:e.name,cc:e.color,c:e.cardinality}})):e.sets.map((function(e){return nn({name:e.name,cardinality:e.cardinality},e)})),combinations:s?e.combinations.map(u):e.combinations.map((function(e){return nn({name:e.name,cardinality:e.cardinality,type:e.type,sets:Array.from(e.sets).map((function(e){return c.get(r(e))})).sort((function(e,t){return e-t}))},e)})),overlaps:l,selection:e.selection?i(e.selection):void 0,queries:e.queries.map((function(t){if(Ze(t)){var n=i(t.set);return Array.isArray(n)?{name:t.name,color:t.color,overlaps:n}:{name:t.name,color:t.color,set:n}}var r=Ge(t.elems),o=e.sets.map((function(e){return r(e.elems).intersection})).concat(e.combinations.map((function(e){return r(e.elems).intersection})));return{name:t.name,color:t.color,overlaps:o}}))}}function cn(e){return"number"==typeof e.c}function ln(e){return"number"==typeof e.c}var sn={exports:{}};!function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach((function(t){i.push(e(t))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},c={},l="",s="",u="",f=2,d=3,m=2,p=[],y=0,h=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=d++,c[l]=!0),s=u+l,Object.prototype.hasOwnProperty.call(i,s))u=s;else{if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)y<<=1,h==t-1?(h=0,p.push(n(y)),y=0):h++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}else{for(o=1,r=0;r<m;r++)y=y<<1|o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;0==--f&&(f=Math.pow(2,m),m++),i[s]=d++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(c,u)){if(u.charCodeAt(0)<256){for(r=0;r<m;r++)y<<=1,h==t-1?(h=0,p.push(n(y)),y=0):h++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}else{for(o=1,r=0;r<m;r++)y=y<<1|o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1}0==--f&&(f=Math.pow(2,m),m++),delete c[u]}else for(o=i[u],r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;0==--f&&(f=Math.pow(2,m),m++)}for(o=2,r=0;r<m;r++)y=y<<1|1&o,h==t-1?(h=0,p.push(n(y)),y=0):h++,o>>=1;for(;;){if(y<<=1,h==t-1){p.push(n(y));break}h++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,a,i,c,l,s,u,f=[],d=4,m=4,p=3,y="",h=[],v={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)f[o]=o;for(i=0,l=Math.pow(2,2),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;u=e(i);break;case 2:return""}for(f[3]=u,a=u,h.push(u);;){if(v.index>t)return"";for(i=0,l=Math.pow(2,p),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;switch(u=i){case 0:for(i=0,l=Math.pow(2,8),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 1:for(i=0,l=Math.pow(2,16),s=1;s!=l;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),i|=(c>0?1:0)*s,s<<=1;f[m++]=e(i),u=m-1,d--;break;case 2:return h.join("")}if(0==d&&(d=Math.pow(2,p),p++),f[u])y=f[u];else{if(u!==m)return null;y=a+a.charAt(0)}h.push(y),f[m++]=a+y.charAt(0),a=y,0==--d&&(d=Math.pow(2,p),p++)}}};return a}();null!=e&&(e.exports=t)}(sn);var un=sn.exports;function fn(e){return Array.from(e.classList).find((function(e){return e.startsWith("root-")})).slice("root-".length)}function dn(e,t){var n,r;return null!==(r=null===(n=e.querySelector("titleTextStyle-".concat(t)))||void 0===n?void 0:n.textContent)&&void 0!==r?r:"UpSetJS"}function mn(e,t){var n,r;return null!==(r=null===(n=e.querySelector("descTextStyle-".concat(t)))||void 0===n?void 0:n.textContent)&&void 0!==r?r:""}var pn={},yn=[],hn={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px",description:"16px",title:"24px",valueLabel:"12px",exportLabel:"10px"},vn=[.18,.12,.7],_n=[.6,.4],gn={type:"intersection",order:["cardinality:desc","name:asc"]},xn=Object.keys(hn),bn=["axisTick","bar","barLabel","chartLabel","dot","legend","title","description","setLabel","set","valueLabel"],wn=["dump","png","share","svg","vega"],Sn=[.7,.4],kn=[.15,.3],En={sets:[],intersections:[],bb:{x:0,y:0,width:10,height:10}},Cn={sets:[{cx:0,cy:0,r:5,text:{x:3.5,y:-4},align:"start",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:5,arcs:[{mode:"i",ref:0,x2:0,y2:-5,sweep:!1,large:!1},{mode:"i",ref:0,x2:0,y2:5,sweep:!1,large:!1}],text:{x:0,y:0}}],bb:{x:-5,y:-5,width:10,height:10}},Nn={sets:[{cx:-4,cy:0,r:5,text:{x:-7.5,y:4},align:"end",verticalAlign:"top"},{cx:4,cy:0,r:5,text:{x:7.5,y:-4},align:"start",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:-3,arcs:[{mode:"i",ref:0,x2:0,y2:3,sweep:!1,large:!0},{mode:"o",ref:1,x2:0,y2:-3,sweep:!0,large:!1}],text:{x:-4,y:0}},{sets:[1],x1:0,y1:3,arcs:[{mode:"i",ref:1,x2:0,y2:-3,sweep:!1,large:!0},{mode:"o",ref:0,x2:0,y2:3,sweep:!0,large:!1}],text:{x:4,y:0}},{sets:[0,1],x1:0,y1:3,arcs:[{mode:"i",ref:0,x2:0,y2:-3,sweep:!1,large:!1},{mode:"i",ref:1,x2:0,y2:3,sweep:!1,large:!1}],text:{x:0,y:0}}],bb:{x:-9,y:-5,width:18,height:10}},Mn={sets:[{cx:-3.464,cy:-2,r:5,text:{x:-7,y:-6},align:"end"},{cx:3.464,cy:-2,r:5,text:{x:7,y:-6},align:"start"},{cx:0,cy:4,r:5,text:{x:4,y:7.5},align:"start",verticalAlign:"top"}],intersections:[{sets:[0],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:-5.606,sweep:!0,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!1,large:!0}],text:{x:-4.216,y:-2.434}},{sets:[1],x1:0,y1:-5.606,arcs:[{mode:"o",ref:0,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:2,x2:4.855,y2:2.803,sweep:!0,large:!1},{mode:"i",ref:1,x2:0,y2:-5.606,sweep:!1,large:!0}],text:{x:4.216,y:-2.434}},{sets:[2],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:0,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"o",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1},{mode:"i",ref:2,x2:-4.855,y2:2.803,sweep:!0,large:!0}],text:{x:0,y:4.869}},{sets:[0,1],x1:0,y1:-5.606,arcs:[{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:0,x2:0,y2:-5.606,sweep:!1,large:!1}],text:{x:0,y:-2.404}},{sets:[0,2],x1:-4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!0,large:!1}],text:{x:-2.082,y:1.202}},{sets:[1,2],x1:4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1}],text:{x:2.082,y:1.202}},{sets:[0,1,2],x1:1.39,y1:-.803,arcs:[{mode:"i",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1}],text:{x:0,y:0}}],bb:{x:-8.464,y:-7,width:16.928,height:16}},An={sets:[{cx:.439,cy:-1.061,rx:2.5,ry:5,rotation:45,text:{x:4.5,y:-4.5},align:"start",verticalAlign:"bottom"},{cx:2.561,cy:1.061,rx:2.5,ry:5,rotation:45,text:{x:4,y:3.75},align:"start",verticalAlign:"top"},{cx:-2.561,cy:1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4,y:3.7},align:"end",verticalAlign:"top"},{cx:-.439,cy:-1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4.5,y:-4.5},align:"end",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:-3.94,arcs:[{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.179,y2:-1.858,large:!1},{ref:3,mode:"o",x2:0,y2:-3.94,large:!1}],text:{x:2.914,y:-3.536}},{sets:[1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:0,y2:5.006,sweep:!0,large:!0},{ref:2,mode:"o",x2:1.328,y2:2.828},{ref:3,mode:"o",x2:3.108,y2:-.328},{ref:0,mode:"o",x2:4.328,y2:-2.828}],text:{x:5.036,y:-1.414}},{sets:[2],x1:0,y1:5.006,arcs:[{ref:2,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!0},{ref:3,mode:"o",x2:-3.108,y2:-.328},{ref:0,mode:"o",x2:-1.328,y2:2.828},{ref:1,mode:"o",x2:0,y2:5.006}],text:{x:-5.036,y:-1.414}},{sets:[3],x1:-4.328,y1:-2.828,arcs:[{ref:3,mode:"i",x2:0,y2:-3.94,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2.179,y2:-1.858,large:!1},{ref:2,mode:"o",x2:-4.328,y2:-2.828,large:!1}],text:{x:-2.914,y:-3.536}},{sets:[0,1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1}],text:{x:3.205,y:-1.672}},{sets:[0,2],x1:-1.328,y1:2.828,arcs:[{ref:0,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.969,y2:1.755,large:!1},{ref:1,mode:"o",x2:-1.328,y2:2.828,large:!1}],text:{x:-2.212,y:1.591}},{sets:[0,3],x1:0,y1:-3.94,arcs:[{ref:3,mode:"i",x2:2.179,y2:-1.858,sweep:!0,large:!1},{ref:1,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:2,mode:"o",x2:-2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:0,y2:-3.94,sweep:!0}],text:{x:0,y:-1.87}},{sets:[1,2],x1:1.328,y1:2.828,arcs:[{ref:2,mode:"i",x2:0,y2:5.006,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:0,mode:"o",x2:0,y2:2.346,large:!1},{ref:3,mode:"o",x2:1.328,y2:2.828}],text:{x:0,y:3.393}},{sets:[1,3],x1:3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1},{ref:2,mode:"o",x2:.969,y2:1.755,large:!1},{ref:1,mode:"i",x2:3.108,y2:-.328,large:!1}],text:{x:2.212,y:1.591}},{sets:[2,3],x1:-3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!1},{ref:2,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:0,mode:"o",x2:-3.108,y2:-.328,large:!1}],text:{x:-3.205,y:-1.672}},{sets:[0,1,2],x1:0,y1:2.346,arcs:[{ref:0,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:1,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:3,mode:"o",x2:0,y2:2.346,large:!1}],text:{x:-.766,y:2.31}},{sets:[0,1,3],x1:2.179,y1:-1.858,arcs:[{ref:3,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:2,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:1,mode:"i",x2:2.179,y2:-1.858,sweep:!0}],text:{x:1.558,y:-.056}},{sets:[0,2,3],x1:-.969,y1:1.755,arcs:[{ref:3,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:2,mode:"i",x2:0,y2:.188,sweep:!0,large:!1},{ref:1,mode:"o",x2:-.969,y2:1.755}],text:{x:-1.558,y:-.056}},{sets:[1,2,3],x1:1.328,y1:2.828,arcs:[{ref:3,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:0,mode:"o",x2:.969,y2:1.755,sweep:!1,large:!1},{ref:2,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1}],text:{x:.766,y:2.31}},{sets:[0,1,2,3],x1:0,y1:.188,arcs:[{ref:2,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:0,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:1,mode:"i",x2:0,y2:.188,sweep:!0}],text:{x:0,y:1.43}}],bb:{x:-6.5,y:-5,width:13,height:10}},On={sets:[{cx:.5,cy:-1,rx:2.5,ry:5,rotation:0,text:{x:2.25,y:-5},align:"start",verticalAlign:"bottom"},{cx:1.106,cy:.167,rx:2.5,ry:5,rotation:72,text:{x:4.5,y:1.5},align:"start",verticalAlign:"top"},{cx:.183,cy:1.103,rx:2.5,ry:5,rotation:144,text:{x:4,y:4},align:"start",verticalAlign:"bottom"},{cx:-.992,cy:.515,rx:2.5,ry:5,rotation:216,text:{x:-4.7,y:2},align:"end",verticalAlign:"bottom"},{cx:-.797,cy:-.785,rx:2.5,ry:5,rotation:288,text:{x:-4,y:-3.6},align:"end",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:-1.653,y1:-3.541,arcs:[{ref:0,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.5,y2:-2.648,large:!1},{ref:3,mode:"o",x2:-.495,y2:-3.303,large:!1},{ref:4,mode:"o",x2:-1.653,y2:-3.541}],text:{x:.5,y:-5}},{sets:[1],x1:2.857,y1:-2.666,arcs:[{ref:1,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:2,mode:"o",x2:3.291,y2:1.559,large:!1},{ref:4,mode:"o",x2:2.988,y2:-1.492,large:!1},{ref:0,mode:"o",x2:2.857,y2:-2.666}],text:{x:4.91,y:-1.07}},{sets:[2],x1:3.419,y1:1.893,arcs:[{ref:2,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.466,y2:3.612,large:!1},{ref:0,mode:"o",x2:2.342,y2:2.381,large:!1},{ref:1,mode:"o",x2:3.419,y2:1.893}],text:{x:2.534,y:4.339}},{sets:[3],x1:-.744,y1:3.837,arcs:[{ref:3,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:4,mode:"o",x2:-3.579,y2:.673,large:!1},{ref:1,mode:"o",x2:-1.54,y2:2.963,large:!1},{ref:2,mode:"o",x2:-.744,y2:3.837}],text:{x:-3.343,y:3.751}},{sets:[4],x1:-3.879,y1:.478,arcs:[{ref:4,mode:"i",x2:-1.653,y2:-3.541,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:2,mode:"o",x2:-3.294,y2:-.549,large:!1},{ref:3,mode:"o",x2:-3.879,y2:.478}],text:{x:-4.601,y:-2.021}},{sets:[0,1],x1:2.5,y1:-2.648,arcs:[{ref:1,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:4,mode:"o",x2:2.572,y2:-1.839,large:!1},{ref:3,mode:"o",x2:2.5,y2:-2.648}],text:{x:2.741,y:-2.152}},{sets:[0,2],x1:2.342,y1:2.381,arcs:[{ref:0,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:3,mode:"o",x2:.257,y2:2.922,large:!1},{ref:1,mode:"o",x2:2.342,y2:2.381,large:!1}],text:{x:.5,y:3.5}},{sets:[0,3],x1:-.495,y1:-3.303,arcs:[{ref:3,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:1,mode:"o",x2:1.51,y2:-2.515,large:!1},{ref:4,mode:"o",x2:-.495,y2:-3.303,large:!1}],text:{x:1.653,y:-3.125}},{sets:[0,4],x1:-1.653,y1:-3.541,arcs:[{ref:4,mode:"i",x2:-.495,y2:-3.303,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:2,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:0,mode:"i",x2:-1.653,y2:-3.541}],text:{x:-1.199,y:-3.272}},{sets:[1,2],x1:3.291,y1:1.559,arcs:[{ref:2,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:1,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.544,y2:1.878,large:!1},{ref:4,mode:"o",x2:3.291,y2:1.559}],text:{x:2.894,y:1.942}},{sets:[1,3],x1:-1.54,y1:2.963,arcs:[{ref:1,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:4,mode:"o",x2:-2.7,y2:1.147,large:!1},{ref:2,mode:"o",x2:-1.54,y2:2.963,large:!1}],text:{x:-3.174,y:1.557}},{sets:[1,4],x1:2.988,y1:-1.492,arcs:[{ref:4,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.858,y2:.659,large:!1},{ref:0,mode:"o",x2:2.988,y2:-1.492,large:!1}],text:{x:3.483,y:.606}},{sets:[2,3],x1:-.466,y1:3.612,arcs:[{ref:3,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:2,mode:"i",x2:-1.54,y2:2.963,sweep:!0,large:!1},{ref:1,mode:"o",x2:-1,y2:3,large:!1},{ref:0,mode:"o",x2:-.466,y2:3.612}],text:{x:-.953,y:3.352}},{sets:[2,4],x1:-3.294,y1:-.549,arcs:[{ref:2,mode:"i",x2:-1.746,y2:-3.196,sweep:!0},{ref:0,mode:"o",x2:-1.925,y2:-2.213},{ref:3,mode:"o",x2:-3.294,y2:-.549}],text:{x:-2.462,y:-2.538}},{sets:[3,4],x1:-3.579,y1:.673,arcs:[{ref:4,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:3,mode:"i",x2:-3.294,y2:-.549,sweep:!0,large:!1},{ref:2,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:1,mode:"o",x2:-3.579,y2:.673}],text:{x:-3.483,y:.13}},{sets:[0,1,2],x1:2.544,y1:1.878,arcs:[{ref:0,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:1,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:3,mode:"o",x2:.983,y2:2.049,large:!1},{ref:4,mode:"o",x2:2.544,y2:1.878}],text:{x:1.457,y:2.331}},{sets:[0,1,3],x1:1.51,y1:-2.515,arcs:[{ref:1,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:4,mode:"o",x2:1.51,y2:-2.515,large:!1}],text:{x:2.194,y:-2.334}},{sets:[0,1,4],x1:2.572,y1:-1.839,arcs:[{ref:4,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.253,y2:-.302,large:!1},{ref:3,mode:"o",x2:2.572,y2:-1.839}],text:{x:2.667,y:-.665}},{sets:[0,2,3],x1:.257,y1:2.922,arcs:[{ref:3,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:1,mode:"o",x2:.257,y2:2.922,large:!1}],text:{x:-.403,y:3.178}},{sets:[0,2,4],x1:-1.746,y1:-3.196,arcs:[{ref:2,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:3,mode:"o",x2:-1.925,y2:-2.213,sweep:!1,large:!1},{ref:0,mode:"i",x2:-1.746,y2:-3.196,sweep:!0,large:!1}],text:{x:-1.542,y:-2.808}},{sets:[0,3,4],x1:-.495,y1:-3.303,arcs:[{ref:4,mode:"i",x2:1.51,y2:-2.515,sweep:!0,large:!1},{ref:1,mode:"o",x2:.409,y2:-2.236,large:!1},{ref:2,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:3,mode:"i",x2:-.495,y2:-3.303}],text:{x:.192,y:-2.742}},{sets:[1,2,3],x1:-1.54,y1:2.963,arcs:[{ref:2,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:4,mode:"o",x2:-1.645,y2:1.568,large:!1},{ref:0,mode:"o",x2:-1,y2:3,large:!1},{ref:1,mode:"i",x2:-1.54,y2:2.963}],text:{x:-1.767,y:2.106}},{sets:[1,2,4],x1:2.858,y1:.659,arcs:[{ref:2,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:4,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.858,y2:.659,large:!1}],text:{x:2.898,y:1.365}},{sets:[1,3,4],x1:-2.7,y1:1.147,arcs:[{ref:4,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:1,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:2,mode:"o",x2:-2.7,y2:1.147,large:!1}],text:{x:-3.147,y:.599}},{sets:[2,3,4],x1:-3.294,y1:-.549,arcs:[{ref:3,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2,y2:-1.08,large:!1},{ref:1,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:2,mode:"i",x2:-3.294,y2:-.549}],text:{x:-2.548,y:-1.029}},{sets:[0,1,2,3],x1:.983,y1:2.049,arcs:[{ref:3,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:4,mode:"o",x2:.983,y2:2.049}],text:{x:-.407,y:2.31}},{sets:[0,1,2,4],x1:2.253,y1:-.302,arcs:[{ref:2,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:4,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.253,y2:-.302}],text:{x:2.071,y:1.101}},{sets:[0,1,3,4],x1:1.51,y1:-2.515,arcs:[{ref:4,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:2,mode:"o",x2:.409,y2:-2.236,sweep:!1,large:!1},{ref:1,mode:"i",x2:1.51,y2:-2.515,sweep:!0}],text:{x:1.687,y:-1.63}},{sets:[0,2,3,4],x1:-2,y1:-1.08,arcs:[{ref:0,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:2,mode:"i",x2:.409,y2:-2.236,sweep:!0,large:!1},{ref:1,mode:"o",x2:-2,y2:-1.08}],text:{x:-1.028,y:-2.108}},{sets:[1,2,3,4],x1:-1.645,y1:1.568,arcs:[{ref:4,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:2,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:1,mode:"i",x2:-2,y2:-1.08,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.645,y2:1.568}],text:{x:-2.323,y:.327}},{sets:[0,1,2,3,4],x1:.409,y1:-2.236,arcs:[{ref:2,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:3,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:4,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2,y2:-1.08,sweep:!0},{ref:1,mode:"i",x2:.409,y2:-2.236,sweep:!0}],text:{x:0,y:0}}],bb:{x:-5.5,y:-6,width:11.6,height:11.8}};function Ln(e){return"number"==typeof e.rx}var Tn={maxSets:5,compute:function(e,t,n,r){return function(e,t,n){var r=[En,Cn,Nn,Mn,An,On],o=r[Math.min(r.length-1,e)],a=Math.min(t/o.bb.width,n/o.bb.height),i=a*-o.bb.x+(t-a*o.bb.width)/2,c=a*-o.bb.y+(n-a*o.bb.height)/2,l=function(e){return i+a*e},s=function(e){return c+a*e};return{sets:o.sets.map((function(e){return Object.assign({},e,{cx:l(e.cx),cy:s(e.cy),text:{x:l(e.text.x),y:s(e.text.y)}},Ln(e)?{rx:e.rx*a,ry:e.ry*a}:{r:e.r*a})})),intersections:o.intersections.map((function(e){return{text:{x:l(e.text.x),y:s(e.text.y)},x1:l(e.x1),y1:s(e.y1),sets:e.sets,arcs:e.arcs.map((function(e){return Object.assign({},e,{x2:l(e.x2),y2:s(e.y2)})}))}}))}}(e.length,n,r)}};var In={selectionColor:"#ffa500",color:"#000000",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!1},Pn={selectionColor:"#ffa500",color:"#cccccc",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"rgba(255, 255, 255, 0.2)",valueTextColor:"#ffffff",strokeColor:"#ffffff",backgroundColor:"#303030",filled:!1},qn={selectionColor:"#4c78a8",color:"#4c78a8",hasSelectionColor:"#c9d6e5",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!0};function jn(e){return"vega"===e?qn:"dark"===e?Pn:In}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=jn(t.theme);return Object.assign(e,{queryLegend:null!=t.queries&&t.queries.length>0,theme:"light",padding:20,selection:null,title:"",description:"",fontFamily:"sans-serif",queries:yn,exportButtons:!0,className:"",fontSizes:hn,classNames:pn,style:pn,styles:pn,toKey:kt,tooltips:!0},r,t,n,t.fontSizes?{fontSizes:Object.assign({},hn,t.fontSizes)}:pn)}function Fn(e){return e.toLocaleString()}function Hn(e){return function(e){return zn({barPadding:.3,dotPadding:.7,combinations:gn,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",widthRatios:vn,heightRatios:_n,setLabelAlignment:"center",numericScale:"linear",bandScale:"band",childrenFactories:pn,setAddons:yn,combinationAddons:yn,setAddonPadding:1,combinationAddonPadding:1,emptySelection:!0},e);var t}(e)}function Un(e,t){var n=e.cloneNode(!0);return n.style.backgroundColor=jn(e.dataset.theme).backgroundColor,t&&Array.from(n.querySelectorAll(t)).forEach((function(e){return e.remove()})),(new XMLSerializer).serializeToString(n)}function Rn(e,t){var n=t.type,r=void 0===n?"png":n,o=t.title,a=t.toRemove,i=new Blob([Un(e,a)],{type:"image/svg+xml;charset=utf-8"}),c=fn(e),l=null!=o?o:dn(e,c),s=URL.createObjectURL(i);return"svg"===r?(Bn(s,"".concat(l,".").concat(r),e.ownerDocument),URL.revokeObjectURL(s),Promise.resolve()):function(e,t){var n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;var o=n.getContext("2d"),a=new Image(n.width,n.height);return new Promise((function(t){a.onload=function(){o.drawImage(a,0,0);var e=n.toDataURL("image/png");t(e)},a.src=e}))}(s,e).then((function(t){Bn(t,"".concat(l,".").concat(r),e.ownerDocument),URL.revokeObjectURL(s)}))}function Bn(e,t,n){var r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,n.body.appendChild(r),r.click(),r.remove()}function Dn(e,t){var n,r,o,a,i,c=null!==(o=e.getComputedStyle||(null===(r=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getComputedStyle))&&void 0!==o?o:window.getComputedStyle,l=fn(e),s=null!=t?t:dn(e,l),u=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.setTextStyle-".concat(l)).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}})).reverse(),f=-Number.parseFloat(e.querySelector(".sBarTextStyle-".concat(l)).getAttribute("dx")),d=c(e.querySelector(".fillPrimary-".concat(l))).fill,m=c(e.querySelector(".fillNotMember-".concat(l))).fill,p=c(e.querySelector("text")).fill,y=e.querySelector(".cChartTextStyle-".concat(l)).textContent,h=e.querySelector(".sChartTextStyle-".concat(l)).textContent,v=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((function(e){return{name:e.querySelector("text.hoverBarTextStyle-".concat(l)).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(".fillPrimary-".concat(l," > title"))).map((function(e){return e.textContent}))}})),_=function(e){return Number.parseFloat(e.getAttribute("transform").match(/([\d.]+),/)[1])},g=e.querySelector("[data-upset=base]"),x=_(g),b=_(e.querySelector("[data-upset=csaxis]")),w=Number.parseFloat(g.querySelector("g").firstElementChild.children[1].getAttribute("x2")),S=function(e){return Number.parseFloat(e.getAttribute("transform").match(/,([\d.]+)/)[1])}(e.querySelector("[data-upset=setaxis]")),k=Number.parseFloat(e.querySelector("defs rect").getAttribute("width")),E=Number.parseFloat(e.querySelector("defs rect").getAttribute("height")),C=Number.parseFloat(e.querySelector("[data-cardinality] circle.fillPrimary-".concat(l)).getAttribute("r")),N=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),M=null!=e.querySelector("[data-upset=sets-q] [data-cardinality]"),A=N||M,O="orange";A&&(Array.from(e.querySelectorAll("[data-upset=sets-".concat(N?"s]":"q]:first-of-type"," [data-cardinality]"))).forEach((function(e){var t=u.length-Number.parseInt(e.dataset.i,10)-1;u[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll("[data-upset=cs-".concat(N?"s]":"q]:first-of-type"," [data-cardinality]"))).forEach((function(e){var t=Number.parseInt(e.dataset.i,10);v[t].selection=Number.parseInt(e.dataset.cardinality,10)})),O=c(e.querySelector("[data-upset=sets-".concat(N?"s":"q","] [data-cardinality]"))).fill);var L=Number.parseInt(null!==(i=null===(a=e.querySelector("[data-upset=cs-ss]"))||void 0===a?void 0:a.dataset.i)&&void 0!==i?i:"-1",10),T=L>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1};return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:s,description:mn(e,l),datasets:{sets:u,combinations:v.map((function(e,t){return Object.assign({},e,{partOf:L===t?2:1,nsets:[""]})})).concat(v.map((function(e){return{name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:u.filter((function(t){return!e.sets.includes(t.name)})).map((function(e){return e.name}))}})))},vconcat:[{hconcat:[{mark:"bar",width:b+k-40,height:S},{width:w,height:S,data:{name:"combinations"},transform:[{filter:T}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-f},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:O,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:y}}}]},{hconcat:[{width:b,height:E,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-f},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:O,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:h,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:k,height:E,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(c(e.querySelector(".setTextStyle-".concat(l))).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:w,height:E,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:C*C*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[m,d].concat(L>=0?[O]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null,scale:{domain:u.map((function(e){return e.name}))}}}},{mark:"rule",transform:[{filter:T},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:Object.assign({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},L<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[d,O]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:x,background:jn(e.dataset.theme).backgroundColor,concat:{spacing:0},view:{stroke:null},bar:{fill:d},circle:{opacity:1},rule:{stroke:d,strokeWidth:Number.parseInt(c(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:p,labelFontSize:Number.parseInt(c(e.querySelector(".axisTextStyle-".concat(l))).fontSize,10),titleColor:p,titleFontSize:Number.parseInt(c(e.querySelector(".cChartTextStyle-".concat(l))).fontSize,10)},title:{color:p},text:{fill:p,fontSize:Number.parseInt(c(e.querySelector(".sBarTextStyle-".concat(l))).fontSize,10)}}}}var Wn=["bandScale","numericScale"].concat(["selectionColor","color","textColor","hoverHintColor","notMemberColor","alternatingBackgroundColor","hasSelectionColor","hasSelectionOpacity","opacity","strokeColor","valueTextColor"],["padding","barPadding","dotPadding","widthRatios","heightRatios"],["fontSizes","combinationName","setName","barLabelOffset","setNameAxisOffset","combinationNameAxisOffset","theme","fontFamily","emptySelection","exportButtons","queryLegend"]);function Kn(e){var t,n=Hn({width:0,height:0,sets:null!==(t=e.sets)&&void 0!==t?t:[],combinations:e.combinations,theme:e.theme}),r={};return Wn.forEach((function(t){var o=e[t],a=n[t];if("theme"!==t||"light"===o){if(null!=o&&o!==a)if("fontSizes"===t){var i=!0,c={};xn.forEach((function(e){var t=o[e];t!==a[e]&&(c[e]=t,i=!1)})),i||(r[t]=c)}else r[t]=o}else r[t]=o})),r}function Vn(e,t,n,r,o){return Object.assign({$schema:"https://upset.js.org/schema.1.0.0.json",name:"string"==typeof n.title?n.title:"UpSetJS",description:"string"==typeof n.description?n.description:"",mode:o,author:r,elements:t,attrs:[],props:Kn(n)},e)}function $n(e,t,n,r){return Object.assign({$schema:"https://upset.js.org/schema-static.1.0.0.json",name:"string"==typeof t.title?t.title:"UpSetJS",description:"string"==typeof t.description?t.description:"",mode:r,author:n,props:Kn(t)},e)}function Gn(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=[],c=new Map,l=function(e){return c.has(e)?c.get(e):(c.set(e,i.length),i.push(e),i.length-1)},s=rn({sets:e.sets,queries:null!==(r=null===(n=e.queries)||void 0===n?void 0:n.filter((function(e){return Je(e)||Ze(e)})))&&void 0!==r?r:[],toElemIndex:l,selection:e.selection&&ot(e.selection)?e.selection:void 0,combinations:t.cs.v,combinationOptions:Array.isArray(e.combinations)?{}:e.combinations},{compress:o?"yes":"no"});return Vn(s,i,e,void 0,a)}function Qn(e,t,n,r){var o=Gn(t,n,!1,r),a=URL.createObjectURL(new Blob([JSON.stringify(o,null,2)],{type:"application/json"}));Bn(a,"".concat(o.name,".json"),e.ownerDocument),URL.revokeObjectURL(a)}function Jn(e,t,n){var r=Gn(e,t,!0,n);delete r.$schema;var o=un.compressToEncodedURIComponent(JSON.stringify(r)),a=new URL("https://upset.js.org/app/embed.html");if(a.searchParams.set("p",o),a.toString().length<4096)return window.open(a.toString(),"_blank"),!0;var i=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i=an({sets:e.sets,queries:null!==(r=null===(n=e.queries)||void 0===n?void 0:n.filter((function(e){return Je(e)||Ze(e)})))&&void 0!==r?r:[],selection:e.selection&&ot(e.selection)?e.selection:void 0,combinations:t.cs.v},{compress:o?"yes":"no"});return $n(i,e,void 0,a)}(e,t,!0,n);delete i.$schema;var c=un.compressToEncodedURIComponent(JSON.stringify(i));if(a.searchParams.set("p",c),a.toString().length<4096)return window.open(a.toString(),"_blank"),!0;a.searchParams.delete("p");var l=window.open(a.toString(),"_blank");return null==l||l.addEventListener("load",(function(){null==l||l.postMessage(r,a.origin)})),!1}function Yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function Zn(e){return"upset-".concat(Math.random().toString(36).slice(4))}function Xn(e){return null!=e&&!Array.isArray(e)}function er(e,t){var n=Ge(e,t);return function(e){return n(e.elems).intersection}}function tr(){return-1}function nr(e,t,n){if(!e)return or;if("function"==typeof e)return e;if(Array.isArray(e))return er(e,n);var r=e;if(r.overlap)return r.overlap.bind(r);var o=null;return function(e){if(e.overlap)return e.overlap(r);var a=t(e,r);return a>=0?a:(o||(o=er(r.elems,n)),o(e))}}function rr(e){var t;return Array.isArray(e)?"Array(".concat(e.length,")"):"function"==typeof e?"?":null===(t=e)||void 0===t?void 0:t.name}function or(){return 0}function ar(e){return null==e?10:e.endsWith("pt")?Math.floor(4/3*Number.parseInt(e,10)):Number.parseInt(e,10)}function ir(e){return"linear"===e?$t:"log"===e?Zt:e}function cr(e){return Array.isArray(e)}function lr(e){var t=e.transform,n=e.styleId,r=e.exportButtons,o=e.exportChart;if(!r)return null;var a=0,i=[];return!0!==r&&!1===r.svg||(a+=26,i.push($e.createElement("g",{key:"svg",className:"exportButton-".concat(n),onClick:o,"data-type":"svg",transform:"translate(-".concat(a,", 0)")},$e.createElement("title",null,"Download SVG Image"),$e.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),$e.createElement("text",{className:"exportTextStyle-".concat(n),x:13},"SVG"))),a+=2),!0!==r&&!1===r.png||(a+=26,i.push($e.createElement("g",{key:"png",className:"exportButton-".concat(n),onClick:o,"data-type":"png",transform:"translate(-".concat(a,", 0)")},$e.createElement("title",null,"Download PNG Image"),$e.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),$e.createElement("text",{className:"exportTextStyle-".concat(n),x:13},"PNG"))),a+=2),!0!==r&&!1===r.vega||(a+=34,i.push($e.createElement("g",{key:"vega",className:"exportButton-".concat(n),onClick:o,"data-type":"vega",transform:"translate(-".concat(a,", 0)")},$e.createElement("title",null,"Download VEGA-Lite Specification"),$e.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),$e.createElement("text",{className:"exportTextStyle-".concat(n),x:17},"VEGA"))),a+=2),!0!==r&&!1===r.dump||(a+=34,i.push($e.createElement("g",{key:"dump",className:"exportButton-".concat(n),onClick:o,"data-type":"dump",transform:"translate(-".concat(a,", 0)")},$e.createElement("title",null,"Download UpSet.js JSON Dump"),$e.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),$e.createElement("text",{className:"exportTextStyle-".concat(n),x:17},"DUMP"))),a+=2),!0!==r&&!1===r.share||(a+=42,i.push($e.createElement("g",{key:"share",className:"exportButton-".concat(n),onClick:o,"data-type":"share",transform:"translate(-".concat(a,", 0)")},$e.createElement("title",null,"Open a shareable URL"),$e.createElement("rect",{y:-9,width:42,height:11,rx:2,ry:2}),$e.createElement("text",{className:"exportTextStyle-".concat(n),x:21},"SHARE"))),a+=2),$e.createElement("g",{className:"exportButtons-".concat(n),transform:t},i)}var sr=$e.memo((function(e){var t=e.queries,n=e.x,r=e.style,o=e.data;return $e.createElement("text",{transform:"translate(".concat(n,",4)"),style:r.styles.legend,className:Yn("legendTextStyle-".concat(r.id),r.classNames.legend)},t.map((function(e,t){var n=null;return Ze(e)?n=e.set.cardinality:Je(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),$e.createElement($e.Fragment,{key:e.name},$e.createElement("tspan",{className:"fillQ".concat(t,"-").concat(o.id)},"  ⬤ "),$e.createElement("tspan",null,e.name,null!=n?": ".concat(o.sets.format(n)):""))})))})),ur=$e.memo((function(e){var t=e.pos,n=e.spacing,r=e.tickSizeInner,o=e.orient,a=e.name,i=e.style,c="top"===o||"left"===o?-1:1;return $e.createElement("g",{transform:"translate(0, ".concat(t+.5,")")},a&&$e.createElement("text",{x:c*n,dy:"0.32em",className:Yn("axisTextStyle-".concat(i.id),"right"===o?"startText-".concat(i.id):"endText-".concat(i.id),i.classNames.axisTick),style:i.styles.axisTick},a),$e.createElement("line",{x2:c*r,className:"axisLine-".concat(i.id)}))})),fr=$e.memo((function(e){var t=e.pos,n=e.name,r=e.spacing,o=e.orient,a=e.tickSizeInner,i=e.style,c="top"===o||"left"===o?-1:1;return $e.createElement("g",{transform:"translate(".concat(t+.5,", 0)")},n&&$e.createElement("text",{y:c*r,dy:"top"===o?"0em":"0.71em",className:Yn("axisTextStyle-".concat(i.id),i.classNames.axisTick),style:i.styles.axisTick},n),$e.createElement("line",{y2:c*a,className:"axisLine-".concat(i.id)}))}));function dr(e){var t=e.scale,n=e.orient,r=e.tickSizeInner,o=void 0===r?6:r,a=e.tickSizeOuter,i=void 0===a?6:a,c=e.tickPadding,l=void 0===c?3:c,s=e.size,u=e.start,f=e.style,d=e.transform,m=Math.max(o,0)+l,p=u,y=s,h="top"===n||"left"===n?-1:1,v="left"===n||"right"===n?ur:fr,_=t.ticks().map((function(e){return"number"==typeof e?{value:e,label:e.toLocaleString()}:e}));return $e.createElement("g",{transform:d},_.map((function(e){return $e.createElement(v,{key:e.value,pos:t(e.value),name:e.label,spacing:m,tickSizeInner:o,orient:n,style:f})})),$e.createElement("path",{className:"axisLine-".concat(f.id),d:"left"===n||"right"===n?i?"M".concat(h*i,",").concat(p,"H0.5V").concat(y,"H").concat(h*i):"M0.5,".concat(p,"V").concat(y):i?"M".concat(p,",").concat(h*i,"V0.5H").concat(y,"V").concat(h*i):"M".concat(p,",0.5H").concat(y)}))}var mr=$e.memo((function(e){var t=e.width,n=e.text,r=e.dy,o=e.x,a=e.style,i=e.className,c=J.useRef(null),l=F(J.useState("string"==typeof n?[n]:[]),2),s=l[0],u=l[1];return J.useLayoutEffect((function(){u("string"==typeof n?[n]:[])}),[n]),J.useLayoutEffect((function(){if(c.current&&!(c.current.childElementCount>0)&&"string"==typeof n&&"function"==typeof c.current.getComputedTextLength){for(var e=c.current.getComputedTextLength(),r=[],o=t,a=0,i=c.current.getStartPositionOfChar(0);e>o;){i.x=o;var l=c.current.getCharNumAtPosition(i),s=n.lastIndexOf(" ",l);if(s<a)break;r.push(n.slice(a,s+1)),a=s+1,o=c.current.getEndPositionOfChar(s+1).x+t}r.push(n.slice(a)),u(r)}}),[c,n,t]),n?$e.createElement("tspan",{ref:c,dy:r,style:a,x:o,className:i},s.length>1?s.map((function(e,t){return $e.createElement("tspan",{key:e,x:0,dy:t>0?"1.2em":r},e)})):n):null})),pr=$e.memo((function(e){var t=e.width,n=e.descriptionWidth,r=void 0===n?t:n,o=e.style;return o.title||o.description?$e.createElement("text",null,$e.createElement(mr,{text:o.title,width:t,dy:"10px",className:Yn("titleTextStyle-".concat(o.id),o.classNames.title),style:o.styles.title}),$e.createElement(mr,{x:0,width:r,dy:o.title?"2em":"10px",text:o.description,className:Yn("descTextStyle-".concat(o.id),o.classNames.description),style:o.styles.description})):null}));function yr(){}function hr(e){return e?function(t,n){return function(r){return e.call(this,t,r.nativeEvent,n.map((function(e){return e.createOnHandlerData?e.createOnHandlerData(t):null})))}}:yr}function vr(e,t){var n=0,r=0;return function(o){var a=0;return"before"===o.position?a=-(n+=o.size+t):(a=e+r+t,r+=o.size+t),a}}function _r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fill";return t?e?Object.assign(z({},n,t),e):t?z({},n,t):void 0:e}var gr=$e.memo((function(e){var t=e.size,n=e.style,r=e.data,o=vr(t.sets.w+t.labels.w+t.cs.w,t.sets.addonPadding),a=vr(t.cs.h+t.sets.h,t.cs.addonPadding),i="auto"===n.cs.offset?r.cs.labelOffset:n.cs.offset,c="auto"===n.sets.offset?r.sets.labelOffset:n.sets.offset;return $e.createElement("g",null,$e.createElement(pr,{style:n,width:t.cs.x-i-20}),$e.createElement("g",{transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")"),"data-upset":"csaxis"},$e.createElement(dr,{scale:r.cs.y,orient:"left",size:t.cs.h,start:t.cs.h-r.cs.yAxisWidth,style:n}),$e.createElement("line",{x1:0,x2:t.cs.w,y1:t.cs.h+1,y2:t.cs.h+1,className:"axisLine-".concat(n.id)}),$e.createElement("text",{className:Yn("cChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(-i,", ").concat(t.cs.h/2,")rotate(-90)")},n.cs.name),t.cs.addons.map((function(e){var t=a(e),r=$e.createElement("text",{key:e.name,className:Yn("cChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(-i,", ").concat(t+e.size/2,")rotate(-90)")},e.name);return e.scale?$e.createElement($e.Fragment,{key:e.name},$e.createElement(dr,{scale:e.scale,orient:"left",size:e.size,start:0,style:n,transform:"translate(0,".concat(t,")")}),r):r}))),$e.createElement("g",{transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")"),"data-upset":"setaxis"},$e.createElement(dr,{scale:r.sets.x,orient:"bottom",size:t.sets.w,start:t.sets.w-r.sets.xAxisWidth,transform:"translate(0, ".concat(t.sets.h,")"),style:n}),$e.createElement("text",{className:Yn("sChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(t.sets.w/2,", ").concat(t.sets.h+c,")")},n.sets.name),t.sets.addons.map((function(e){var r=o(e),a=$e.createElement("text",{key:e.name,className:Yn("sChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(r+e.size/2,", ").concat(t.sets.h+c,")")},e.name);return e.scale?$e.createElement($e.Fragment,{key:e.name},$e.createElement(dr,{scale:e.scale,orient:"bottom",size:e.size,start:0,transform:"translate(".concat(r,", ").concat(t.sets.h,")"),style:n}),a):a}))))})),xr=$e.memo((function(e){var t=e.cx,n=e.r,r=e.cy,o=e.name,a=e.className,i=e.style,c=e.fill;return $e.createElement("circle",{r:n,cx:t,cy:r,className:a,style:_r(i,c)},o&&$e.createElement("title",null,o))}));function br(e,t,n){for(var r=[n(e)],o=0;o<kn.length&&e>t;o++)e-=t,r.push(n(e));return r}var wr=$e.memo((function(e){var t=e.d,n=e.h,r=e.className,o=e.data,a=e.size,i=e.style,c=e.children,l=br(t.cardinality,o.cs.max,o.cs.y),s=vr(a.cs.h+a.sets.h,a.cs.addonPadding);return $e.createElement("g",{transform:"translate(".concat(o.cs.x(t),", 0)"),onMouseEnter:n.onMouseEnter(t,a.cs.addons),onMouseLeave:n.onMouseLeave,onClick:n.onClick(t,a.cs.addons),onContextMenu:n.onContextMenu(t,a.cs.addons),onMouseMove:n.onMouseMove(t,a.cs.addons),className:r,"data-cardinality":t.cardinality},i.tooltips&&$e.createElement("title",null,t.name,": ",o.cs.format(t.cardinality)),$e.createElement("rect",{y:-a.cs.before,width:o.cs.bandWidth,height:a.sets.h+a.cs.h+a.cs.before+a.cs.after,className:"hoverBar-".concat(i.id)}),l.map((function(e,n){var r=n>0?Math.floor(o.cs.bandWidth*kn[n-1]):0;return $e.createElement("rect",{key:n,x:r,y:e,height:a.cs.h-e,width:o.cs.bandWidth-2*r,className:Yn("fillPrimary-".concat(i.id),n<l.length-1&&"fillOverflow".concat(l.length-1-n,"-").concat(i.id),i.classNames.bar),style:_r(i.styles.bar,t.color)})})),$e.createElement("text",{y:l[0]-i.barLabelOffset,x:o.cs.bandWidth/2,style:i.styles.barLabel,className:Yn("cBarTextStyle-".concat(i.id),i.classNames.barLabel)},o.cs.format(t.cardinality)),$e.createElement("text",{y:-i.barLabelOffset-a.cs.before,x:o.cs.bandWidth/2,style:i.styles.barLabel,className:Yn("hoverBarTextStyle-".concat(i.id),i.classNames.barLabel)},t.name),o.sets.v.map((function(e,n){return o.cs.has(t,e)?null:$e.createElement(xr,{key:o.sets.keys[n],r:o.r,cx:o.cs.cx,cy:o.sets.y(e)+o.sets.cy,name:i.tooltips?t.name:"",style:i.styles.dot,fill:void 0,className:Yn("fillNotMember-".concat(i.id),i.classNames.dot)})})),t.sets.size>1&&$e.createElement("line",{x1:o.cs.cx,y1:o.sets.y(o.sets.v.find((function(e){return o.cs.has(t,e)})))+o.sets.cy-(o.r-1),x2:o.cs.cx,y2:o.sets.y(o.sets.rv.find((function(e){return o.cs.has(t,e)})))+o.sets.cy+(o.r-1),style:t.color?{stroke:t.color}:void 0,className:"upsetLine-".concat(o.id)}),o.sets.v.map((function(e,n){var r;return o.cs.has(t,e)?$e.createElement(xr,{key:o.sets.keys[n],r:o.r,cx:o.cs.cx,cy:o.sets.y(e)+o.sets.cy,name:i.tooltips?e.name:"",style:i.styles.dot,fill:null!==(r=e.color)&&void 0!==r?r:t.color,className:Yn("fillPrimary-".concat(i.id),i.classNames.dot)}):null})),a.cs.addons.map((function(e){return $e.createElement("g",{key:e.name,transform:"translate(0,".concat(s(e),")")},e.render({set:t,width:o.cs.bandWidth,height:e.size,theme:i.theme}))})),c)})),Sr=$e.memo((function(e){var t=e.d,n=e.i,r=e.h,o=e.className,a=e.size,i=e.data,c=e.style,l=e.children,s=br(t.cardinality,i.sets.max,i.sets.x),u=vr(a.sets.w+a.labels.w+a.cs.w,a.sets.addonPadding),f="center"===c.setLabelAlignment?a.labels.w/2:"left"===c.setLabelAlignment?2:a.labels.w-2;return $e.createElement("g",{transform:"translate(0, ".concat(i.sets.y(t),")"),onMouseEnter:r.onMouseEnter(t,a.sets.addons),onMouseLeave:r.onMouseLeave,onClick:r.onClick(t,a.sets.addons),onContextMenu:r.onContextMenu(t,a.sets.addons),onMouseMove:r.onMouseMove(t,a.sets.addons),className:o,"data-cardinality":t.cardinality},c.tooltips&&$e.createElement("title",null,t.name,": ",i.sets.format(t.cardinality)),$e.createElement("rect",{x:-a.sets.before,width:a.sets.w+a.labels.w+a.cs.w+a.sets.after,height:i.sets.bandWidth,className:"hoverBar-".concat(c.id)}),n%2==1&&$e.createElement("rect",{x:a.sets.w,width:a.labels.w+a.cs.w+a.sets.after,height:i.sets.bandWidth,className:"fillAlternating-".concat(c.id)}),s.map((function(e,n){var r=n>0?Math.floor(i.sets.bandWidth*kn[n-1]):0;return $e.createElement("rect",{key:n,x:e,y:r,width:a.sets.w-e,height:i.sets.bandWidth-2*r,className:Yn("fillPrimary-".concat(c.id),n<s.length-1&&"fillOverflow".concat(s.length-1-n,"-").concat(c.id),c.classNames.bar),style:_r(c.styles.bar,t.color)})})),$e.createElement("text",{x:s[0],dx:-c.barLabelOffset,y:i.sets.bandWidth/2,style:c.styles.barLabel,className:Yn("sBarTextStyle-".concat(c.id),c.classNames.barLabel)},i.sets.format(t.cardinality)),$e.createElement("text",{x:a.sets.w+f,y:i.sets.bandWidth/2,className:Yn("setTextStyle-".concat(c.id),c.classNames.setLabel),style:c.styles.setLabel,clipPath:"url(#clip-".concat(a.id,")")},t.name),a.sets.addons.map((function(e){return $e.createElement("g",{key:e.name,transform:"translate(".concat(u(e),",0)")},e.render({set:t,width:e.size,height:i.sets.bandWidth,theme:c.theme}))})),l)})),kr=$e.memo((function(e){var t=e.data,n=e.size,r=e.style,o=e.h,a=e.setChildrenFactory,i=e.combinationChildrenFactory;return $e.createElement("g",{className:o.hasClick?"clickAble-".concat(r.id):void 0},$e.createElement("g",{transform:"translate(".concat(n.sets.x,",").concat(n.sets.y,")"),"data-upset":"sets"},t.sets.v.map((function(e,i){return $e.createElement(Sr,{key:t.sets.keys[i],d:e,i,h:o,className:o.hasClick||o.hasHover?"interactive-".concat(r.id):void 0,data:t,style:r,size:n},a&&a(e))}))),$e.createElement("g",{transform:"translate(".concat(n.cs.x,",").concat(n.cs.y,")"),"data-upset":"cs"},t.cs.v.map((function(e,a){return $e.createElement(wr,{key:t.cs.keys[a],d:e,h:o,className:o.hasClick||o.hasHover?"interactive-".concat(r.id):void 0,data:t,style:r,size:n},i&&i(e))}))))}));function Er(e){var t=e.data,n=e.size,r=e.style,o=e.elemOverlap,a=e.secondary,i=e.tooltip,c=e.suffix,l=e.transform,s=e.empty,u=e.combinationAddons,f=t.cs.bandWidth,d=n.cs.h+n.sets.h,m=n.cs.h,p=Yn("fill".concat(c),!i&&"pnone-".concat(r.id),r.classNames.bar);return $e.createElement("g",{transform:l,"data-upset":a?"cs-q":"cs-s"},t.cs.v.map((function(e,c){var l=t.cs.x(e),y=t.cs.keys[c];if(s&&!a)return $e.createElement("rect",{key:y,x:l,y:m,height:0,width:f,className:p,style:_r(r.styles.bar,r.selectionColor?void 0:e.color)},i&&$e.createElement("title",null));var h=o(e);if(0===h)return null;var v=br(h,t.cs.max,t.cs.y),_=i&&$e.createElement("title",null,"".concat(e.name," ∩ ").concat(i,": ").concat(h)),g=a?$e.createElement("path",{key:y,transform:"translate(".concat(l,", ").concat(v[0],")"),d:"M0,-1 l".concat(f,",0 l0,2 l").concat(-f,",0 L-").concat(t.triangleSize,",-").concat(t.triangleSize," L-").concat(t.triangleSize,",").concat(t.triangleSize," Z"),className:p,"data-i":c,"data-cardinality":h,style:_r(void 0,r.selectionColor?void 0:e.color)},_):v.map((function(n,o){var a=o>0?Math.floor(t.cs.bandWidth*kn[o-1]):0;return $e.createElement("rect",{key:o,x:l+a,y:n,height:m-n,width:f-2*a,"data-i":o>0?null:c,"data-cardinality":o>0?null:h,className:Yn(p,o<v.length-1&&"fillOverflow".concat(v.length-1-o,"-").concat(r.id)),style:_r(r.styles.bar,r.selectionColor?void 0:e.color)},_)})),x=vr(d,n.cs.addonPadding),b=u.map((function(t){var n=x(t),o=t.render({set:e,width:f,height:t.size,theme:r.theme});return o?$e.createElement("g",{key:t.name,transform:"translate(".concat(l,",").concat(n,")")},o):null})).filter(Boolean);return 0===b.length?g:$e.createElement("g",{key:y},g,b)})))}function Cr(e){var t=e.data,n=e.size,r=e.style,o=e.elemOverlap,a=e.suffix,i=e.secondary,c=e.empty,l=e.tooltip,s=e.setAddons,u=e.transform,f=n.sets.w,d=n.sets.w+n.labels.w+n.cs.w,m=t.sets.bandWidth,p=Yn("fill".concat(a),!l&&" pnone-".concat(r.id),r.classNames.bar);return $e.createElement("g",{transform:u,"data-upset":i?"sets-q":"sets-s"},t.sets.v.map((function(e,a){var u=t.sets.y(e),y=t.sets.keys[a];if(c&&!i)return $e.createElement("rect",{key:y,x:f,y:u,width:0,height:m,className:p,style:_r(r.styles.bar,r.selectionColor?void 0:e.color)},r.tooltips&&l&&$e.createElement("title",null));var h=o(e);if(0===h)return null;var v=br(h,t.sets.max,t.sets.x),_=r.tooltips&&l&&$e.createElement("title",null,"".concat(e.name," ∩ ").concat(l,": ").concat(h)),g=i?$e.createElement("path",{key:y,transform:"translate(".concat(v[0],", ").concat(u+m,")"),d:"M1,0 l0,".concat(-m," l-2,0 l0,").concat(m," L-").concat(t.triangleSize,",").concat(t.triangleSize," L").concat(t.triangleSize,",").concat(t.triangleSize," Z"),"data-i":a,"data-cardinality":h,className:p,style:_r(void 0,r.selectionColor?void 0:e.color)},_):v.map((function(n,o){var i=o>0?Math.floor(t.sets.bandWidth*kn[o-1]):0;return $e.createElement("rect",{key:o,"data-i":o>0?null:a,"data-cardinality":o>0?null:h,x:n,y:u+i,width:f-n,height:m-2*i,className:Yn(p,o<v.length-1&&"fillOverflow".concat(v.length-1-o,"-").concat(r.id)),style:_r(r.styles.bar,r.selectionColor?void 0:e.color)},_)})),x=vr(d,n.sets.addonPadding),b=s.map((function(t){var n=x(t),o=t.render({set:e,width:t.size,height:m,theme:r.theme});return o?$e.createElement("g",{key:t.name,transform:"translate(".concat(n,",").concat(u,")")},o):null})).filter(Boolean);return 0===b.length?g:$e.createElement("g",{key:y},g,b)})))}var Nr=[],Mr=$e.memo((function(e){var t=e.size,n=e.data,r=e.style,o=e.hasHover,a=e.secondary,i=e.queries,c=t.sets.addons.some((function(e){return null!=e.renderQuery}))||t.cs.addons.some((function(e){return null!=e.renderQuery})),l=J.useMemo((function(){return i.map((function(e){return Object.assign(Object.assign({},e),{overlap:Xe(e,"intersection",n.toElemKey),elemOverlap:c?et(e,"intersection",n.toElemKey):null})}))}),[i,c,n.toElemKey]);function s(e,t,n,r,o){return Object.assign(Object.assign({},e),{render:function(a){var i=r(a.set);return e.renderQuery?e.renderQuery(Object.assign({query:t,overlap:i,index:n,secondary:o},a)):null}})}return $e.createElement("g",{className:o&&!a?"pnone-".concat(r.id):void 0},$e.createElement("g",{transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")")},l.map((function(e,i){return $e.createElement(Cr,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q".concat(i,"-").concat(n.id),secondary:a||i>0,tooltip:o&&!(a||i>0)?void 0:e.name,setAddons:0===t.sets.addons.length?Nr:t.sets.addons.map((function(t,n){return s(t,e,n,e.elemOverlap,a||n>0)}))})}))),$e.createElement("g",{transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")")},l.map((function(e,i){return $e.createElement(Er,{key:e.name,data:n,size:t,style:r,elemOverlap:e.overlap,suffix:"Q".concat(i,"-").concat(n.id),secondary:a||i>0,tooltip:o&&!(a||i>0)?void 0:e.name,combinationAddons:0===t.cs.addons.length?Nr:t.cs.addons.map((function(t,n){return s(t,e,n,e.elemOverlap,a||n>0)}))})}))))}));function Ar(e){var t=e.data,n=e.size,r=e.style,o=e.selection;if(!o||"set"!==o.type||!t.sets.keys.includes(t.toKey(o)))return null;var a=o;return $e.createElement("rect",{y:t.sets.y(a),width:n.labels.w+n.cs.w+n.sets.after,height:t.sets.bandWidth,className:"selectionHint-".concat(r.id)})}function Or(e){var t=e.data,n=e.size,r=e.style,o=e.selection,a=t.sets.bandWidth/2,i=t.cs.cx,c=t.r,l=n.sets.h+n.sets.after,s=t.cs.bandWidth;if(!o||"set"===o.type||!t.cs)return null;var u=o,f=t.cs.keys.indexOf(t.toKey(u));return f<0?null:$e.createElement("g",{transform:"translate(".concat(n.labels.w+t.cs.x(u),", 0)"),"data-upset":"cs-ss","data-i":f},$e.createElement("rect",{width:s,height:l,className:"selectionHint-".concat(r.id)}),u.sets.size>1&&$e.createElement("line",{x1:i,y1:t.sets.y(t.sets.v.find((function(e){return t.cs.has(u,e)})))+a-(t.r-1),x2:i,y2:t.sets.y(t.sets.rv.find((function(e){return t.cs.has(u,e)})))+a+(t.r-1),className:"upsetSelectionLine-".concat(t.id),style:_r(void 0,r.selectionColor?void 0:u.color,"stroke")}),t.sets.v.filter((function(e){return t.cs.has(u,e)})).map((function(e){return $e.createElement(xr,{key:t.toKey(e),r:1.1*c,cx:i,cy:t.sets.y(e)+a,name:r.tooltips?e.name:"",className:Yn("fillSelection-".concat(r.id),"pnone-".concat(r.id),r.classNames.dot),style:_r(r.styles.dot,r.selectionColor?void 0:e.color)})})))}var Lr=[];function Tr(e){var t=e.size,n=e.data,r=e.style,o=e.selection,a=e.hasHover,i=r.emptySelection,c=nr(o,n.overlapGuesser,n.toElemKey),l=rr(o),s=t.sets.addons.some((function(e){return null!=e.renderSelection}))||t.cs.addons.some((function(e){return null!=e.renderSelection})),u=o&&"function"!=typeof o&&s?function(e,t){var n=Qe(e,t);return function(e){return n(e.elems).intersection}}(Array.isArray(o)?o:o.elems,n.toElemKey):null;function f(e){return Object.assign(Object.assign({},e),{render:function(t){var n=u?u(t.set):null;return e.renderSelection?e.renderSelection(Object.assign({selection:o,selectionColor:r.selectionColor||t.set.color||"orange",overlap:n},t)):null}})}return $e.createElement("g",{className:a?"pnone-".concat(r.id):void 0},(o||i)&&$e.createElement(Er,{data:n,size:t,style:r,transform:"translate(".concat(t.cs.x,",").concat(t.cs.y,")"),empty:i&&!o,elemOverlap:c,suffix:"Selection-".concat(r.id),tooltip:a?void 0:l,combinationAddons:0===t.cs.addons.length?Lr:t.cs.addons.map(f)}),(o||i)&&$e.createElement(Cr,{data:n,size:t,style:r,transform:"translate(".concat(t.sets.x,",").concat(t.sets.y,")"),empty:i&&!o,elemOverlap:c,suffix:"Selection-".concat(r.id),tooltip:a?void 0:l,setAddons:0===t.sets.addons.length?Lr:t.sets.addons.map(f)}),$e.createElement("g",{transform:"translate(".concat(t.labels.x,",").concat(t.labels.y,")")},Xn(o)&&$e.createElement(Ar,{data:n,size:t,style:r,selection:o}),Xn(o)&&$e.createElement(Or,{data:n,size:t,style:r,selection:o})))}function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"font-size";return e?"".concat(t,": ").concat(e,";"):""}function Pr(e,t,n,r){var o=[];t.hasSelectionColor&&o.push("fill: ".concat(t.hasSelectionColor,";"));var a=null!=t.hasSelectionOpacity&&t.hasSelectionOpacity>=0;return a&&o.push("fill-opacity: ".concat(t.hasSelectionOpacity,";")),{p:Ir,root:"\n  .root-".concat(e," {\n    ").concat(Ir(n,"font-family"),"\n  }\n  "),text:"\n  .titleTextStyle-".concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(Ir(r.title),"\n  }\n  .descTextStyle-").concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(Ir(r.description),"\n  }\n\n  .legendTextStyle-").concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(Ir(r.legend),"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  "),hasSFill:o.join(" "),hasSStroke:o.join(" ").replace("fill:","stroke:").replace("fill-","stroke-"),fill:"\n  .fillPrimary-".concat(e," { fill: ").concat(t.color,"; fill-opacity: ").concat(t.opacity,"; }\n  .fillOverflow1-").concat(e," { fill-opacity: ").concat(t.opacity*Sn[0],"; }\n  .fillOverflow2-").concat(e," { fill-opacity: ").concat(t.opacity*Sn[1],"; }\n  ").concat(o.length>0?".root-".concat(e,"[data-selection] .fillPrimary-").concat(e," { ").concat(o.join(" ")," }"):"","\n  ").concat(a?"\n      .root-".concat(e,"[data-selection] .fillOverflow1-").concat(e," { fill-opacity: ").concat(t.opacity*Sn[0],"; }\n      .root-").concat(e,"[data-selection] .fillOverflow2-").concat(e," { fill-opacity: ").concat(t.opacity*Sn[1],"; }"):"","\n  ").concat(t.selectionColor?".fillSelection-".concat(e," { fill: ").concat(t.selectionColor,"; }"):"","\n  .fillTransparent-").concat(e," { fill: transparent; }\n\n  .selectionHint-").concat(e," {\n    fill: transparent;\n    pointer-events: none;\n    ").concat(Ir(t.selectionColor,"stroke"),"\n  }\n  .clickAble-").concat(e," {\n    cursor: pointer;\n  }\n\n  .startText-").concat(e," {\n    text-anchor: start;\n  }\n  .endText-").concat(e," {\n    text-anchor: end;\n  }\n  .pnone-").concat(e," {\n    pointer-events: none;\n  }"),export:"\n  .exportTextStyle-".concat(e," {\n    fill: ").concat(t.textColor,";\n    ").concat(Ir(r.exportLabel),"\n  }\n  .exportButtons-").concat(e," {\n    text-anchor: middle;\n  }\n  .exportButton-").concat(e," {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-").concat(e,":hover {\n    opacity: 1;\n  }\n  .exportButton-").concat(e," > rect {\n    fill: none;\n    stroke: ").concat(t.textColor,";\n  }\n  ")}}function qr(e){var t=e.onClick;return J.useMemo((function(){return{hasClick:null!=t,hasHover:null!=e.onHover,onClick:hr(t),onMouseEnter:hr(e.onHover),onContextMenu:hr(e.onContextMenu),onMouseLeave:e.onHover?function(t){return e.onHover(null,t.nativeEvent,[])}:void 0,onMouseMove:hr(e.onMouseMove),reset:function(e){return t?t(null,e.nativeEvent,[]):null}}}),[t,e.onHover,e.onContextMenu,e.onMouseMove])}var jr=$e.forwardRef((function(e,t){var n,r=Hn(e),o=r.selection,a=void 0===o?null:o,i=r.queries,c=void 0===i?[]:i,l=r.fontSizes,s=J.useMemo((function(){return r.id?r.id:Zn((r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity))}),[r.id,r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity]),u=J.useMemo((function(){return function(e,t,n,r,o,a,i,c,l,s,u,f,d,m,p){return{theme:e,styles:t,classNames:n,cs:{name:r,offset:o},sets:{name:a,offset:i},emptySelection:u,id:c,barLabelOffset:l,selectionColor:s,title:f,description:d,tooltips:m,setLabelAlignment:p}}(r.theme,r.styles,r.classNames,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,s,r.barLabelOffset,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment)}),[r.theme,r.styles,r.classNames,r.barLabelOffset,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,s,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment]),f=J.useMemo((function(){return function(e,t,n,r,o,a,i,c,l,s,u){var f=i.reduce((function(e,t){return e+("before"===t.position?t.size+s:0)}),0),d=i.reduce((function(e,t){return e+("before"!==t.position?t.size+s:0)}),0),m=c.reduce((function(e,t){return e+("before"===t.position?t.size+s:0)}),0),p=c.reduce((function(e,t){return e+("before"!==t.position?t.size+s:0)}),0),y=t-2*n-20-p-m,h=e-2*n-f-d,v=o[0]>1?o[0]:h*o[0],_=o[1]>1?o[1]:h*o[1],g=a[0]>1?a[0]:y*a[0];return{id:l||Zn(),cs:{before:m,after:p,x:f+v+_,y:m,w:h-v-_,h:g,addons:c,addonPadding:u},labels:{x:f+v,y:m+g,w:_,h:y-g},sets:{before:f,after:d,x:f,y:m+g,w:v,h:y-g,addons:i,addonPadding:s},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding)}),[r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding]),d=J.useMemo((function(){return function(e,t,n,r,o,a,i,c,l,s,u,f,d,m,p){var y,h,v,_=ir(r),g="band"===(h=o)?Ht:h,x=cr(t)?t:wt(e,Object.assign({toElemKey:f},gn,t)),b=g(x.map(u),n.cs.w,n.padding),w=x.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),S=null!=p?p:w,k=S>w?0:a,E=_(S,[n.cs.h,k],{orientation:"vertical",fontSizeHint:l}),C=function(e){return Math.floor(a/1.4*.7*e.length)},N=function(e){return C(E.tickFormat()(e))},M=e.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),A=null!=m?m:M,O=N(A),L=N(S),T=R(s);try{for(T.s();!(v=T.n()).done;){var I=v.value;if(I.scale){var P,q=I.scale.ticks(3),j=I.scale.tickFormat(),z=R(q);try{for(z.s();!(P=z.n()).done;){var F=P.value,H="number"==typeof F?j(F):null!==(y=F.label)&&void 0!==y?y:j(F.value),U=C(H);U>L&&(L=U)}}catch(e){z.e(e)}finally{z.f()}}}}catch(e){T.e(e)}finally{T.f()}var B=A>M?0:O,D=_(A,[n.sets.w,B],{orientation:"horizontal",fontSizeHint:l}),W=e.map(u),K=g(W.slice().reverse(),n.sets.h,n.padding),V=Math.min(K.bandwidth(),b.bandwidth())/2*i,$=Math.max(2,Math.min(K.bandwidth(),b.bandwidth())/2*c);return{id:d||Zn(),r:V,triangleSize:$,sets:{v:e,keys:W,rv:e.slice().reverse(),x:D,xAxisWidth:n.sets.w-B,y:function(e){return K(u(e))},max:A,bandWidth:K.bandwidth(),cy:K.bandwidth()/2+n.cs.h,format:D.tickFormat(),labelOffset:a+9+2},cs:{v:x,keys:x.map(u),x:function(e){return b(u(e))},max:S,y:E,yAxisWidth:n.cs.h-k,cx:b.bandwidth()/2,bandWidth:b.bandwidth(),format:E.tickFormat(),has:function(e,t){var n=u(t);return Array.from(e.sets).some((function(e){return u(e)===n}))},labelOffset:L+9+6},toKey:u,toElemKey:f,overlapGuesser:Pt(x,tr,u)}}(r.sets,r.combinations,f,r.numericScale,r.bandScale,r.barLabelOffset+ar(l.barLabel),r.dotPadding,r.barPadding,ar(l.axisTick),r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale)}),[r.sets,r.combinations,f,r.numericScale,r.bandScale,r.barLabelOffset,l.barLabel,r.dotPadding,r.barPadding,l.axisTick,r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale]),m=Pr(s,r,r.fontFamily,l),p=qr(r),y="\n  ".concat(m.root,"\n  ").concat(m.text,"\n\n  .axisTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.axisTick),"\n    text-anchor: middle;\n  }\n  .barTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.barLabel),"\n  }\n  .cBarTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.barLabel),"\n    text-anchor: middle;\n  }\n  .sBarTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.barLabel),"\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-").concat(s," {\n    ").concat(m.p(l.barLabel),"\n    fill: ").concat(r.hoverHintColor,";\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.setLabel),"\n    text-anchor: ").concat(function(e){var t;return null!==(t={left:"start",center:"middle",right:"end"}[e])&&void 0!==t?t:"middle"}(r.setLabelAlignment),";\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.chartLabel),"\n    text-anchor: middle;\n  }\n  .sChartTextStyle-").concat(s," {\n    fill: ").concat(r.textColor,";\n    ").concat(m.p(l.chartLabel),"\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ").concat(m.fill,"\n  .fillNotMember-").concat(s," { fill: ").concat(r.notMemberColor,"; }\n  .fillAlternating-").concat(s," { fill: ").concat(r.alternatingBackgroundColor||"transparent","; }\n\n  .axisLine-").concat(s," {\n    fill: none;\n    stroke: ").concat(r.textColor,";\n  }\n  .hoverBar-").concat(s," {\n    fill: transparent;\n  }\n\n  .interactive-").concat(s,":hover > .hoverBar-").concat(s," {\n    stroke: ").concat(r.hoverHintColor,";\n  }\n  .interactive-").concat(s,":hover > .hoverBarTextStyle-").concat(s," {\n    display: unset;\n  }\n\n  ").concat(m.export,"\n\n  .upsetLine-").concat(d.id," {\n    stroke-width: ").concat(.6*d.r,";\n    stroke: ").concat(r.color,";\n    stroke-opacity: ").concat(r.opacity,";\n  }\n  ").concat(m.hasSStroke?".root-".concat(s,"[data-selection] .upsetLine-").concat(d.id," { ").concat(m.hasSStroke," }"):"","\n\n  .upsetSelectionLine-").concat(d.id," {\n    stroke-width: ").concat(.6*d.r*1.1,";\n    ").concat(m.p(r.selectionColor,"stroke"),"\n    pointer-events: none;\n  }\n\n  ").concat(c.map((function(e,t){return".fillQ".concat(t,"-").concat(d.id," {\n    fill: ").concat(e.color,";\n  }")})).join("\n"),"\n  "),h=J.useCallback((function(t){var n=t.currentTarget.closest("svg"),r=t.currentTarget.dataset.type||"png";switch(r){case"vega":!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).title,n=Dn(e,t),r=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"}));Bn(r,"".concat(n.title,".json"),e.ownerDocument),URL.revokeObjectURL(r)}(n);break;case"dump":Qn(n,e,d);break;case"share":Jn(e,d);break;case"svg":case"png":Rn(n,{type:r,toRemove:".".concat(t.currentTarget.getAttribute("class"))})}}),[d,e]),v=rr(a);return $e.createElement("svg",{id:r.id,className:Yn("root-".concat(s),r.className),style:r.style,width:r.width,height:r.height,ref:t,viewBox:"0 0 ".concat(r.width," ").concat(r.height),"data-theme":null!==(n=r.theme)&&void 0!==n?n:"light","data-selection":v||void 0},$e.createElement("style",null,y),$e.createElement("defs",null,$e.createElement("clipPath",{id:"clip-".concat(f.id)},$e.createElement("rect",{x:f.sets.w,y:0,width:f.labels.w,height:f.sets.h}))),r.queryLegend&&$e.createElement(sr,{queries:c,x:f.legend.x,style:u,data:d}),$e.createElement(lr,{transform:"translate(".concat(f.w-2,",").concat(f.h-3,")"),styleId:s,exportButtons:r.exportButtons,exportChart:h}),$e.createElement("g",{transform:"translate(".concat(r.padding,",").concat(r.padding,")"),"data-upset":"base"},r.onClick&&$e.createElement("rect",{width:f.cs.x,height:f.sets.y,onClick:p.reset,className:"fillTransparent-".concat(s)}),$e.createElement(gr,{size:f,style:u,data:d}),$e.createElement(kr,{size:f,style:u,data:d,h:p,setChildrenFactory:r.setChildrenFactory,combinationChildrenFactory:r.combinationChildrenFactory}),$e.createElement(Tr,{size:f,style:u,data:d,hasHover:p.hasHover,selection:a}),$e.createElement(Mr,{size:f,style:u,data:d,hasHover:p.hasHover,queries:c,secondary:null!=r.onHover||null!=a})),e.children)}));function zr(e){var t,n,r=e.rules,o=e.style,a=e.size,i=e.p,c=e.data,l=e.tRef,s=e.children,u=e.exportChart,f=e.selectionName,d=e.h;return $e.createElement("svg",{id:i.id,className:Yn("root-".concat(o.id),i.className),style:i.style,width:i.width,height:i.height,ref:l,viewBox:"0 0 ".concat(i.width," ").concat(i.height),"data-theme":null!==(t=i.theme)&&void 0!==t?t:"light","data-selection":f||void 0},$e.createElement("style",null,r),i.onClick&&$e.createElement("rect",{width:a.w,height:a.h,onClick:d.reset,className:"fillTransparent-".concat(o.id)}),i.queryLegend&&$e.createElement(sr,{queries:null!==(n=i.queries)&&void 0!==n?n:[],x:a.legend.x,style:o,data:c}),$e.createElement(lr,{transform:"translate(".concat(a.w-2,",").concat(a.h-3,")"),styleId:o.id,exportButtons:i.exportButtons,exportChart:u}),$e.createElement("g",{transform:"translate(".concat(i.padding,",").concat(i.padding,")"),"data-upset":"base"},s),i.children)}function Fr(e){var t;if(e.v>=1||e.v<=0)return null;var n=Math.round(10*e.v)/100;return $e.createElement("defs",null,$e.createElement("pattern",{id:e.id,width:"1",height:"0.1",patternContentUnits:"objectBoundingBox",patternTransform:"rotate(".concat(null!==(t=e.rotate)&&void 0!==t?t:0,")")},e.bgFilled&&$e.createElement("rect",{x:"0",y:"0",width:"1",height:"0.1",style:{fill:e.bgFill},className:"fillPrimary-".concat(e.styleId)}),$e.createElement("rect",{x:"0",y:"0",width:"1",height:n,className:"fill".concat(e.suffix),style:e.fill?{fill:e.fill}:void 0})))}function Hr(e){var t=e.slice,n=e.d,r=e.i,o=e.data,a=e.style,i=e.elemOverlap,c=e.selected,l=e.selectionName,s=e.h,u=e.queries,f=e.size,d=e.fill,m=e.qs,p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.path?e.path:"M ".concat(e.x1-n,",").concat(e.y1-n," ").concat(e.arcs.map((function(e){var r=t[e.ref].l,o=Ln(r)?r.rx:r.r,a=Ln(r)?r.ry:r.r,i=Ln(r)?r.rotation:0;return"A ".concat(o-n," ").concat(a-n," ").concat(i," ").concat(e.large?1:0," ").concat(e.sweep?1:0," ").concat(e.x2-n," ").concat(e.y2-n)})).join(" "))}(t,o.sets.d),y=function(e,t){return e.text.x===t.cx?0:e.text.x>t.cx?e.text.y<=t.cy?60:-60:e.text.y<=t.cy?-60:60}(t,f.area),h=i?i(n):0,v=h===n.cardinality&&n.cardinality>0||c,_=Yn("arc-".concat(a.id),0===h&&!c&&"".concat(d?"fillPrimary":"arcP","-").concat(a.id),v&&"fillSelection-".concat(a.id),a.classNames.set),g="upset-".concat(a.id,"-").concat(r),x=null!=i||null!=s.onMouseLeave,b=m.map((function(e){return e(n)})),w=function(e,t,n,r,o,a,i,c){var l=i.format(e.cardinality),s=n?"".concat(e.name," ∩ ").concat(n):e.name,u=n?"".concat(i.format(t),"/").concat(l):l;if(0===o.length)return{tooltip:"".concat(s,": ").concat(u),title:"set"===e.type?$e.createElement($e.Fragment,null,$e.createElement("tspan",{dy:"-0.6em"},e.name),$e.createElement("tspan",{x:c,dy:"1.2em"},u)):u};if(1===o.length&&!r&&!n)return{tooltip:"".concat(e.name," ∩ ").concat(a[0].name,": ").concat(i.format(o[0]),"/").concat(l),title:"set"===e.type?$e.createElement($e.Fragment,null,$e.createElement("tspan",{dy:"-0.6em"},e.name),$e.createElement("tspan",{x:c,dy:"1.2em"},"".concat(i.format(o[0]),"/").concat(l))):"".concat(i.format(o[0]),"/").concat(l)};var f=$e.createElement("tspan",{x:c,dy:"1.2em"},a.map((function(e,t){return $e.createElement($e.Fragment,{key:e.name},$e.createElement("tspan",{className:"fillQ".concat(t,"-").concat(i.id)},"⬤"),$e.createElement("tspan",null," ".concat(i.format(o[t]),"/").concat(l).concat(t<a.length-1?" ":"")))})));return{tooltip:"".concat(s,": ").concat(u,"\n").concat(a.map((function(t,n){return"".concat(e.name," ∩ ").concat(t.name,": ").concat(i.format(o[n]),"/").concat(l)})).join("\n")),title:"set"===e.type?$e.createElement($e.Fragment,null,$e.createElement("tspan",{dy:"-1.2em"},e.name),$e.createElement("tspan",{x:c,dy:"1.2em"},u),f):$e.createElement($e.Fragment,null,$e.createElement("tspan",{dy:"-0.6em"},u),f)}}(n,h,l,x,b,u,o,t.text.x),S=w.title,k=w.tooltip;return $e.createElement("g",null,$e.createElement(Fr,{id:g,v:0===h?0:h/n.cardinality,suffix:"Selection-".concat(a.id),rotate:y,bgFill:n.color,bgFilled:null!=n.color||d,fill:a.selectionColor?void 0:n.color,styleId:a.id}),$e.createElement("path",{onMouseEnter:s.onMouseEnter(n,[]),onMouseLeave:s.onMouseLeave,onClick:s.onClick(n,[]),onContextMenu:s.onContextMenu(n,[]),onMouseMove:s.onMouseMove(n,[]),d:p,className:_,style:_r(a.styles.set,h>0&&h<n.cardinality?"url(#".concat(g,")"):v&&a.selectionColor?void 0:n.color)},a.tooltips&&$e.createElement("title",null,k)),$e.createElement("text",{x:t.text.x,y:t.text.y,className:Yn("".concat("set"===n.type?"set":"value","TextStyle-").concat(a.id),"pnone-".concat(a.id))},S))}function Ur(e,t,n,r){var o=t-2*n,a=e-2*n,i=Math.min(a,o)/2;return{id:r||Zn(),legend:{x:e/2},area:{w:a,h:o,cx:a/2,cy:o/2,r:i},margin:n,w:e,h:t}}function Rr(e,t,n){return J.useCallback((function(r){var o=r.currentTarget.closest("svg"),a=r.currentTarget.dataset.type||"png";switch(a){case"dump":Qn(o,t,e,n);break;case"share":Jn(t,e,n);break;case"svg":case"png":Rn(o,{type:a,toRemove:".".concat(r.currentTarget.getAttribute("class"))})}}),[e,t,n])}var Br=$e.forwardRef((function(e,t){var n=function(e){return function(e){return zn({valueFormat:Fn,layout:Tn},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}(e)}(e),r=n.selection,o=void 0===r?null:r,a=n.queries,i=void 0===a?[]:a,c=n.fontSizes,l=function(e){var t=e.queries,n=void 0===t?[]:t,r=e.fontSizes,o=J.useMemo((function(){return e.id?e.id:Zn((e.fontFamily,r.valueLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity))}),[e.id,e.fontFamily,r.valueLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity]),a=J.useMemo((function(){return function(e,t,n,r,o,a,i,c){return{theme:e,styles:t,classNames:n,id:r,selectionColor:o,title:a,description:i,tooltips:c}}(e.theme,e.styles,e.classNames,o,e.selectionColor,e.title,e.description,e.tooltips)}),[e.theme,e.styles,e.classNames,o,e.selectionColor,e.title,e.description,e.tooltips]),i=J.useMemo((function(){return Ur(e.width,e.height,e.padding,e.id)}),[e.width,e.height,e.padding,e.id]),c=qr(e),l=$e.useMemo((function(){return n.map((function(t){return Xe(t,"intersection",e.toElemKey)}))}),[n,e.toElemKey]),s=Pr(o,e,e.fontFamily,r);return{styleId:o,size:i,style:a,h:c,qs:l,rulesHelper:s}}(n),s=l.size,u=l.style,f=l.rulesHelper,d=J.useMemo((function(){return function(e,t,n,r,o,a,i,c){var l=e.length>r.maxSets?e.slice(0,r.maxSets):e,s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{min:1},o=e.map(t),a=[];if(cr(n)){var i=new Map(n.map((function(e){return[Array.from(e.sets).map(t).sort().join("#"),e]}))),c=e.map((function(e){return{type:"set",cardinality:0,elems:[],name:e.name,s:e}}));a=wt(c,Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},r)).map((function(e){var n=Array.from(e.sets).map((function(e){return t(e.s)})).sort().join("#");return i.has(n)?i.get(n):{name:e.name,cardinality:0,degree:e.degree,elems:[],sets:new Set(Array.from(e.sets).map((function(e){return e.s}))),type:"distinctIntersection"}}))}else a=wt(e,Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},r,null!=n?n:{}));var l=a.map(t);return{cs:a,setKeys:o,csKeys:l}}(l,a,t),u=s.cs,f=s.setKeys,d=s.csKeys,m=r.compute(l,u,n.area.w,n.area.h);return{id:c||Zn(),sets:{d:m.sets.map((function(e,t){return{v:l[t],l:e,key:f[t]}})),v:l,format:o},format:o,cs:{d:m.intersections.map((function(e,t){return{v:u[t],l:e,key:d[t]}})),v:u,has:function(e,t){var n=a(t);return Array.from(e.sets).some((function(e){return a(e)===n}))}},toKey:a,toElemKey:i,overlapGuesser:Lt(u,tr,a)}}(n.sets,n.combinations,s,n.layout,n.valueFormat,n.toKey,n.toElemKey,n.id)}),[n.sets,n.combinations,s,n.valueFormat,n.toKey,n.toElemKey,n.id,n.layout]),m=null!=o&&ot(o)?n.toKey(o):null,p=null==o?null:nr(o,d.overlapGuesser,d.toElemKey),y=rr(o),h="\n  ".concat(f.root,"\n  ").concat(f.text,"\n\n  .valueTextStyle-").concat(u.id," {\n    fill: ").concat(n.valueTextColor,";\n    ").concat(f.p(c.valueLabel),"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .setTextStyle-").concat(u.id," {\n    fill: ").concat(n.textColor,";\n    ").concat(f.p(c.setLabel),"\n    text-anchor: middle;\n  }\n\n  .topText-").concat(u.id," {\n    dominant-baseline: hanging;\n  }\n\n  .stroke-circle-").concat(u.id," {\n    fill: none;\n    stroke: ").concat(n.strokeColor,";\n  }\n\n  .arc-").concat(u.id," {\n    fill-rule: evenodd;\n  }\n  .arcP-").concat(u.id," {\n    fill: transparent;\n    fill-opacity: ").concat(n.opacity,";\n  }\n  ").concat(f.fill,"\n  ").concat(f.export,"\n\n  ").concat(f.hasSFill?".root-".concat(u.id,"[data-selection] .arcP-").concat(u.id," { ").concat(f.hasSFill," }"):"","\n\n  ").concat(i.map((function(e,t){return".fillQ".concat(t,"-").concat(d.id," {\n    fill: ").concat(e.color,";\n  }")})).join("\n"),"\n  "),v=Rr(d,n,"venn"),_=d.sets.d.reduce((function(e,t){return Math.min(e,t.l.cx-(Ln(t.l)?t.l.rx:t.l.r))}),s.area.w);return $e.createElement(zr,{rules:h,style:u,selectionName:y,size:s,p:n,data:d,tRef:t,h:l.h,exportChart:v},$e.createElement(pr,{style:u,width:_}),$e.createElement("g",{className:Yn(n.onClick&&"clickAble-".concat(u.id))},d.sets.d.map((function(e,t){return $e.createElement("text",{key:e.key,x:e.l.text.x,y:e.l.text.y,onClick:l.h.onClick(d.sets.v[t],[]),onMouseEnter:l.h.onMouseEnter(d.sets.v[t],[]),onMouseLeave:l.h.onMouseLeave,onContextMenu:l.h.onContextMenu(d.sets.v[t],[]),onMouseMove:l.h.onMouseMove(d.sets.v[t],[]),className:Yn("setTextStyle-".concat(u.id),"".concat(e.l.align,"Text-").concat(u.id),"".concat(e.l.verticalAlign,"Text-").concat(u.id))},d.sets.v[t].name)}))),$e.createElement("g",{className:Yn(n.onClick&&"clickAble-".concat(u.id))},d.cs.d.map((function(e,t){return $e.createElement(Hr,{key:e.key,d:e.v,i:t,slice:e.l,size:s,style:u,data:d,fill:n.filled,h:l.h,selectionName:y,selected:m===e.key||nt(o)&&d.cs.has(e.v,o),elemOverlap:p,queries:i,qs:l.qs})}))),$e.createElement("g",null,d.sets.d.map((function(e){return Ln(e.l)?$e.createElement("ellipse",{key:e.key,rx:e.l.rx,ry:e.l.ry,transform:"translate(".concat(e.l.cx,",").concat(e.l.cy,")rotate(").concat(e.l.rotation,")"),className:Yn("stroke-circle-".concat(u.id),u.classNames.set),style:u.styles.set}):$e.createElement("circle",{key:e.key,cx:e.l.cx,cy:e.l.cy,r:e.l.r,className:Yn("stroke-circle-".concat(u.id),u.classNames.set),style:u.styles.set})}))))})),Dr=$e.memo((function(e){var t=e.d,n=e.i,r=e.h,o=e.className,a=e.data,i=e.style,c=a.cs.l[n],l=a.cs.scale(t.cardinality),s=(a.cell-a.cs.bandWidth)/2;return $e.createElement("g",{transform:"translate(".concat(c.x,", ").concat(c.y,")"),onMouseEnter:r.onMouseEnter(t,[]),onMouseLeave:r.onMouseLeave,onClick:r.onClick(t,[]),onContextMenu:r.onContextMenu(t,[]),onMouseMove:r.onMouseMove(t,[]),className:o,"data-cardinality":t.cardinality},i.tooltips&&$e.createElement("title",null,t.name,": ",a.sets.format(t.cardinality)),$e.createElement("rect",{width:a.cell,height:a.cell,className:"fillTransparent-".concat(i.id)}),$e.createElement("rect",{x:s,y:l,height:a.cell-l,width:a.cs.bandWidth,className:Yn("fillPrimary-".concat(i.id),i.classNames.bar),style:_r(i.styles.bar,t.color)}),$e.createElement("text",{y:l-i.barLabelOffset,x:a.cell/2,style:i.styles.barLabel,className:Yn("barTextStyle-".concat(i.id),i.classNames.barLabel)},a.sets.format(t.cardinality)))}));function Wr(e,t,n,r){var o=e*t,a=e*n;return[r.x.map((function(t){return"M ".concat(t*e,",0 l0,").concat(o)})),r.y.map((function(t){return"M 0,".concat(t*e," l").concat(a,",0")}))].flat().join(" ")}var Kr=$e.memo((function(e){var t=e.data,n=e.style,r=e.size,o=e.h,a="auto"===n.cs.offset?t.cs.labelOffset:n.cs.offset;return $e.createElement("g",null,$e.createElement("g",{transform:"translate(".concat(r.w-a-2,", ").concat(r.h-t.cell-50,")")},$e.createElement(dr,{scale:t.cs.scale,orient:"left",size:t.cell,start:t.cs.barLabelFontSize,style:n}),$e.createElement("text",{className:Yn("cChartTextStyle-".concat(n.id),n.classNames.chartLabel),style:n.styles.chartLabel,transform:"translate(".concat(-a,", ").concat(t.cell,")rotate(-90)")},n.cs.name)),$e.createElement("g",null,t.sets.l.map((function(e,r){var a=t.sets.v[r],i=a.name;return $e.createElement("g",{key:i,onClick:o.onClick(a,[]),onMouseEnter:o.onMouseEnter(a,[]),onMouseLeave:o.onMouseLeave,onContextMenu:o.onContextMenu(a,[]),onMouseMove:o.onMouseMove(a,[]),className:Yn(o.hasClick&&"clickAble-".concat(n.id))},e.text.map((function(t,r){return $e.createElement("text",{key:r,transform:"translate(".concat(t.x,",").concat(t.y,")").concat(e.hor?"":"rotate(-90)"),className:Yn("setTextStyle-".concat(n.id))},i)})))})),t.sets.l.map((function(e,r){var o=t.sets.v[r].name;return $e.createElement($e.Fragment,{key:o},e.notText.map((function(t,r){return $e.createElement("text",{key:r,transform:"translate(".concat(t.x,",").concat(t.y,")").concat(e.hor?"":"rotate(-90)"),className:Yn("setTextStyle-".concat(n.id),"not-".concat(n.id))},o)})))}))),$e.createElement("g",{className:Yn(o.hasClick&&"clickAble-".concat(n.id))},t.cs.v.map((function(e,r){return $e.createElement(Dr,{key:t.cs.keys[r],d:e,i:r,h:o,style:n,data:t})}))),$e.createElement("g",{transform:"translate(".concat(t.grid.x,", ").concat(t.grid.y,")")},t.grid.levels.map((function(e,r){return $e.createElement("path",{key:r,d:Wr(t.cell,t.grid.vCells,t.grid.hCells,e),className:"gridStyle-".concat(n.id," gridStyle-").concat(n.id,"-").concat(r)})}))))}));function Vr(e){var t=e.data,n=e.style,r=e.elemOverlap,o=e.secondary,a=e.tooltip,i=e.suffix,c=e.empty,l=t.cs.bandWidth,s=(t.cell-l)/2,u=Yn("fill".concat(i),!a&&"pnone-".concat(n.id),n.classNames.bar);return $e.createElement("g",{"data-upset":o?"cs-q":"cs-s"},t.cs.v.map((function(e,i){var f=t.cs.l[i],d=t.cs.keys[i];if(c&&!o)return $e.createElement("rect",{key:d,x:f.x+s,y:f.y+t.cell,height:0,width:l,className:u,style:_r(n.styles.bar,n.selectionColor?void 0:e.color)},a&&$e.createElement("title",null));var m=r(e);if(0===m)return null;var p=t.cs.scale(m),y=a&&$e.createElement("title",null,"".concat(e.name," ∩ ").concat(a,": ").concat(m));return o?$e.createElement("path",{key:d,transform:"translate(".concat(f.x+s,", ").concat(f.y+p,")"),d:"M0,-1 l".concat(l,",0 l0,2 l").concat(-l,",0 L-").concat(t.triangleSize,",-").concat(t.triangleSize," L-").concat(t.triangleSize,",").concat(t.triangleSize," Z"),className:u,"data-i":i,"data-cardinality":m,style:_r(void 0,n.selectionColor?void 0:e.color)},y):$e.createElement("rect",{key:d,x:f.x+s,y:f.y+p,height:t.cell-p,"data-i":i,"data-cardinality":m,width:l,className:u,style:_r(n.styles.bar,n.selectionColor?void 0:e.color)},y)})))}var $r=$e.memo((function(e){var t=e.data,n=e.style,r=e.hasHover,o=e.secondary,a=e.queries,i=J.useMemo((function(){return a.map((function(e){return Object.assign(Object.assign({},e),{overlap:Xe(e,"intersection",t.toElemKey)})}))}),[a,t.toElemKey]);return $e.createElement("g",{className:r&&!o?"pnone-".concat(n.id):void 0},i.map((function(e,a){return $e.createElement(Vr,{key:e.name,data:t,style:n,elemOverlap:e.overlap,suffix:"Q".concat(a,"-").concat(t.id),secondary:o||a>0,tooltip:r&&!(o||a>0)?void 0:e.name})})))}));function Gr(e){var t=e.data,n=e.style,r=e.selection,o=e.hasHover,a=n.emptySelection,i=nr(r,t.overlapGuesser,t.toElemKey),c=rr(r);return $e.createElement("g",{className:o?"pnone-".concat(n.id):void 0},(r||a)&&$e.createElement(Vr,{data:t,style:n,empty:a&&!r,elemOverlap:i,suffix:"Selection-".concat(n.id),tooltip:o?void 0:c}))}function Qr(e,t){return Array(e).fill(0).map((function(e,n){return t(n)}))}function Jr(e){var t=Array(Math.pow(2,e)).fill(0);Qr(e,(function(e){for(var n=Math.pow(2,e),r=0;r<t.length;r+=n)t[r]++}));var n=Qr(Math.max(e,1),(function(){return[]}));return t.forEach((function(e,t){var r=Math.max(0,e-1);n[r].push(t)})),n[n.length-1].push(t.length),n}function Yr(e,t,n,r){var o=Zr(e.length,r),a=o.xBefore,i=o.yBefore,c=o.cell,l=o.hCells,s=o.vCells,u=o.horizontalSets,f=o.verticalSets,d=function(e,t){var n=Zr(e,t),r=n.xOffset,o=n.yOffset,a=n.cell,i=n.xBefore,c=n.yBefore,l=n.hCells,s=n.vCells,u=t.width-r,f=t.height-o;return Qr(e,(function(e){for(var n=Math.floor(e/2),d=e%2==0,m=Math.pow(2,n),p=(d?l:s)/m/2,y=d?i:c,h=[{v:!0,x:y+p*a*.5},{v:!1,x:y+p*a*1.5}],v=function(e){var t,n=p*Math.pow(2,e)*a,r=h.length-1;h.push.apply(h,(t=h.map((function(e,t){return{v:h[r-t].v,x:e.x+n}})),function(e){if(Array.isArray(e))return U(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},_=1;_<=n;_++)v(_);var g=n%2==1,x=Math.floor(n/2),b=0;return b=g?(d?f:u)-t.labelHeight*(.5+x):(d?o:r)+t.labelHeight*(.5+x),d?{hor:!0,span:p,text:h.filter((function(e){return e.v})).map((function(e){return{x:e.x,y:b}})),notText:h.filter((function(e){return!e.v})).map((function(e){return{x:e.x,y:b}}))}:{hor:!1,span:p,text:h.filter((function(e){return e.v})).map((function(e){return{x:b,y:e.x}})),notText:h.filter((function(e){return!e.v})).map((function(e){return{x:b,y:e.x}}))}}))}(e.length,r),m=function(e,t,n,r){return e.map((function(e,o){var a=Math.floor(o/2),i=o%2==0,c=Math.pow(2,a),l=(i?t:n)/c/2;return function(t,n){var o=F(n,2),a=o[0],c=o[1];return r(t,e)?[a,c]:l>1?i?[l-1-a+l,c]:[a,l-1-c+l]:i?[a+l,c]:[a,c+l]}}))}(e,l,s,n),p=t.map((function(e){var t=m.reduceRight((function(t,n){return n(e,t)}),[0,0]),n=F(t,2),r=n[0],o=n[1];return{x:a+r*c,y:i+o*c}})),y=Jr(u),h=Jr(f);return{s:d,c:p,cell:c,grid:{x:a,y:i,hCells:l,vCells:s,levels:y.map((function(e,t){return{x:e,y:t<h.length?h[t]:[]}}))}}}function Zr(e,t){var n=Math.ceil(e/2),r=Math.floor(e/2),o=Math.pow(2,n),a=Math.pow(2,r),i=Math.floor(Math.min((t.width-t.labelHeight*r)/o,(t.height-t.labelHeight*n)/a)),c=(t.width-o*i-t.labelHeight*r)/2,l=(t.height-a*i-t.labelHeight*n)/2;return{xOffset:c,horizontalSets:n,yOffset:l,verticalSets:r,cell:i,xBefore:c+Math.ceil(r/2)*t.labelHeight,yBefore:l+Math.ceil(n/2)*t.labelHeight,hCells:o,vCells:a}}var Xr=$e.forwardRef((function(e,t){var n=function(e){return function(e){return zn({numericScale:"linear",barPadding:.3,barLabelOffset:2,combinationName:"Intersection Size",combinationNameAxisOffset:"auto"},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}(e)}(e),r=n.queries,o=void 0===r?[]:r,a=n.fontSizes,i=n.selection,c=void 0===i?null:i,l=J.useMemo((function(){return n.id?n.id:Zn((n.fontFamily,a.axisTick,a.barLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity))}),[n.id,n.fontFamily,a.axisTick,a.barLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity]),s=J.useMemo((function(){return function(e,t,n,r,o,a,i,c,l,s,u,f){return{theme:e,styles:t,classNames:n,emptySelection:l,id:a,barLabelOffset:i,selectionColor:c,title:s,description:u,tooltips:f,cs:{name:r,offset:o}}}(n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips)}),[n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips]),u=J.useMemo((function(){return Ur(n.width,n.height,n.padding,n.id)}),[n.width,n.height,n.padding,n.id]),f=J.useMemo((function(){return function(e,t,n,r,o,a,i,c,l,s,u,f){var d=ir(r),m=e.map(l),p=cr(t)?t:wt(e,Object.assign({type:"distinctIntersection"},null!=t?t:{})),y=p.map(l),h=function(e,t){var n=l(t);return Array.from(e.sets).some((function(e){return l(e)===n}))},v=Math.ceil(1.2*i),_=Yr(e,p,h,{width:n.area.w,height:n.area.h,labelHeight:v}),g=null!=f?f:p.reduce((function(e,t){return Math.max(e,t.cardinality)}),0),x=d(g,[_.cell,o],{orientation:"vertical",fontSizeHint:c}),b=Math.round(_.cell*(1-a)),w=Math.min(Math.max(2,b/2*a),5),S=function(e){return Math.floor(o/1.4*.7*x.tickFormat()(e).length)}(g);return{id:u||Zn(),grid:_.grid,sets:{keys:m,l:_.s,v:e,labelHeight:v,format:x.tickFormat()},triangleSize:w,cell:_.cell,cs:{keys:y,l:_.c,v:p,barLabelFontSize:o,has:h,scale:x,bandWidth:b,labelOffset:S+9+6},toKey:l,toElemKey:s,overlapGuesser:Pt(p,tr,l)}}(n.sets,n.combinations,u,n.numericScale,n.barLabelOffset+ar(a.barLabel),n.barPadding,ar(a.setLabel),ar(a.axisTick),n.toKey,n.toElemKey,n.id,n.combinationMaxScale)}),[n.sets,n.combinations,u,n.numericScale,n.barLabelOffset,a.barLabel,n.barPadding,a.axisTick,a.setLabel,n.toKey,n.toElemKey,n.id,n.combinationMaxScale]),d=qr(n),m=rr(c),p=Pr(l,n,n.fontFamily,a),y="\n  ".concat(p.root,"\n  ").concat(p.text,"\n\n  .axisTextStyle-").concat(l," {\n    fill: ").concat(n.textColor,";\n    ").concat(p.p(a.axisTick),"\n    text-anchor: end;\n  }\n  .barTextStyle-").concat(l," {\n    fill: ").concat(n.textColor,";\n    ").concat(p.p(a.barLabel),"\n    text-anchor: middle;\n  }\n  .setTextStyle-").concat(s.id," {\n    fill: ").concat(n.textColor,";\n    ").concat(p.p(a.setLabel),"\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-").concat(l," {\n    fill: ").concat(n.textColor,";\n    ").concat(p.p(a.chartLabel),"\n  }\n\n  .not-").concat(s.id," {\n    text-decoration: overline;\n  }\n\n  .axisLine-").concat(l," {\n    fill: none;\n    stroke: ").concat(n.textColor,";\n  }\n\n  .gridStyle-").concat(s.id," {\n    fill: none;\n    stroke: ").concat(n.strokeColor,";\n    stroke-linecap: round;\n  }\n  .gridStyle-").concat(s.id,"-1 {\n    stroke-width: 2;\n  }\n  .gridStyle-").concat(s.id,"-2 {\n    stroke-width: 3;\n  }\n\n  ").concat(p.fill,"\n  ").concat(p.export,"\n\n  ").concat(o.map((function(e,t){return".fillQ".concat(t,"-").concat(f.id," {\n    fill: ").concat(e.color,";\n  }")})).join("\n"),"\n  "),h=Rr(f,n,"kmap"),v=f.sets.l.reduce((function(e,t){return Math.min(e,t.text[0].x-f.sets.labelHeight)}),u.area.w);return $e.createElement(zr,{rules:y,style:s,size:u,p:n,data:f,tRef:t,selectionName:m,h:d,exportChart:h},$e.createElement(pr,{style:s,width:v}),$e.createElement(Kr,{style:s,data:f,h:d,size:u}),$e.createElement(Gr,{style:s,data:f,hasHover:d.hasHover,selection:c}),$e.createElement($r,{style:s,data:f,hasHover:d.hasHover,queries:o,secondary:d.hasHover||null!=c}))}));Math.PI,Object.freeze({__proto__:null,widthRatios:function(e){return null==e||Array.isArray(e)&&e.length>=2&&e.every((function(e){return"number"==typeof e}))},heightRatios:function(e){return null==e||Array.isArray(e)&&e.length>=1&&e.every((function(e){return"number"==typeof e}))},setLabelAlignment:function(e){return null==e||"left"===e||"center"===e||"right"===e},sets:function(e){return Array.isArray(e)&&e.every(nt)},combinations:function(e){return null==e||Array.isArray(e)&&e.every(rt)||function(e){var t=e;return null!=e&&(null==t.type||["intersection","union"].includes(t.type))}(e)},selection:function(e){return null==e||Array.isArray(e)||ot(e)},onHover:function(e){return null==e||"function"==typeof e},onClick:function(e){return null==e||"function"==typeof e},onContextMenu:function(e){return null==e||"function"==typeof e},onMouseMove:function(e){return null==e||"function"==typeof e},queries:function(e){return!e||Array.isArray(e)&&e.every(at)},stringOrFalse:function(e){return null==e||"string"==typeof e||!1===e},theme:function(e){return null==e||"light"===e||"dark"===e||"vega"===e},classNames:function(e){return null==e||Object.keys(e).every((function(t){return bn.includes(t)&&"string"==typeof e[t]}))},fontSizes:function(e){return null==e||Object.keys(e).every((function(t){return xn.includes(t)&&"string"==typeof e[t]}))},numericScale:function(e){return null==e||"linear"===e||"log"===e||"function"==typeof e},bandScale:function(e){return null==e||"band"===e||"function"==typeof e},axisOffset:function(e){return null==e||"auto"===e||"number"==typeof e},style:function(e){return null==e||"object"===j(e)},styles:function(e){return null==e||Object.keys(e).every((function(e){return bn.includes(e)}))},exportButtons:function(e){return null==e||"boolean"==typeof e||Object.keys(e).every((function(t){return wn.includes(t)&&"boolean"==typeof e[t]}))}});var eo=Math.sqrt(2*Math.PI);function to(e){return Math.exp(-.5*e*e)/eo}function no(e){var t=e.items.length,n=function(e,t,n){var r=Math.sqrt(function(e,t){return e*t/(t-1)}(t,n));return"number"==typeof e&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(n,-.2)}(e.iqr,e.variance,t);return function(r){var o=0,a=0;for(o=0;o<t;o++)a+=to((r-e.items[o])/n);return a/n/t}}function ro(e,t,n){var r=t-1,o=function(t){var o=t*r,a=Math.floor(o),i=o-a,c=e[a];return 0===i?c:n(c,e[Math.min(a+1,r)],i)};return{q1:o(.25),median:o(.5),q3:o(.75)}}function oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e,t,n){return e+n*(t-e)}))}function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=t,r=Math.floor((n+3)/2)/2,o=function(t){return.5*(e[Math.floor(t)-1]+e[Math.ceil(t)-1])};return{q1:o(r),median:o((n+1)/2),q3:o(n+1-r)}}function io(e){for(var t=0,n=e.length,r=e instanceof Float64Array?new Float64Array(n):new Float32Array(n),o=0;o<n;o+=1){var a=e[o];null==a||Number.isNaN(a)||(r[t]=a,t+=1)}var i=n-t;if(0===t)return{min:Number.NaN,max:Number.NaN,missing:i,s:[]};var c=t===n?r:r.subarray(0,t);return c.sort((function(e,t){return e===t?0:e<t?-1:1})),{min:c[0],max:c[c.length-1],missing:i,s:c}}function co(e){return 0===e.length?{min:Number.NaN,max:Number.NaN,missing:0,s:[]}:{min:e[0],max:e[e.length-1],missing:0,s:e}}function lo(e,t,n,r,o){for(var a=o.eps,i=o.quantiles,c=o.coef,l=o.whiskersMode,s=function(e,t){return Math.abs(e-t)<a},u=i(e,t),f=u.median,d=u.q1,m=u.q3,p=m-d,y="number"==typeof c&&c>0,h=y?Math.max(n,d-c*p):n,v=y?Math.min(r,m+c*p):r,_=[],g=0;g<t;g+=1){var x=e[g];if(x>=h||s(x,h)){"nearest"===l&&(h=x);break}0!==_.length&&s(_[_.length-1],x)||_.push(x)}for(var b=[],w=t-1;w>=0;w-=1){var S=e[w];if(S<=v||s(S,v)){"nearest"===l&&(v=S);break}0!==b.length&&s(b[b.length-1],S)||0!==_.length&&s(_[_.length-1],S)||b.push(S)}return{median:f,q1:d,q3:m,iqr:p,outlier:_.concat(b.reverse()),whiskerHigh:v,whiskerLow:h}}function so(e,t){for(var n=0,r=0;r<t;r++)n+=e[r];n/=t;for(var o=0,a=0;a<t;a++){var i=e[a];o+=(i-n)*(i-n)}return{mean:n,variance:o/=t}}function uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=q({coef:1.5,eps:.01,quantiles:oo,validAndSorted:!1,whiskersMode:"nearest"},t),r=n.validAndSorted?co(e):io(e),o=r.missing,a=r.s,i=r.min,c=r.max,l={min:Number.NaN,max:Number.NaN,mean:Number.NaN,missing:o,iqr:Number.NaN,count:e.length,whiskerHigh:Number.NaN,whiskerLow:Number.NaN,outlier:[],median:Number.NaN,q1:Number.NaN,q3:Number.NaN,variance:0,items:[],kde:function(){return 0}},s=e.length-o;if(0===s)return l;var u=q(q({min:i,max:c,count:e.length,missing:o,items:a},so(a,s)),lo(a,s,i,c,n));return q(q({},u),{},{kde:no(u)})}var fo={hinges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ao(e,t)},fivenum:ao,type7:oo,quantiles:oo,linear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e,t,n){return e+(t-e)*n}))},lower:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e){return e}))},higher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e,t){return t}))},nearest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e,t,n){return n<.5?e:t}))},midpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return ro(e,t,(function(e,t){return.5*(e+t)}))}};function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t,{quantiles:"function"==typeof t.quantiles||null==t.quantiles?t.quantiles:fo[t.quantiles]});return null==n.quantiles&&delete n.quantiles,uo(e,n)}function po(e){var t=e[1]-e[0];return function(n){return n*t+e[0]}}function yo(e){var t=e[1]-e[0];return function(n){return(n-e[0])/t}}function ho(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function vo(e){return Math.round(100*e)/100}function _o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",r=yo(e),o=po(e),a=po(t),i=function(e){return a(r(e))},c="horizontal"===n?5:7;return i.ticks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return Array(e).fill(0).map((function(t,n){var r=o(n/(e-1));return{value:r,label:r.toLocaleString(void 0,{maximumFractionDigits:2})}}))},i.tickFormat=function(){return function(e){return e.toFixed(2)}},i}var go=function(e){return e.toFixed(2)};function xo(e,t){return"Min: ".concat(t(e.min),", 25% Quantile: ").concat(t(e.q1),", Median: ").concat(t(e.median),", 75% Quantile: ").concat(t(e.q3),", Max: ").concat(t(e.max))}var bo=function(e){var t=e.theme,n=void 0===t?"light":t,r=e.mode,o=void 0===r?"normal":r,a=e.boxStyle,i=e.lineStyle,c=e.outlierStyle,l=e.margin,s=void 0===l?0:l,u=e.boxPadding,f=void 0===u?.1:u,d=e.outlierRadius,m=void 0===d?3:d,p=e.numberFormat,y=void 0===p?go:p,h=ho(e,["theme","mode","boxStyle","lineStyle","outlierStyle","margin","boxPadding","outlierRadius","numberFormat"]),v=Array.isArray(e.values)?mo(e.values,h):e.values;if(Number.isNaN(v.median))return $e.createElement("g",null);var _="vertical"!==e.orient,g=yo([e.min,e.max]),x=po([0,_?e.width:e.height]),b=function(e){return vo(x(g(e)))},w={max:b(v.max),avg:b(v.mean),med:b(v.median),min:b(v.min),q1:b(v.q1),q3:b(v.q3),wh:b(v.whiskerHigh),wl:b(v.whiskerLow)},S=!1!==e.tooltips&&$e.createElement("title",null,xo(v,y)),k=jn(n).notMemberColor,E={box:Object.assign({fill:k},a),line:Object.assign({fill:"none",stroke:"light"===n?"black":"#cccccc"},i),outlier:Object.assign({fill:k},c)};if(_){var C=e.height/2,N=vo(e.height*f)+s,M=e.height-N,A="M".concat(w.wl,",").concat(s," l0,").concat(e.height-2*s," M").concat(w.wl,",").concat(C," L").concat(w.q1,",").concat(C),O="M".concat(w.q3,",").concat(C," L").concat(w.wh,",").concat(C," M").concat(w.wh,",").concat(s," L").concat(w.wh,",").concat(e.height-s),L="M".concat(w.q1,",").concat(N," L").concat(w.q3,",").concat(N," L").concat(w.q3,",").concat(M," L").concat(w.q1,",").concat(M," L").concat(w.q1,",").concat(N," M").concat(w.med,",").concat(N," l0,").concat(M-N),T=$e.createElement("path",{d:"".concat(A," ").concat(O," ").concat(L),style:E.line});return"indicator"===o?T:$e.createElement("g",null,S,"normal"===o&&$e.createElement("rect",{x:w.q1,y:N,width:w.q3-w.q1,height:e.height-2*N,style:E.box}),T,v.outlier.map((function(e){return $e.createElement("circle",{key:e,r:m,cy:C,cx:b(e),style:E.outlier},$e.createElement("title",null,"$",y(e)))})))}var I=e.width/2,P=vo(e.width*f)+s,q=e.width-P,j="M".concat(s,",").concat(w.wl," l").concat(e.width-2*s,",0 M").concat(I,",").concat(w.wl," L").concat(I,",").concat(w.q1),z="M".concat(I,",").concat(w.q3," L").concat(I,",").concat(w.wh," M").concat(s,",").concat(w.wh," L").concat(e.width-s,",").concat(w.wh),F="M".concat(P,",").concat(w.q1," L").concat(P,",").concat(w.q3," l").concat(q-P,",0 L").concat(q,",").concat(w.q1," L").concat(P,",").concat(w.q1," M").concat(P,",").concat(w.med," l").concat(q-P,",0"),H=$e.createElement("path",{d:"".concat(j," ").concat(z," ").concat(F),style:E.line});return"indicator"===o?H:$e.createElement("g",null,S,"normal"===o&&$e.createElement("rect",{y:w.q1,x:P,height:w.q3-w.q1,width:e.width-2*P,style:E.box}),H,v.outlier.map((function(e){return $e.createElement("circle",{key:e,r:m,cx:I,cy:b(e),style:E.outlier},$e.createElement("title",null,"$",y(e)))})))},wo=$e.memo(bo);function So(e,t,n){return void 0===n&&(n={}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.size,o=void 0===r?100:r,a=n.position,i=n.name,c=void 0===i?e.toString():i,l=ho(n,["size","position","name"]),s="function"==typeof e?e:function(t){return t[e]},u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;if(Array.isArray(t))t.forEach((function(e){var t=s(e);null==t||Number.isNaN(t)||(t<u&&(u=t),t>f&&(f=t))}));else{var d=t;u=d.min,f=d.max}var m=_o([u,f],[0,o],l.orient);return{name:c,position:a,size:o,scale:m,createOnHandlerData:function(e){var t=mo(e.elems.map(s),l);return{id:"boxplot",name:c,value:Object.assign(Object.assign(Object.assign({},t),{toString:function(){var e;return xo(this,null!==(e=l.numberFormat)&&void 0!==e?e:go)}}),t)}},render:function(e){var t=e.width,n=e.height,r=e.set,o=e.theme,a=r.elems.map(s);return $e.createElement(wo,Object.assign({values:a,width:t,height:n,min:u,max:f,theme:o},l))},renderSelection:function(e){var t=e.width,n=e.height,r=e.overlap,o=e.selectionColor,a=e.theme;if(null==r||0===r.length)return null;var i=r.map(s);return $e.createElement(wo,Object.assign({values:i,width:t,height:n,min:u,max:f,mode:"box",lineStyle:{stroke:o,strokeWidth:2},outlierStyle:{fill:o},theme:a},l))},renderQuery:function(e){var t=e.width,n=e.height,r=e.overlap,o=e.query,a=e.secondary,i=e.index,c=e.theme;if(null==r||0===r.length)return null;var d=r.map(s);return $e.createElement(wo,Object.assign({values:d,width:t,height:n,min:u,max:f,mode:a?"indicator":"box",margin:a?i+2:0,lineStyle:{stroke:o.color,strokeWidth:a?1:2},outlierStyle:{fill:o.color},theme:c},l))}}}(e,t,n)}var ko=n(6329);function Eo(e){return new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(()=>{const e=JSON.parse(r.result);t(e)})),r.addEventListener("error",(()=>{n(r.error)})),r.readAsText(e)}))}const Co=document.getElementById("app");function No(){Co.style.backgroundColor=jn("dark").backgroundColor}function Mo(e){return void 0!==e.overlaps}function Ao(e,t,n){"venn"===n?function(e,t){T(d(Br,t),e)}(e,t):"kmap"===n?function(e,t){T(d(Xr,t),e)}(e,t):function(e,t){T(d(jr,t),e)}(e,t)}function Oo(e,t=!1){var n;const[r,o,a]=function(e){const t=new URLSearchParams(window.location.search),n={};let r;return t.has("theme")&&(n.theme="dark"===t.get("theme")?"dark":"light"),t.has("static")?e=!1:t.has("interactive")&&(e=""===t.get("interactive")||Boolean(t.get("interactive"))),t.has("width")&&(n.width=Number.parseInt(t.get("width"),10)),t.has("height")&&(n.height=Number.parseInt(t.get("height"),10)),t.has("mode")&&(r=t.get("mode")),[n,e,r]}(!0),i=Mo(e)?[]:function(e,t){return e.map((e=>{var n;if("string"==typeof e||"number"==typeof e)return{name:String(e),attrs:{}};const r=null!==(n=e.attrs)&&void 0!==n?n:{};return Array.isArray(e)?(t.forEach(((t,n)=>r[t]=e[n+1])),{name:e[0],attrs:r}):(t.forEach((t=>{void 0!==e[t]&&(r[t]=e[t])})),{name:e.name,attrs:r})}))}(e.elements,e.attrs),c=null!=a?a:e.mode,l=Object.assign({id:"upset",sets:[],width:Co.clientWidth,height:Co.clientHeight,title:e.name,description:e.description},Mo(e)?function(e){var t,n=null!==(t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toKey)&&void 0!==t?t:kt,r=function(){return 0};function o(e){return e.overlap=function(t){return r(e,t)},e}var a=e.sets.map((function(e){return o({name:ln(e)?e.n:e.name,cardinality:ln(e)?e.c:e.cardinality,type:"set",elems:[]})})),i=function(e){return a.filter((function(t,n){var r=Math.pow(2,n);return(e&r)===r}))},c=e.combinations.map((function(e){var t,n,r=cn(e)?i(e.s):e.sets.map((function(e){return a[e]})),c={i:"intersection",u:"union",c:"composite",d:"distinctIntersection"}[(null!==(t=e.type)&&void 0!==t?t:"i")[0]];return o({name:cn(e)?null!==(n=e.n)&&void 0!==n?n:on(r,c):e.name,cardinality:cn(e)?e.c:e.cardinality,type:c,degree:r.length,sets:new Set(r),elems:[]})})),l=Ft(e.overlaps,a,c,n),s=l.setIndex,u=l.combinationIndex,f=l.compute;function d(e){return"set"===e.type?a[e.index]:c[e.index]}function m(e){return function(t){var r=n(t),o=s.has(r)?s.get(r):u.get(r);return null==o||o<0||o>=e.length?0:e[o]}}return r=f,{sets:a,combinations:c,selection:e.selection?Array.isArray(e.selection)?m(e.selection):d(e.selection):void 0,queries:e.queries.map((function(e){return e.set?{name:e.name,color:e.color,set:d(e.set)}:{name:e.name,color:e.color,overlap:m(e.overlaps)}}))}}(e):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.sets.map((function(e){return St(Object.assign(Object.assign({},e),{elems:tn(e.elems,t)}))})),o=function(){var o;return wt(r,Object.assign({type:"intersection",elems:t,toElemKey:n.toElemKey},null!==(o=e.combinationOptions)&&void 0!==o?o:{}))},a=e.combinations?e.combinations.map((function(e){return mt(Object.assign(Object.assign({},e),{elems:tn(e.elems,t)}),e.type,(function(e){return e.sets.map((function(e){return r[e]}))}))})):o();function i(e){return"set"===e.type?r[e.index]:a[e.index]}return{sets:r,combinations:a,selection:e.selection?"string"==typeof e.selection||Array.isArray(e.selection)?tn(e.selection,t):i(e.selection):void 0,queries:e.queries.map((function(e){return e.set?{name:e.name,color:e.color,set:i(e.set)}:{name:e.name,color:e.color,elems:tn(e.elems,t)}}))}}(e,i,{}),e.props||{},r,o?{onHover:e=>{l.selection=e,Ao(Co,l,c)}}:{},!Mo(e)&&e.attrs.length>0?{combinationAddons:e.attrs.map((e=>So((t=>t.attrs[e]),i,{orient:"vertical",name:e}))),setAddons:e.attrs.map((e=>So((t=>t.attrs[e]),i,{name:e})))}:{});"dark"===l.theme&&No(),document.title=`UpSet.js - ${e.name}`,document.querySelector("title").textContent=`UpSet.js - ${e.name}`,document.querySelector("meta[name=description]").setAttribute("content",e.description),document.querySelector("meta[name=author]").setAttribute("content",null!==(n=e.author)&&void 0!==n?n:"Unknown"),window.addEventListener("resize",(()=>{l.width=Co.clientWidth,l.height=Co.clientHeight,Ao(Co,l,c)})),t?"venn"===c?function(e,t){I(d(Br,t),e)}(Co,l):"kmap"===c?function(e,t){I(d(Xr,t),e)}(Co,l):function(e,t){I(d(jr,t),e)}(Co,l):(Co.innerHTML="",Ao(Co,l,c))}function Lo(e){const t=document.createElement("script");t.textContent=`window.UPSET_DUMP = ${JSON.stringify(e,null,2)}`,document.body.insertAdjacentElement("afterbegin",t)}Object.assign(Co.style,{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),"dark"===new URLSearchParams(window.location.search).get("theme")&&No(),window.onload=()=>{const e=function(){const e=new URLSearchParams(window.location.search);if(!e.has("p"))return null;try{const t=(0,ko.decompressFromEncodedURIComponent)(e.get("p"));return JSON.parse(t)}catch(e){return console.warn("cannot parse props argument: ",e),null}}();if(e)return Lo(e),void Oo(e);const t=window.UPSET_DUMP||null;t?Oo(t,!0):(function(e,t){e.innerHTML='\n  <input type="file" accept="application/json,.json">\n  ',e.querySelector("input").addEventListener("change",(e=>{Eo(e.currentTarget.files[0]).then((e=>{t(e)}))})),e.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation()})),e.addEventListener("drop",(e=>{1===e.dataTransfer.files.length&&(e.preventDefault(),Eo(e.dataTransfer.files[0]).then((e=>{t(e)})))}))}(Co,(e=>{Lo(e),Oo(e)})),window.addEventListener("message",(e=>{const t=e.data;t&&Array.isArray(t.sets)&&(!Mo(t)&&Array.isArray(t.elements)||Mo(t)&&Array.isArray(t.combinations))&&(Lo(t),Oo(t))}),!1))}})()})();