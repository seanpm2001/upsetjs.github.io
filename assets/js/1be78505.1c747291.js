/*! For license information please see 1be78505.1c747291.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9,45],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(115),l=n(17),o=n(26),i=n(137),c=n(3),u=n(118),d=n(117),m=n(176),y=n(179),f=n(180),p=n(178),h=n(125),g=n(128),x=n(181);var b=e=>r.a.createElement("svg",Object(c.a)({width:"20",height:"20",role:"img"},e),r.a.createElement("g",{fill:"#7a7a7a"},r.a.createElement("path",{d:"M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"}),r.a.createElement("path",{d:"M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"}))),v=n(183),$=n(72),w=n.n($);const S=(e,t)=>"link"===e.type?Object(d.isSamePath)(e.href,t):"category"===e.type&&e.items.some((e=>S(e,t)));function E({item:e,onItemClick:t,collapsible:n,activePath:s,...l}){const{items:o,label:i}=e,d=S(e,s),m=function(e){const t=Object(a.useRef)(e);return Object(a.useEffect)((()=>{t.current=e}),[e]),t.current}(d),[y,f]=Object(a.useState)((()=>!!n&&(!d&&e.collapsed))),p=Object(a.useRef)(null),[h,g]=Object(a.useState)(void 0),x=(e=!0)=>{var t;g(e?`${null===(t=p.current)||void 0===t?void 0:t.scrollHeight}px`:void 0)};Object(a.useEffect)((()=>{d&&!m&&y&&f(!1)}),[d,m,y]);const b=Object(a.useCallback)((e=>{e.preventDefault(),h||x(),setTimeout((()=>f((e=>!e))),100)}),[h]);return 0===o.length?null:r.a.createElement("li",{className:Object(u.a)("menu__list-item",{"menu__list-item--collapsed":y}),key:i},r.a.createElement("a",Object(c.a)({className:Object(u.a)("menu__link",{"menu__link--sublist":n,"menu__link--active":n&&d,[w.a.menuLinkText]:!n}),onClick:n?b:void 0,href:n?"#!":void 0},l),i),r.a.createElement("ul",{className:"menu__list",ref:p,style:{height:h},onTransitionEnd:()=>{y||x(!1)}},o.map((e=>r.a.createElement(O,{tabIndex:y?"-1":"0",key:e.label,item:e,onItemClick:t,collapsible:n,activePath:s})))))}function k({item:e,onItemClick:t,activePath:n,collapsible:a,...s}){const{href:l,label:o}=e,i=S(e,n);return r.a.createElement("li",{className:"menu__list-item",key:o},r.a.createElement(h.a,Object(c.a)({className:Object(u.a)("menu__link",{"menu__link--active":i}),to:l},Object(g.a)(l)?{isNavLink:!0,exact:!0,onClick:t}:{target:"_blank",rel:"noreferrer noopener"},s),o))}function O(e){switch(e.item.type){case"category":return r.a.createElement(E,e);case"link":default:return r.a.createElement(k,e)}}var C=function({path:e,sidebar:t,sidebarCollapsible:n=!0,onCollapse:s,isHidden:l}){const[o,i]=Object(a.useState)(!1),{navbar:{hideOnScroll:c},hideableSidebar:h}=Object(d.useThemeConfig)(),{isAnnouncementBarClosed:g}=Object(m.a)(),{scrollY:$}=Object(p.a)();Object(y.a)(o);const S=Object(f.a)();return Object(a.useEffect)((()=>{S===f.b.desktop&&i(!1)}),[S]),r.a.createElement("div",{className:Object(u.a)(w.a.sidebar,{[w.a.sidebarWithHideableNavbar]:c,[w.a.sidebarHidden]:l})},c&&r.a.createElement(x.a,{tabIndex:-1,className:w.a.sidebarLogo}),r.a.createElement("div",{className:Object(u.a)("menu","menu--responsive","thin-scrollbar",w.a.menu,{"menu--show":o,[w.a.menuWithAnnouncementBar]:!g&&0===$})},r.a.createElement("button",{"aria-label":o?"Close Menu":"Open Menu","aria-haspopup":"true",className:"button button--secondary button--sm menu__button",type:"button",onClick:()=>{i(!o)}},o?r.a.createElement("span",{className:Object(u.a)(w.a.sidebarMenuIcon,w.a.sidebarMenuCloseIcon)},"\xd7"):r.a.createElement(v.a,{className:w.a.sidebarMenuIcon,height:24,width:24})),r.a.createElement("ul",{className:"menu__list"},t.map((t=>r.a.createElement(O,{key:t.label,item:t,onItemClick:e=>{e.target.blur(),i(!1)},collapsible:n,activePath:e}))))),h&&r.a.createElement("button",{type:"button",title:"Collapse sidebar","aria-label":"Collapse sidebar",className:Object(u.a)("button button--secondary button--outline",w.a.collapseSidebarButton),onClick:s},r.a.createElement(b,{className:w.a.collapseSidebarButtonIcon,"aria-label":"Collapse sidebar"})))},M=n(201),N=n(175),A=n(121),L=n(78),j=n.n(L);function q({currentDocRoute:e,versionMetadata:t,children:n}){var o,c;const{siteConfig:m,isClient:y}=Object(l.default)(),{pluginId:f,permalinkToSidebar:p,docsSidebars:h,version:g}=t,x=p[e.path],v=h[x],[$,w]=Object(a.useState)(!1),[S,E]=Object(a.useState)(!1),k=Object(a.useCallback)((()=>{S&&E(!1),w(!$)}),[S]);return r.a.createElement(i.a,{key:y,searchMetadatas:{version:g,tag:Object(d.docVersionSearchTag)(f,g)}},r.a.createElement("div",{className:j.a.docPage},v&&r.a.createElement("div",{className:Object(u.a)(j.a.docSidebarContainer,{[j.a.docSidebarContainerHidden]:$}),onTransitionEnd:e=>{e.currentTarget.classList.contains(j.a.docSidebarContainer)&&$&&E(!0)},role:"complementary"},r.a.createElement(C,{key:x,sidebar:v,path:e.path,sidebarCollapsible:null===(o=null===(c=m.themeConfig)||void 0===c?void 0:c.sidebarCollapsible)||void 0===o||o,onCollapse:k,isHidden:S}),S&&r.a.createElement("div",{className:j.a.collapsedDocSidebar,title:"Expand sidebar","aria-label":"Expand sidebar",tabIndex:0,role:"button",onKeyDown:k,onClick:k},r.a.createElement(b,{"aria-label":"Expand sidebar"}))),r.a.createElement("main",{className:j.a.docMainContainer},r.a.createElement("div",{className:Object(u.a)("container padding-vert--lg",j.a.docItemWrapper,{[j.a.docItemWrapperEnhanced]:$})},r.a.createElement(s.a,{components:M.a},n)))))}t.default=function(e){const{route:{routes:t},versionMetadata:n,location:a}=e,s=t.find((e=>Object(A.matchPath)(a.pathname,e)));return s?r.a.createElement(q,{currentDocRoute:s,versionMetadata:n},Object(o.a)(t)):r.a.createElement(N.default,e)}},175:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(137);t.default=function(){return r.a.createElement(s.a,{title:"Page Not Found"},r.a.createElement("main",{className:"container margin-vert--xl"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col--6 col--offset-3"},r.a.createElement("h1",{className:"hero__title"},"Page Not Found"),r.a.createElement("p",null,"We could not find what you were looking for."),r.a.createElement("p",null,"Please contact the owner of the site that linked you to the original URL and let them know their link is broken.")))))}},202:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"asCombination",(function(){return _})),n.d(a,"asCombinations",(function(){return I})),n.d(a,"asSet",(function(){return U})),n.d(a,"asSets",(function(){return Q})),n.d(a,"bandScale",(function(){return re})),n.d(a,"extractFromExpression",(function(){return ne})),n.d(a,"extractSets",(function(){return ae})),n.d(a,"fromDump",(function(){return $e})),n.d(a,"fromIndicesArray",(function(){return be})),n.d(a,"fromSetName",(function(){return q})),n.d(a,"fromStaticDump",(function(){return Ne})),n.d(a,"generateCombinations",(function(){return W})),n.d(a,"isCalcQuery",(function(){return g})),n.d(a,"isElemQuery",(function(){return h})),n.d(a,"isGenerateSetCombinationOptions",(function(){return k})),n.d(a,"isSet",(function(){return w})),n.d(a,"isSetCombination",(function(){return S})),n.d(a,"isSetLike",(function(){return E})),n.d(a,"isSetQuery",(function(){return x})),n.d(a,"isUpSetQuery",(function(){return O})),n.d(a,"linearScale",(function(){return me})),n.d(a,"logScale",(function(){return ge})),n.d(a,"mergeColors",(function(){return F})),n.d(a,"parseColor",(function(){return B})),n.d(a,"queryElemOverlap",(function(){return v})),n.d(a,"queryOverlap",(function(){return b})),n.d(a,"setElemIntersectionFactory",(function(){return p})),n.d(a,"setElemOverlap",(function(){return f})),n.d(a,"setElemOverlapFactory",(function(){return y})),n.d(a,"setOverlap",(function(){return m})),n.d(a,"setOverlapFactory",(function(){return d})),n.d(a,"toDump",(function(){return we})),n.d(a,"toIndicesArray",(function(){return xe})),n.d(a,"toKey",(function(){return G})),n.d(a,"toStaticDump",(function(){return Oe}));var r={};n.r(r),n.d(r,"asCombination",(function(){return _})),n.d(r,"asCombinations",(function(){return I})),n.d(r,"asSet",(function(){return U})),n.d(r,"asSets",(function(){return Q})),n.d(r,"bandScale",(function(){return re})),n.d(r,"extractFromExpression",(function(){return ne})),n.d(r,"extractSets",(function(){return ae})),n.d(r,"fromDump",(function(){return $e})),n.d(r,"fromIndicesArray",(function(){return be})),n.d(r,"fromSetName",(function(){return q})),n.d(r,"fromStaticDump",(function(){return Ne})),n.d(r,"generateCombinations",(function(){return W})),n.d(r,"isCalcQuery",(function(){return g})),n.d(r,"isElemQuery",(function(){return h})),n.d(r,"isGenerateSetCombinationOptions",(function(){return k})),n.d(r,"isSet",(function(){return w})),n.d(r,"isSetCombination",(function(){return S})),n.d(r,"isSetLike",(function(){return E})),n.d(r,"isSetQuery",(function(){return x})),n.d(r,"isUpSetQuery",(function(){return O})),n.d(r,"linearScale",(function(){return me})),n.d(r,"logScale",(function(){return ge})),n.d(r,"mergeColors",(function(){return F})),n.d(r,"parseColor",(function(){return B})),n.d(r,"queryElemOverlap",(function(){return v})),n.d(r,"queryOverlap",(function(){return b})),n.d(r,"setElemIntersectionFactory",(function(){return p})),n.d(r,"setElemOverlap",(function(){return f})),n.d(r,"setElemOverlapFactory",(function(){return y})),n.d(r,"setOverlap",(function(){return m})),n.d(r,"setOverlapFactory",(function(){return d})),n.d(r,"toDump",(function(){return we})),n.d(r,"toIndicesArray",(function(){return xe})),n.d(r,"toKey",(function(){return G})),n.d(r,"toStaticDump",(function(){return Oe})),n.d(r,"default",(function(){return Pn})),n.d(r,"KarnaughMap",(function(){return Mn})),n.d(r,"KarnaughMapSkeleton",(function(){return _n})),n.d(r,"UpSetJS",(function(){return un})),n.d(r,"UpSetJSSkeleton",(function(){return qn})),n.d(r,"VennDiagram",(function(){return gn})),n.d(r,"VennDiagramSkeleton",(function(){return zn})),n.d(r,"createVennJSAdapter",(function(){return Bn})),n.d(r,"downloadUrl",(function(){return pt})),n.d(r,"exportSVG",(function(){return ft})),n.d(r,"exportVegaLite",(function(){return ht})),n.d(r,"fillDefaults",(function(){return it})),n.d(r,"fillDefaultsG",(function(){return lt})),n.d(r,"fillKarnaughMapDefaults",(function(){return mt})),n.d(r,"fillKarnaughMapDefaultsG",(function(){return dt})),n.d(r,"fillVennDiagramDefaults",(function(){return ut})),n.d(r,"fillVennDiagramDefaultsG",(function(){return ct})),n.d(r,"getDefaultTheme",(function(){return rt})),n.d(r,"isEllipse",(function(){return Ze})),n.d(r,"propValidators",(function(){return Fn})),n.d(r,"toUpSetJSDump",(function(){return bt})),n.d(r,"toUpSetJSStaticDump",(function(){return vt}));var s={};n.r(s),n.d(s,"BarChart",(function(){return sa})),n.d(s,"Histogram",(function(){return ga})),n.d(s,"PieChart",(function(){return ba})),n.d(s,"Scatterplot",(function(){return pa})),n.d(s,"createAggregatedGroupSetComposite",(function(){return ma})),n.d(s,"createIntervalSetComposite",(function(){return ia})),n.d(s,"createSetComposite",(function(){return ta})),n.d(s,"fillDefaults",(function(){return Wn})),n.d(s,"isAggregatedGroupSetComposite",(function(){return da})),n.d(s,"isIntervalSetComposite",(function(){return la})),n.d(s,"useVegaAggregatedGroupSelection",(function(){return ya})),n.d(s,"useVegaBinSelection",(function(){return fa})),n.d(s,"useVegaIntervalSelection",(function(){return ua})),n.d(s,"useVegaMultiSelection",(function(){return ra}));var l={};n.r(l),n.d(l,"Boxplot",(function(){return ja})),n.d(l,"Categorical",(function(){return Ba})),n.d(l,"boxplotAddon",(function(){return za})),n.d(l,"boxplotAggregatedAddon",(function(){return _a})),n.d(l,"categoricalAddon",(function(){return Ha})),n.d(l,"categoricalAggregatedAddon",(function(){return Ra})),n.d(l,"simpleScale",(function(){return Na}));var o={};n.r(o),n.d(o,"elems",(function(){return Da})),n.d(o,"sets",(function(){return Wa})),n.d(o,"queries",(function(){return Ua})),n.d(o,"colors",(function(){return Va}));var i=n(0),c=n.n(i);function u(e){return e instanceof Set?e.size:e.length}function d(e,t){const n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),a=n.size,r={setA:a,setB:a,union:a,intersection:a};return s=>{if(s===e)return r;let l=0;s.forEach((e=>{(t&&n.has(t(e))||!t&&n.has(e))&&l++}));const o=u(s);return{setA:a,setB:o,intersection:l,union:a+o-l}}}function m(e,t,n){if(u(e)<u(t)||e instanceof Set)return d(e,n)(t);const a=d(t,n)(e);return Object.assign({},a,{setA:a.setB,setB:a.setA})}function y(e,t){const n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),a=Array.isArray(e)?e:Array.from(e),r={setA:a,setB:a,union:a,intersection:a};return s=>{if(s===e)return r;const l=[],o=a.slice();return s.forEach((e=>{t&&n.has(t(e))||!t&&n.has(e)?l.push(e):o.push(e)})),{setA:a,setB:Array.isArray(s)?s:Array.from(s),intersection:l,union:o}}}function f(e,t,n){if(u(e)<u(t)||e instanceof Set)return y(e,n)(t);const a=y(t,n)(e);return Object.assign({},a,{setA:a.setB,setB:a.setA})}function p(e,t){const n=e instanceof Set?Array.from(e):e,a=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return r=>{if(r===e)return n;const s=[];return r.forEach((e=>{(t&&a.has(t(e))||!t&&a.has(e))&&s.push(e)})),s}}function h(e){return Array.isArray(e.elems)}function g(e){return"function"==typeof e.overlap}function x(e){return null!=e.set}function b(e,t,n){if(g(e))return e.overlap;if(x(e)&&e.set.overlap)return e.set.overlap;const a=d(h(e)?e.elems:e.set.elems,n);return n=>n.overlap&&h(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&x(e)?n.overlap(e.set):a(n.elems)[t]}function v(e,t,n){if(g(e))return()=>null;if("intersection"===t){const t=p(h(e)?e.elems:e.set.elems,n);return e=>t(e.elems)}const a=y(h(e)?e.elems:e.set.elems,n);return e=>a(e.elems)[t]}function $(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function w(e){return $(e)&&"set"===e.type}function S(e){const t=e;return $(e)&&["composite","union","intersection","distinctIntersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function E(e){return w(e)||S(e)}function k(e){const t=e;return null!=e&&(null==t.type||["intersection","union"].includes(t.type))}function O(e){const t=e;return null!=e&&"string"==typeof t.name&&"string"==typeof t.color&&(h(t)||x(t)||g(t))}function C(e,t){return e.name.localeCompare(t.name)}function M(e,t){return t.cardinality-e.cardinality}function N(e,t){return e.degree-t.degree}function A(e){return(t,n)=>e.reduce(((e,a)=>0===e?a(t,n):e),0)}function L(e){return(t,n)=>-e(t,n)}function j(e){return(t,n)=>{const a=e=>e<0?Number.POSITIVE_INFINITY:e;return a(e.findIndex((e=>t.sets.has(e))))-a(e.findIndex((e=>n.sets.has(e))))}}function q(e,t=/[\u2229\u222a&|]/){const n=new Map(e.map((e=>[e.name,e])));return e=>e.name.split(t).map((e=>n.get(e.trim())))}function z(e,t,n={}){let a=t;return n.order&&(a=a.sort(function(e,t){if(!t)return C;const n=Array.isArray(t)?t:[t];return 0===n.length?C:A(n.map((t=>{switch(t){case"cardinality":case"cardinality:desc":return M;case"cardinality:asc":return L(M);case"name:desc":return L(C);case"degree":case"degree:asc":return N;case"degree:desc":return L(N);case"group":case"group:asc":return j(e);case"group:desc":return L(j(e));default:return C}})))}(e,n.order))),null!=n.limit?a.slice(0,n.limit):a}function _(e,t,n){const a=n(e);return Object.assign({type:t,cardinality:e.elems.length,sets:new Set(a),degree:a.length},e)}function I(e,t,n){return e.map((e=>_(e,t,n)))}const T={distinctIntersection:" \u2229 ",intersection:" \u2229 ",union:" \u222a ",composite:","};function B(e){if(!e)return[255,255,255];const t=e.match(/#([\da-f]{2})([\da-f]{2})([\da-f]{2})/i);if(t)return[Number.parseInt(t[1],16),Number.parseInt(t[2],16),Number.parseInt(t[3],16)];const n=e.match(/\(([\d]+)[, ]([\d]+)[, ]([\d]+)\)/i);return n?[Number.parseInt(n[1],10),Number.parseInt(n[2],10),Number.parseInt(n[3],10)]:[255,255,255]}function F(e){if(1===e.length)return e[0];if(e.every((e=>null==e)))return;const t=e.map(B),n=Math.floor(t.reduce(((e,t)=>e+t[0]),0)/t.length),a=Math.floor(t.reduce(((e,t)=>e+t[1]),0)/t.length),r=Math.floor(t.reduce(((e,t)=>e+t[2]),0)/t.length);return`#${n.toString(16)}${a.toString(16)}${r.toString(16)}`}function P(e,t,n){const a=Array.from(e).sort(((e,n)=>t.get(e)-t.get(n)));return 1===a.length?a[0].name:`(${a.map((e=>e.name)).join(n)})`}function K(e,t,n,a,r){return{type:0===n.size?"composite":e,elems:a,color:r(Array.from(n).map((e=>e.color))),sets:n,name:t,cardinality:a.length,degree:n.size}}function H(e,t,n,a,r,s,l){const o=new Set(e.sets);t.sets.forEach((e=>o.add(e)));const i=P(o,r,T[s]);if(0===e.cardinality||0===t.cardinality)return K(s,i,o,[],l);let c=e,u=t;e.cardinality>t.cardinality&&(c=t,u=e);const d=new Set,m=n.get(u),y=[],f=c.elems.length;for(let h=0;h<f;h++){const e=c.elems[h],t=a(e);m.has(t)&&(d.add(t),y.push(e))}const p=K(s,i,o,y,l);return n.set(p,d),p}function R(e,t,n,a,r,s,l){const o=new Set(e.sets);t.sets.forEach((e=>o.add(e)));const i=P(o,r,T[s]);if(0===e.cardinality){const e=K(s,i,o,t.elems,l);return n.set(e,n.get(t)),e}if(0===t.cardinality){const t=K(s,i,o,e.elems,l);return n.set(t,n.get(e)),t}let c=e,u=t;e.cardinality>t.cardinality&&(c=t,u=e);const d=new Set(n.get(u)),m=n.get(u),y=u.elems.slice();c.elems.forEach((e=>{const t=a(e);m.has(t)||(d.add(t),y.push(e))}));const f=K(s,i,o,y,l);return n.set(f,d),f}function D(e,t,n,a,r,s){if("number"==typeof t)return{type:"composite",elems:[],color:s?s([]):void 0,sets:new Set,name:"()",cardinality:t,overlap(e){return e===this||E(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0};if(Array.isArray(t))return K(e,"()",new Set,t,s);const l=Array.from(a.values()),o=n.filter((e=>{const t=r(e);return l.every((e=>!e.has(t)))}));return K(e,"()",new Set,o,s)}function W(e,t={}){const{type:n="intersection",min:a=0,max:r=1/0,empty:s=!1,elems:l=[],notPartOfAnySet:o,toElemKey:i,mergeColors:c=F}=t,u=[],d=new Map(e.map(((e,t)=>[e,t]))),m=new Map(e.map((e=>[e,i?new Set(e.elems.map(i)):new Set(e.elems)]))),y=i?null:m,f=i?m:null,p="union"===n?R:H;function h(t){if(t.degree<a||t.degree>r||0===t.cardinality&&!s)return;if("distinctIntersection"!==n)return void u.push(t);const l=e.filter((e=>!t.sets.has(e))),o=i?t.elems.filter((e=>{const t=i(e);return l.every((e=>!f.get(e).has(t)))})):t.elems.filter((e=>l.every((t=>!y.get(t).has(e)))));if(o.length===t.cardinality)return void u.push(t);const d=K(n,t.name,t.sets,o,c);(0!==d.cardinality||s)&&u.push(d)}function g(e,t,a,l){if(t>r)return;const o=e.length;for(let r=0;r<o;r++){const i=e[r],u=[];for(let t=r+1;t<o;t++){const r=e[t],o=p(i,r,a,l,d,n,c);h(o),("union"===n||o.cardinality>0||s)&&u.push(o)}u.length>1&&g(u,t+1,a,l)}}a<=0&&h(i?D(n,o,l,f,i,c):D(n,o,l,y,(e=>e),c));const x=e.map((e=>{const t=K(n,e.name,new Set([e]),e.elems,c);return m.set(t,m.get(e)),h(t),t}));return i?g(x,2,f,i):g(x,2,y,(e=>e)),z(e,u,t)}function U(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function V(e,t={}){let n=e;if(t.order){const e=function(e){if(!e)return C;switch(e){case"cardinality":case"cardinality:desc":return A([M,C]);case"cardinality:asc":return A([L(M),C]);case"name:desc":return L(C);default:return C}}(t.order);n=n.slice().sort(e)}return null!=t.limit?n.slice(0,t.limit):n}function Q(e,t={}){return V(e.map(U),t)}function G(e){return`${e.name}:${e.type}#${e.cardinality}`}function J(e){return 0===e.sets.size}function Y(e,t,n=G){const a={done:null,aKey:"",bKey:"",aIsSet:!1,bIsSet:!1,toKey:n};return e===t?(a.done=e.cardinality,a):0===e.cardinality||0===t.cardinality?(a.done=0,a):(a.aKey=n(e),a.bKey=n(t),a.aKey===a.bKey?(a.done=e.cardinality,a):(a.aIsSet=w(e),a.bIsSet=w(t),!a.aIsSet&&J(e)||!a.bIsSet&&J(t)?(a.done=0,a):a))}function Z(e,t){return!(t.bIsSet||!t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.aKey)}function X(e,t){return!(!t.bIsSet||t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.bKey)}function ee(e,t=G){return e.map((e=>{const n=Array.from(e.sets).map(t).sort();return{key:n.join("&"),s:n,sets:new Set(n),degree:e.degree,cardinality:e.cardinality}}))}function te(e,t,n){const a=new Set;if(n.aIsSet)a.add(n.aKey);else for(const r of Array.from(e.sets))a.add(n.toKey(r));if(n.bIsSet)a.add(n.bKey);else for(const r of Array.from(t.sets))a.add(n.toKey(r));return Array.from(a).sort().join("&")}function ne(e,t,n={}){var a,r,s;const l="function"==typeof t?t:e=>e.sets,o=null!==(a="function"!=typeof t?t:n)&&void 0!==a?a:{},i=null!==(r=o.type)&&void 0!==r?r:"intersection",c=null!==(s=o.joiner)&&void 0!==s?s:T[i],u=[],d=new Map;let m=null;function y(e){return this===e?this.cardinality:null==m?0:m(this,e)}const f=e.map((e=>{const t=l(e),n=t.map((e=>{if(d.has(e))return d.get(e);const t={cardinality:0,elems:[],name:e,type:"set",overlap:y};return u.push(t),d.set(t.name,t),t}));if("distinctIntersection"===i)for(const r of n)r.cardinality+=e.cardinality;else if(1===t.length)Object.assign(n[0],{cardinality:e.cardinality},e);else if("intersection"===i)for(const r of n)r.cardinality=Math.max(r.cardinality,e.cardinality);else if("union"===i)for(const r of n)r.cardinality=Math.min(r.cardinality,e.cardinality);const a=t.join(c);return Object.assign({type:i,elems:[],name:a,overlap:y},e,{cardinality:e.cardinality,degree:t.length,sets:new Set(n)})})),p=V(u,{order:o.setOrder}),h=z(p,f,{order:o.combinationOrder});switch(i){case"distinctIntersection":m=function(e,t=G){const n=new Map;for(const a of ee(e,t))for(const e of a.s)n.has(e)?n.get(e).push(a):n.set(e,[a]);return(e,a)=>{const r=Y(e,a,t);if(null!=r.done)return r.done;if(!r.aIsSet&&!r.bIsSet)return 0;if(r.aIsSet&&!r.bIsSet)return Z(a,r)?a.cardinality:0;if(!r.aIsSet&&r.bIsSet)return X(e,r)?e.cardinality:0;const s=n.get(r.aKey),l=n.get(r.bKey);return s&&l?s.length<l.length?s.reduce(((e,t)=>e+(t.sets.has(r.bKey)?t.cardinality:0)),0):l.reduce(((e,t)=>e+(t.sets.has(r.aKey)?t.cardinality:0)),0):0}}(h,o.toKey);break;case"union":m=function(e,t=G){const n=new Map(ee(e,t).map((e=>[e.key,e.cardinality])));return(e,a)=>{const r=Y(e,a,t);if(null!=r.done)return r.done;if(r.aIsSet&&!r.bIsSet&&Z(a,r))return e.cardinality;if(!r.aIsSet&&r.bIsSet&&X(e,r))return a.cardinality;const s=te(e,a,r);return n.has(s)?e.cardinality+a.cardinality-n.get(s):0}}(h,o.toKey);break;default:m=function(e,t=G){const n=new Map(ee(e,t).map((e=>[e.key,e.cardinality])));return(e,a)=>{const r=Y(e,a,t);if(null!=r.done)return r.done;if(r.aIsSet&&!r.bIsSet&&Z(a,r))return a.cardinality;if(!r.aIsSet&&r.bIsSet&&X(e,r))return e.cardinality;const s=te(e,a,r);return n.has(s)?n.get(s):0}}(h,o.toKey)}return{sets:p,combinations:h}}function ae(e,t,n={}){var a;const r="function"==typeof t?t:e=>e.sets,s=null!==(a="function"!=typeof t?t:n)&&void 0!==a?a:{},l=new Map;return e.forEach((e=>{r(e).forEach((t=>{const n=String(t);l.has(n)?l.get(n).push(e):l.set(n,[e])}))})),V(Array.from(l).map((([e,t])=>({type:"set",elems:t,name:String(e),cardinality:t.length}))),s)}const re=(e,t,n)=>{const a=e.length+n,r=t/Math.max(1,a),s=t-r*e.length,l=new Map(e.map(((e,t)=>[e,t]))),o=r/(1+n),i=e=>{const t=l.get(e);if(null!=t)return s+r*t};return i.bandwidth=()=>o,i};function se(e,t,n=1){for(let a=0;a<e.length-n;a+=n){const n=e[a],r=e[a+1];if(n<r){if(n+t[a]/2>r-t[a+1]/2)return!0}else{const e=n-t[a]/2;if(r+t[a+1]/2>e)return!0}}return!1}function le(e,t,n,a,r){let s=e[e.length-1];if(!s.label)for(let l=e.length-2;l>0;--l)if(e[l].label){s=e[l];break}if(s.value<t){const l=n(s.value),o=n(t);if(l<o){l+a(s.value)/2<o-a(t)/2&&e.push({value:t,label:r(t)})}else{const n=l-a(s.value)/2;o+a(t)/2<n&&e.push({value:t,label:r(t)})}}return e}function oe(e,t=String,n=1){return e.map(((e,a)=>({value:e,label:1===n||a%n==0?t(e):void 0})))}function ie(e,t,n,a,r){const s=e.map((e=>t(e))),l=e.map((e=>n(e)));return se(s,l)&&se(s,l,2)?null:le(oe(e,r),a,t,n,r)}function ce(e){return e.toLocaleString()}function ue(e,t=1){const n=[];for(let a=0;a<=e;a+=t)n.push(a);return n}function de(e,t,n,a){if(t<=0)return[];const r=function(e,t=11){const n=Math.max(0,Math.floor(Math.log10(e)-.5)),a=Math.pow(10,n),r=[1,2,5],s=r.map((e=>e*a));n>0&&s.unshift(r[r.length-1]*Math.pow(10,n-1)),s.push(r[0]*Math.pow(10,n+1));const l=Math.ceil(e/t);return s.filter((t=>t>=l&&t<=e))}(e,t);for(let s=0;s<r.length;s++){const t=ie(ue(e,r[s]),n,a,e,ce);if(t)return t}return oe([0,e],ce)}const me=(e,t,n)=>{const a=t[1]-t[0],r=e,s=e=>{const n=Math.max(0,Math.min(e,r))/r;return t[0]+n*a};return s.ticks=(t=10)=>{if("vertical"===n.orientation){const a=Math.ceil(1.4*n.fontSizeHint);return de(e,t+1,s,(()=>a))}const a=n.fontSizeHint/1.4;return de(e,t+1,s,(e=>Math.ceil(ce(e).length*a)))},s.tickFormat=()=>ce,s};function ye(e){const t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1));return`${(Math.round(e/Math.pow(10,3*n-1))/10).toLocaleString()}${t[n]}`}function fe(e,t){const n=[],a=Math.pow(10,t);for(let r=1;r<=e;r*=a)n.push(r);return n}function pe(e,t){const n=[];for(let a=1,r=0;a<=e;a*=10,r++){n.push({value:a,label:1===t||r%t==0?ye(a):void 0});for(let r=a+a;r<10*a&&r<e;r+=a*t)n.push({value:r})}return n}function he(e,t,n,a){if(t<=0)return[];for(const r of[1,2,5]){if(ie(fe(e,r),n,a,e,ye))return le(pe(e,r),e,n,a,ye)}return oe([0,e],ye)}const ge=(e,t,n)=>{const a=t[1]-t[0],r=e<1?1:Math.log10(e),s=e=>{const n=Math.max(0,Math.min(e,r)),s=n<=1?0:Math.log10(n)/r;return t[0]+s*a};return s.ticks=(t=10)=>{if("vertical"===n.orientation){const a=Math.ceil(1.4*n.fontSizeHint);return he(e,t+1,s,(()=>a))}const a=n.fontSizeHint/1.4;return he(e,t+1,s,(e=>Math.ceil(ye(e).length*a)))},s.tickFormat=()=>ye,s};function xe(e,t,{sortAble:n,compress:a="auto"}={}){if(0===e.length)return[];const r=e.map((e=>t(e)));if("no"===a)return r;n&&r.sort(((e,t)=>e-t));const s=function(e){if(0===e.length)return"";const t=[];let n=0;const a=a=>(a===n+1?t.push(e[n].toString()):a===n+2&&a<10?t.push(`${e[n]},${e[n+1]}`):t.push(`${e[n]}+${a-n-1}`),a);for(let r=1;r<e.length;r++){const t=e[r-1]+1;e[r]!==t&&(n=a(r),n=r)}return a(e.length),t.join(",")}(r),l=JSON.stringify(r).length,o=s.length+2;return o<.6*l||l-o>50||"yes"===a&&o<l?s:r}function be(e,t){return"string"==typeof e?0===e.length?[]:e.split(",").map((e=>{if(e.includes("+")){const[n,a]=e.split("+").map((e=>Number.parseInt(e,10)));return t.slice(n,n+a+1)}return t[Number.parseInt(e,10)]})).flat():e.map((e=>t[e]))}function ve(e,t){return t.color&&(e.color=t.color),e}function $e(e,t,n={}){const a=e.sets.map((e=>U(Object.assign(Object.assign({},e),{elems:be(e.elems,t)})))),r=e.combinations?e.combinations.map((e=>_(Object.assign(Object.assign({},e),{elems:be(e.elems,t)}),e.type,(e=>e.sets.map((e=>a[e])))))):W(a,Object.assign({type:"intersection",elems:t,toElemKey:n.toElemKey},null!==(s=e.combinationOptions)&&void 0!==s?s:{}));var s;function l(e){return"set"===e.type?a[e.index]:r[e.index]}return{sets:a,combinations:r,selection:e.selection?"string"==typeof e.selection||Array.isArray(e.selection)?be(e.selection,t):l(e.selection):void 0,queries:e.queries.map((e=>e.set?{name:e.name,color:e.color,set:l(e.set)}:{name:e.name,color:e.color,elems:be(e.elems,t)}))}}function we(e,t={}){var n;const a=Object.assign({sortAble:!0},t),r=null!==(n=t.toKey)&&void 0!==n?n:G,s=new Map(e.sets.map(((e,t)=>[r(e),t]))),l=new Map(e.combinations.map(((e,t)=>[r(e),t]))),o=t=>{if("set"===t.type)return{type:t.type,index:s.get(r(t))};const n=l.get(r(t));return null==n||n<0?xe(t.elems,e.toElemIndex,a):{type:t.type,index:n}},i=e.sets.map(((e,t)=>({key:r(e),i:t})));return{sets:e.sets.map((t=>ve({name:t.name,cardinality:t.cardinality,elems:xe(t.elems,e.toElemIndex,a)},t))),combinations:"no"===t.compress?e.combinations.map((t=>{const n=new Set(Array.from(t.sets).map(r));return ve({name:t.name,type:t.type,cardinality:t.cardinality,degree:t.degree,sets:i.filter((({key:e})=>n.has(e))).map((({i:e})=>e)),elems:xe(t.elems,e.toElemIndex,a)},t)})):void 0,combinationOptions:e.combinationOptions,selection:e.selection?Array.isArray(e.selection)?xe(e.selection,e.toElemIndex,a):o(e.selection):void 0,queries:e.queries.map((t=>{const n=x(t)?o(t.set):xe(Array.from(t.elems),e.toElemIndex,a);return{name:t.name,color:t.color,set:"string"==typeof n||Array.isArray(n)?void 0:n,elems:"string"==typeof n||Array.isArray(n)?n:void 0}}))}}function Se(e){if(0===e.length)return[];const[t,n]=e.split(";"),a=Number.parseInt(t,10),r=0===(s=n).length?[]:s.split(",").map((e=>{if(""===e)return 0;if(e.includes("=")){const[t,n]=e.split("=").map((e=>Number.parseInt(e,10)));return Array(n+1).fill(t)}return Number.parseInt(e,10)})).flat();var s;const l=[];let o=0;for(let i=a;i>0;i--)l.push(r.slice(o,o+i)),o+=i;return l}function Ee(e,t,{toElemKey:n,what:a="intersection",compress:r="auto"}={}){const s=e.concat(t);const l=s.map(((e,t)=>{const r=function(e){if(e.overlap)return e.overlap;const t=d(e.elems,n);return n=>n.overlap?n.overlap(e):t(n.elems)[a]}(e),l=[];for(let n=t+1;n<s.length;n++)l.push(r(s[n]));return l}));if(l.pop(),"no"===r)return l;const o=function(e){return 0===e.length?"":`${e.length};${function(e){if(0===e.length)return"";const t=[];let n=e[0],a=1;for(let r=1;r<e.length;r++){const s=e[r];s===n?a++:(a>1?t.push(`${n}=${a-1}`):0===n?t.push(""):t.push(n.toString()),n=s,a=1)}return a>1?t.push(`${n}=${a}`):0===n?t.push(""):t.push(n.toString()),t.join(",")}(e.flat())}`}(l);if("yes"===r)return o;const i=JSON.stringify(l).length;return o.length+2<.6*i?o:l}function ke(e,t){return 1===e.length?e[0].name:`(${e.map((e=>e.name)).join(T[t])})`}function Oe(e,t={}){var n;const a=null!==(n=t.toKey)&&void 0!==n?n:G,r=new Map(e.sets.map(((e,t)=>[a(e),t]))),s=new Map(e.combinations.map(((e,t)=>[a(e),t]))),l=t=>{if(E(t)){if("set"===t.type)return{type:t.type,index:r.get(a(t))};const e=s.get(a(t));if(null!=e&&e>=0)return{type:t.type,index:e}}const n=d(E(t)?t.elems:t);return e.sets.map((e=>n(e.elems).intersection)).concat(e.combinations.map((e=>n(e.elems).intersection)))},o=new Map(e.sets.map(((e,t)=>[a(e),t]))),i=Ee(e.sets,e.combinations,t),c="yes"===t.compress;return{sets:c?e.sets.map((e=>({n:e.name,cc:e.color,c:e.cardinality}))):e.sets.map((e=>ve({name:e.name,cardinality:e.cardinality},e))),combinations:c?e.combinations.map((t=>{const n=Array.from(t.sets).map((e=>o.get(a(e)))).sort(((e,t)=>e-t)),r={c:t.cardinality,s:n.reduce(((e,t)=>e+Math.pow(2,t)),0)};return t.name!==ke(n.map((t=>e.sets[t])),t.type)&&(r.n=t.name),"intersection"!==t.type&&(r.type=t.type[0]),t.color&&(r.cc=t.color),r})):e.combinations.map((e=>ve({name:e.name,cardinality:e.cardinality,type:e.type,sets:Array.from(e.sets).map((e=>o.get(a(e)))).sort(((e,t)=>e-t))},e))),overlaps:i,selection:e.selection?l(e.selection):void 0,queries:e.queries.map((t=>{if(x(t)){const e=l(t.set);return Array.isArray(e)?{name:t.name,color:t.color,overlaps:e}:{name:t.name,color:t.color,set:e}}const n=d(t.elems),a=e.sets.map((e=>n(e.elems).intersection)).concat(e.combinations.map((e=>n(e.elems).intersection)));return{name:t.name,color:t.color,overlaps:a}}))}}function Ce(e){return"number"==typeof e.c}function Me(e){return"number"==typeof e.c}function Ne(e,t={}){var n;const a=null!==(n=t.toKey)&&void 0!==n?n:G;let r=()=>0;function s(e){return e.overlap=t=>r(e,t),e}const l=e.sets.map((e=>s({name:Me(e)?e.n:e.name,cardinality:Me(e)?e.c:e.cardinality,type:"set",elems:[]}))),o=e.combinations.map((e=>{var t,n;const a=Ce(e)?(r=e.s,l.filter(((e,t)=>{const n=Math.pow(2,t);return(r&n)===n}))):e.sets.map((e=>l[e]));var r;const o={i:"intersection",u:"union",c:"composite",d:"distinctIntersection"}[(null!==(t=e.type)&&void 0!==t?t:"i")[0]];return s({name:Ce(e)?null!==(n=e.n)&&void 0!==n?n:ke(a,o):e.name,cardinality:Ce(e)?e.c:e.cardinality,type:o,degree:a.length,sets:new Set(a),elems:[]})})),{setIndex:i,combinationIndex:c,compute:u}=function(e,t,n,a=G){const r="string"==typeof e?Se(e):e,s=new Map(t.map(((e,t)=>[a(e),t]))),l=new Map(n.map(((e,n)=>[a(e),n+t.length])));return{setIndex:s,compute:(e,t)=>{if(e===t)return e.cardinality;const n=a(e),o=a(t),i=s.has(n)?s.get(n):l.get(n),c=s.has(o)?s.get(o):l.get(o);if(i===c)return e.cardinality;const u=Math.min(i,c),d=Math.max(i,c)-u-1;return u<0||u>=r.length||d<0||d>=r[u].length?0:r[u][d]},combinationIndex:l}}(e.overlaps,l,o,a);function d(e){return"set"===e.type?l[e.index]:o[e.index]}function m(e){return t=>{const n=a(t),r=i.has(n)?i.get(n):c.get(n);return null==r||r<0||r>=e.length?0:e[r]}}return r=u,{sets:l,combinations:o,selection:e.selection?Array.isArray(e.selection)?m(e.selection):d(e.selection):void 0,queries:e.queries.map((e=>e.set?{name:e.name,color:e.color,set:d(e.set)}:{name:e.name,color:e.color,overlap:m(e.overlaps)}))}}var Ae=n(193),Le=n.n(Ae);function je(e){return Array.from(e.classList).find((e=>e.startsWith("root-"))).slice("root-".length)}function qe(e,t){var n,a;return null!==(a=null===(n=e.querySelector(`titleTextStyle-${t}`))||void 0===n?void 0:n.textContent)&&void 0!==a?a:"UpSetJS"}function ze(e,t){var n,a;return null!==(a=null===(n=e.querySelector(`descTextStyle-${t}`))||void 0===n?void 0:n.textContent)&&void 0!==a?a:""}const _e={},Ie=[],Te={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px",description:"16px",title:"24px",valueLabel:"12px",exportLabel:"10px"},Be=[.18,.12,.7],Fe=[.6,.4],Pe={type:"intersection",order:["cardinality:desc","name:asc"]},Ke=Object.keys(Te),He=["axisTick","bar","barLabel","chartLabel","dot","legend","title","description","setLabel","set","valueLabel"],Re=["dump","png","share","svg","vega"],De=[.7,.4],We=[.15,.3];var Ue={sets:[],intersections:[],bb:{x:0,y:0,width:10,height:10}},Ve={sets:[{cx:0,cy:0,r:5,text:{x:3.5,y:-4},align:"start",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:5,arcs:[{mode:"i",ref:0,x2:0,y2:-5,sweep:!1,large:!1},{mode:"i",ref:0,x2:0,y2:5,sweep:!1,large:!1}],text:{x:0,y:0}}],bb:{x:-5,y:-5,width:10,height:10}},Qe={sets:[{cx:-4,cy:0,r:5,text:{x:-7.5,y:4},align:"end",verticalAlign:"top"},{cx:4,cy:0,r:5,text:{x:7.5,y:-4},align:"start",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:-3,arcs:[{mode:"i",ref:0,x2:0,y2:3,sweep:!1,large:!0},{mode:"o",ref:1,x2:0,y2:-3,sweep:!0,large:!1}],text:{x:-4,y:0}},{sets:[1],x1:0,y1:3,arcs:[{mode:"i",ref:1,x2:0,y2:-3,sweep:!1,large:!0},{mode:"o",ref:0,x2:0,y2:3,sweep:!0,large:!1}],text:{x:4,y:0}},{sets:[0,1],x1:0,y1:3,arcs:[{mode:"i",ref:0,x2:0,y2:-3,sweep:!1,large:!1},{mode:"i",ref:1,x2:0,y2:3,sweep:!1,large:!1}],text:{x:0,y:0}}],bb:{x:-9,y:-5,width:18,height:10}},Ge={sets:[{cx:-3.464,cy:-2,r:5,text:{x:-7,y:-6},align:"end"},{cx:3.464,cy:-2,r:5,text:{x:7,y:-6},align:"start"},{cx:0,cy:4,r:5,text:{x:4,y:7.5},align:"start",verticalAlign:"top"}],intersections:[{sets:[0],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:-5.606,sweep:!0,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!1,large:!0}],text:{x:-4.216,y:-2.434}},{sets:[1],x1:0,y1:-5.606,arcs:[{mode:"o",ref:0,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:2,x2:4.855,y2:2.803,sweep:!0,large:!1},{mode:"i",ref:1,x2:0,y2:-5.606,sweep:!1,large:!0}],text:{x:4.216,y:-2.434}},{sets:[2],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:0,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"o",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1},{mode:"i",ref:2,x2:-4.855,y2:2.803,sweep:!0,large:!0}],text:{x:0,y:4.869}},{sets:[0,1],x1:0,y1:-5.606,arcs:[{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:0,x2:0,y2:-5.606,sweep:!1,large:!1}],text:{x:0,y:-2.404}},{sets:[0,2],x1:-4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!0,large:!1}],text:{x:-2.082,y:1.202}},{sets:[1,2],x1:4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1}],text:{x:2.082,y:1.202}},{sets:[0,1,2],x1:1.39,y1:-.803,arcs:[{mode:"i",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1}],text:{x:0,y:0}}],bb:{x:-8.464,y:-7,width:16.928,height:16}},Je={sets:[{cx:.439,cy:-1.061,rx:2.5,ry:5,rotation:45,text:{x:4.5,y:-4.5},align:"start",verticalAlign:"bottom"},{cx:2.561,cy:1.061,rx:2.5,ry:5,rotation:45,text:{x:4,y:3.75},align:"start",verticalAlign:"top"},{cx:-2.561,cy:1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4,y:3.7},align:"end",verticalAlign:"top"},{cx:-.439,cy:-1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4.5,y:-4.5},align:"end",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:0,y1:-3.94,arcs:[{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.179,y2:-1.858,large:!1},{ref:3,mode:"o",x2:0,y2:-3.94,large:!1}],text:{x:2.914,y:-3.536}},{sets:[1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:0,y2:5.006,sweep:!0,large:!0},{ref:2,mode:"o",x2:1.328,y2:2.828},{ref:3,mode:"o",x2:3.108,y2:-.328},{ref:0,mode:"o",x2:4.328,y2:-2.828}],text:{x:5.036,y:-1.414}},{sets:[2],x1:0,y1:5.006,arcs:[{ref:2,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!0},{ref:3,mode:"o",x2:-3.108,y2:-.328},{ref:0,mode:"o",x2:-1.328,y2:2.828},{ref:1,mode:"o",x2:0,y2:5.006}],text:{x:-5.036,y:-1.414}},{sets:[3],x1:-4.328,y1:-2.828,arcs:[{ref:3,mode:"i",x2:0,y2:-3.94,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2.179,y2:-1.858,large:!1},{ref:2,mode:"o",x2:-4.328,y2:-2.828,large:!1}],text:{x:-2.914,y:-3.536}},{sets:[0,1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1}],text:{x:3.205,y:-1.672}},{sets:[0,2],x1:-1.328,y1:2.828,arcs:[{ref:0,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.969,y2:1.755,large:!1},{ref:1,mode:"o",x2:-1.328,y2:2.828,large:!1}],text:{x:-2.212,y:1.591}},{sets:[0,3],x1:0,y1:-3.94,arcs:[{ref:3,mode:"i",x2:2.179,y2:-1.858,sweep:!0,large:!1},{ref:1,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:2,mode:"o",x2:-2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:0,y2:-3.94,sweep:!0}],text:{x:0,y:-1.87}},{sets:[1,2],x1:1.328,y1:2.828,arcs:[{ref:2,mode:"i",x2:0,y2:5.006,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:0,mode:"o",x2:0,y2:2.346,large:!1},{ref:3,mode:"o",x2:1.328,y2:2.828}],text:{x:0,y:3.393}},{sets:[1,3],x1:3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1},{ref:2,mode:"o",x2:.969,y2:1.755,large:!1},{ref:1,mode:"i",x2:3.108,y2:-.328,large:!1}],text:{x:2.212,y:1.591}},{sets:[2,3],x1:-3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!1},{ref:2,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:0,mode:"o",x2:-3.108,y2:-.328,large:!1}],text:{x:-3.205,y:-1.672}},{sets:[0,1,2],x1:0,y1:2.346,arcs:[{ref:0,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:1,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:3,mode:"o",x2:0,y2:2.346,large:!1}],text:{x:-.766,y:2.31}},{sets:[0,1,3],x1:2.179,y1:-1.858,arcs:[{ref:3,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:2,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:1,mode:"i",x2:2.179,y2:-1.858,sweep:!0}],text:{x:1.558,y:-.056}},{sets:[0,2,3],x1:-.969,y1:1.755,arcs:[{ref:3,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:2,mode:"i",x2:0,y2:.188,sweep:!0,large:!1},{ref:1,mode:"o",x2:-.969,y2:1.755}],text:{x:-1.558,y:-.056}},{sets:[1,2,3],x1:1.328,y1:2.828,arcs:[{ref:3,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:0,mode:"o",x2:.969,y2:1.755,sweep:!1,large:!1},{ref:2,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1}],text:{x:.766,y:2.31}},{sets:[0,1,2,3],x1:0,y1:.188,arcs:[{ref:2,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:0,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:1,mode:"i",x2:0,y2:.188,sweep:!0}],text:{x:0,y:1.43}}],bb:{x:-6.5,y:-5,width:13,height:10}},Ye={sets:[{cx:.5,cy:-1,rx:2.5,ry:5,rotation:0,text:{x:2.25,y:-5},align:"start",verticalAlign:"bottom"},{cx:1.106,cy:.167,rx:2.5,ry:5,rotation:72,text:{x:4.5,y:1.5},align:"start",verticalAlign:"top"},{cx:.183,cy:1.103,rx:2.5,ry:5,rotation:144,text:{x:4,y:4},align:"start",verticalAlign:"bottom"},{cx:-.992,cy:.515,rx:2.5,ry:5,rotation:216,text:{x:-4.7,y:2},align:"end",verticalAlign:"bottom"},{cx:-.797,cy:-.785,rx:2.5,ry:5,rotation:288,text:{x:-4,y:-3.6},align:"end",verticalAlign:"bottom"}],intersections:[{sets:[0],x1:-1.653,y1:-3.541,arcs:[{ref:0,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.5,y2:-2.648,large:!1},{ref:3,mode:"o",x2:-.495,y2:-3.303,large:!1},{ref:4,mode:"o",x2:-1.653,y2:-3.541}],text:{x:.5,y:-5}},{sets:[1],x1:2.857,y1:-2.666,arcs:[{ref:1,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:2,mode:"o",x2:3.291,y2:1.559,large:!1},{ref:4,mode:"o",x2:2.988,y2:-1.492,large:!1},{ref:0,mode:"o",x2:2.857,y2:-2.666}],text:{x:4.91,y:-1.07}},{sets:[2],x1:3.419,y1:1.893,arcs:[{ref:2,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.466,y2:3.612,large:!1},{ref:0,mode:"o",x2:2.342,y2:2.381,large:!1},{ref:1,mode:"o",x2:3.419,y2:1.893}],text:{x:2.534,y:4.339}},{sets:[3],x1:-.744,y1:3.837,arcs:[{ref:3,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:4,mode:"o",x2:-3.579,y2:.673,large:!1},{ref:1,mode:"o",x2:-1.54,y2:2.963,large:!1},{ref:2,mode:"o",x2:-.744,y2:3.837}],text:{x:-3.343,y:3.751}},{sets:[4],x1:-3.879,y1:.478,arcs:[{ref:4,mode:"i",x2:-1.653,y2:-3.541,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:2,mode:"o",x2:-3.294,y2:-.549,large:!1},{ref:3,mode:"o",x2:-3.879,y2:.478}],text:{x:-4.601,y:-2.021}},{sets:[0,1],x1:2.5,y1:-2.648,arcs:[{ref:1,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:4,mode:"o",x2:2.572,y2:-1.839,large:!1},{ref:3,mode:"o",x2:2.5,y2:-2.648}],text:{x:2.741,y:-2.152}},{sets:[0,2],x1:2.342,y1:2.381,arcs:[{ref:0,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:3,mode:"o",x2:.257,y2:2.922,large:!1},{ref:1,mode:"o",x2:2.342,y2:2.381,large:!1}],text:{x:.5,y:3.5}},{sets:[0,3],x1:-.495,y1:-3.303,arcs:[{ref:3,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:1,mode:"o",x2:1.51,y2:-2.515,large:!1},{ref:4,mode:"o",x2:-.495,y2:-3.303,large:!1}],text:{x:1.653,y:-3.125}},{sets:[0,4],x1:-1.653,y1:-3.541,arcs:[{ref:4,mode:"i",x2:-.495,y2:-3.303,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:2,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:0,mode:"i",x2:-1.653,y2:-3.541}],text:{x:-1.199,y:-3.272}},{sets:[1,2],x1:3.291,y1:1.559,arcs:[{ref:2,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:1,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.544,y2:1.878,large:!1},{ref:4,mode:"o",x2:3.291,y2:1.559}],text:{x:2.894,y:1.942}},{sets:[1,3],x1:-1.54,y1:2.963,arcs:[{ref:1,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:4,mode:"o",x2:-2.7,y2:1.147,large:!1},{ref:2,mode:"o",x2:-1.54,y2:2.963,large:!1}],text:{x:-3.174,y:1.557}},{sets:[1,4],x1:2.988,y1:-1.492,arcs:[{ref:4,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.858,y2:.659,large:!1},{ref:0,mode:"o",x2:2.988,y2:-1.492,large:!1}],text:{x:3.483,y:.606}},{sets:[2,3],x1:-.466,y1:3.612,arcs:[{ref:3,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:2,mode:"i",x2:-1.54,y2:2.963,sweep:!0,large:!1},{ref:1,mode:"o",x2:-1,y2:3,large:!1},{ref:0,mode:"o",x2:-.466,y2:3.612}],text:{x:-.953,y:3.352}},{sets:[2,4],x1:-3.294,y1:-.549,arcs:[{ref:2,mode:"i",x2:-1.746,y2:-3.196,sweep:!0},{ref:0,mode:"o",x2:-1.925,y2:-2.213},{ref:3,mode:"o",x2:-3.294,y2:-.549}],text:{x:-2.462,y:-2.538}},{sets:[3,4],x1:-3.579,y1:.673,arcs:[{ref:4,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:3,mode:"i",x2:-3.294,y2:-.549,sweep:!0,large:!1},{ref:2,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:1,mode:"o",x2:-3.579,y2:.673}],text:{x:-3.483,y:.13}},{sets:[0,1,2],x1:2.544,y1:1.878,arcs:[{ref:0,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:1,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:3,mode:"o",x2:.983,y2:2.049,large:!1},{ref:4,mode:"o",x2:2.544,y2:1.878}],text:{x:1.457,y:2.331}},{sets:[0,1,3],x1:1.51,y1:-2.515,arcs:[{ref:1,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:4,mode:"o",x2:1.51,y2:-2.515,large:!1}],text:{x:2.194,y:-2.334}},{sets:[0,1,4],x1:2.572,y1:-1.839,arcs:[{ref:4,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.253,y2:-.302,large:!1},{ref:3,mode:"o",x2:2.572,y2:-1.839}],text:{x:2.667,y:-.665}},{sets:[0,2,3],x1:.257,y1:2.922,arcs:[{ref:3,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:1,mode:"o",x2:.257,y2:2.922,large:!1}],text:{x:-.403,y:3.178}},{sets:[0,2,4],x1:-1.746,y1:-3.196,arcs:[{ref:2,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:3,mode:"o",x2:-1.925,y2:-2.213,sweep:!1,large:!1},{ref:0,mode:"i",x2:-1.746,y2:-3.196,sweep:!0,large:!1}],text:{x:-1.542,y:-2.808}},{sets:[0,3,4],x1:-.495,y1:-3.303,arcs:[{ref:4,mode:"i",x2:1.51,y2:-2.515,sweep:!0,large:!1},{ref:1,mode:"o",x2:.409,y2:-2.236,large:!1},{ref:2,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:3,mode:"i",x2:-.495,y2:-3.303}],text:{x:.192,y:-2.742}},{sets:[1,2,3],x1:-1.54,y1:2.963,arcs:[{ref:2,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:4,mode:"o",x2:-1.645,y2:1.568,large:!1},{ref:0,mode:"o",x2:-1,y2:3,large:!1},{ref:1,mode:"i",x2:-1.54,y2:2.963}],text:{x:-1.767,y:2.106}},{sets:[1,2,4],x1:2.858,y1:.659,arcs:[{ref:2,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:4,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.858,y2:.659,large:!1}],text:{x:2.898,y:1.365}},{sets:[1,3,4],x1:-2.7,y1:1.147,arcs:[{ref:4,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:1,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:2,mode:"o",x2:-2.7,y2:1.147,large:!1}],text:{x:-3.147,y:.599}},{sets:[2,3,4],x1:-3.294,y1:-.549,arcs:[{ref:3,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2,y2:-1.08,large:!1},{ref:1,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:2,mode:"i",x2:-3.294,y2:-.549}],text:{x:-2.548,y:-1.029}},{sets:[0,1,2,3],x1:.983,y1:2.049,arcs:[{ref:3,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:4,mode:"o",x2:.983,y2:2.049}],text:{x:-.407,y:2.31}},{sets:[0,1,2,4],x1:2.253,y1:-.302,arcs:[{ref:2,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:4,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.253,y2:-.302}],text:{x:2.071,y:1.101}},{sets:[0,1,3,4],x1:1.51,y1:-2.515,arcs:[{ref:4,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:2,mode:"o",x2:.409,y2:-2.236,sweep:!1,large:!1},{ref:1,mode:"i",x2:1.51,y2:-2.515,sweep:!0}],text:{x:1.687,y:-1.63}},{sets:[0,2,3,4],x1:-2,y1:-1.08,arcs:[{ref:0,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:2,mode:"i",x2:.409,y2:-2.236,sweep:!0,large:!1},{ref:1,mode:"o",x2:-2,y2:-1.08}],text:{x:-1.028,y:-2.108}},{sets:[1,2,3,4],x1:-1.645,y1:1.568,arcs:[{ref:4,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:2,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:1,mode:"i",x2:-2,y2:-1.08,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.645,y2:1.568}],text:{x:-2.323,y:.327}},{sets:[0,1,2,3,4],x1:.409,y1:-2.236,arcs:[{ref:2,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:3,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:4,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2,y2:-1.08,sweep:!0},{ref:1,mode:"i",x2:.409,y2:-2.236,sweep:!0}],text:{x:0,y:0}}],bb:{x:-5.5,y:-6,width:11.6,height:11.8}};function Ze(e){return"number"==typeof e.rx}const Xe={maxSets:5,compute:(e,t,n,a)=>et(e.length,n,a)};function et(e,t,n){const a=[Ue,Ve,Qe,Ge,Je,Ye],r=a[Math.min(a.length-1,e)],s=Math.min(t/r.bb.width,n/r.bb.height),l=s*-r.bb.x+(t-s*r.bb.width)/2,o=s*-r.bb.y+(n-s*r.bb.height)/2,i=e=>l+s*e,c=e=>o+s*e;return{sets:r.sets.map((e=>Object.assign({},e,{cx:i(e.cx),cy:c(e.cy),text:{x:i(e.text.x),y:c(e.text.y)}},Ze(e)?{rx:e.rx*s,ry:e.ry*s}:{r:e.r*s}))),intersections:r.intersections.map((e=>({text:{x:i(e.text.x),y:c(e.text.y)},x1:i(e.x1),y1:c(e.y1),sets:e.sets,arcs:e.arcs.map((e=>Object.assign({},e,{x2:i(e.x2),y2:c(e.y2)})))})))}}const tt={selectionColor:"#ffa500",color:"#000000",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!1},nt={selectionColor:"#ffa500",color:"#cccccc",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"rgba(255, 255, 255, 0.2)",valueTextColor:"#ffffff",strokeColor:"#ffffff",backgroundColor:"#303030",filled:!1},at={selectionColor:"#4c78a8",color:"#4c78a8",hasSelectionColor:"#c9d6e5",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!0};function rt(e){return"vega"===e?at:"dark"===e?nt:tt}function st(e,t,n={}){const a=rt(t.theme);return Object.assign(e,{queryLegend:null!=t.queries&&t.queries.length>0,theme:"light",padding:20,selection:null,title:"",description:"",fontFamily:"sans-serif",queries:Ie,exportButtons:!0,className:"",fontSizes:Te,classNames:_e,style:_e,styles:_e,toKey:G,tooltips:!0},a,t,n,t.fontSizes?{fontSizes:Object.assign({},Te,t.fontSizes)}:_e)}function lt(e){return st({barPadding:.3,dotPadding:.7,combinations:Pe,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",widthRatios:Be,heightRatios:Fe,setLabelAlignment:"center",numericScale:"linear",bandScale:"band",childrenFactories:_e,setAddons:Ie,combinationAddons:Ie,setAddonPadding:1,combinationAddonPadding:1,emptySelection:!0},e);var t}function ot(e){return e.toLocaleString()}function it(e){return lt(e)}function ct(e){return st({valueFormat:ot,layout:Xe},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}function ut(e){return ct(e)}function dt(e){return st({numericScale:"linear",barPadding:.3,barLabelOffset:2,combinationName:"Intersection Size",combinationNameAxisOffset:"auto"},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}function mt(e){return dt(e)}function yt(e,t){const n=e.cloneNode(!0);return n.style.backgroundColor=rt(e.dataset.theme).backgroundColor,t&&Array.from(n.querySelectorAll(t)).forEach((e=>e.remove())),(new XMLSerializer).serializeToString(n)}function ft(e,{type:t="png",title:n,toRemove:a}){const r=new Blob([yt(e,a)],{type:"image/svg+xml;charset=utf-8"}),s=je(e),l=null!=n?n:qe(e,s),o=URL.createObjectURL(r);return"svg"===t?(pt(o,`${l}.${t}`,e.ownerDocument),URL.revokeObjectURL(o),Promise.resolve()):function(e,t){const n=t.ownerDocument.createElement("canvas"),a=t.getBoundingClientRect();n.width=a.width,n.height=a.height;const r=n.getContext("2d"),s=new Image(n.width,n.height);return new Promise((t=>{s.onload=()=>{r.drawImage(s,0,0);const e=n.toDataURL("image/png");t(e)},s.src=e}))}(o,e).then((n=>{pt(n,`${l}.${t}`,e.ownerDocument),URL.revokeObjectURL(o)}))}function pt(e,t,n){const a=n.createElement("a");a.href=e,a.style.position="absolute",a.style.left="-10000px",a.style.top="-10000px",a.download=t,n.body.appendChild(a),a.click(),a.remove()}function ht(e,{title:t}={}){const n=function(e,t){var n,a,r,s,l;const o=null!==(r=e.getComputedStyle||(null===(a=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===a?void 0:a.getComputedStyle))&&void 0!==r?r:window.getComputedStyle,i=je(e),c=null!=t?t:qe(e,i),u=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((e=>({name:e.querySelector(`text.setTextStyle-${i}`).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}))).reverse(),d=-Number.parseFloat(e.querySelector(`.sBarTextStyle-${i}`).getAttribute("dx")),m=o(e.querySelector(`.fillPrimary-${i}`)).fill,y=o(e.querySelector(`.fillNotMember-${i}`)).fill,f=o(e.querySelector("text")).fill,p=e.querySelector(`.cChartTextStyle-${i}`).textContent,h=e.querySelector(`.sChartTextStyle-${i}`).textContent,g=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((e=>({name:e.querySelector(`text.hoverBarTextStyle-${i}`).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(`.fillPrimary-${i} > title`)).map((e=>e.textContent))}))),x=e=>Number.parseFloat(e.getAttribute("transform").match(/([\d.]+),/)[1]),b=e.querySelector("[data-upset=base]"),v=x(b),$=x(e.querySelector("[data-upset=csaxis]")),w=Number.parseFloat(b.querySelector("g").firstElementChild.children[1].getAttribute("x2")),S=(E=e.querySelector("[data-upset=setaxis]"),Number.parseFloat(E.getAttribute("transform").match(/,([\d.]+)/)[1]));var E;const k=Number.parseFloat(e.querySelector("defs rect").getAttribute("width")),O=Number.parseFloat(e.querySelector("defs rect").getAttribute("height")),C=Number.parseFloat(e.querySelector(`[data-cardinality] circle.fillPrimary-${i}`).getAttribute("r")),M=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),N=null!=e.querySelector("[data-upset=sets-q] [data-cardinality]"),A=M||N;let L="orange";A&&(Array.from(e.querySelectorAll(`[data-upset=sets-${M?"s]":"q]:first-of-type"} [data-cardinality]`)).forEach((e=>{const t=u.length-Number.parseInt(e.dataset.i,10)-1;u[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll(`[data-upset=cs-${M?"s]":"q]:first-of-type"} [data-cardinality]`)).forEach((e=>{const t=Number.parseInt(e.dataset.i,10);g[t].selection=Number.parseInt(e.dataset.cardinality,10)})),L=o(e.querySelector(`[data-upset=sets-${M?"s":"q"}] [data-cardinality]`)).fill);const j=Number.parseInt(null!==(l=null===(s=e.querySelector("[data-upset=cs-ss]"))||void 0===s?void 0:s.dataset.i)&&void 0!==l?l:"-1",10),q=j>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1};return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:c,description:ze(e,i),datasets:{sets:u,combinations:g.map(((e,t)=>Object.assign({},e,{partOf:j===t?2:1,nsets:[""]}))).concat(g.map((e=>({name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:u.filter((t=>!e.sets.includes(t.name))).map((e=>e.name))}))))},vconcat:[{hconcat:[{mark:"bar",width:$+k-40,height:S},{width:w,height:S,data:{name:"combinations"},transform:[{filter:q}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:p}}}]},{hconcat:[{width:$,height:O,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:h,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:k,height:O,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(o(e.querySelector(`.setTextStyle-${i}`)).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:w,height:O,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:C*C*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[y,m].concat(j>=0?[L]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null,scale:{domain:u.map((e=>e.name))}}}},{mark:"rule",transform:[{filter:q},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:Object.assign({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},j<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[m,L]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:v,background:rt(e.dataset.theme).backgroundColor,concat:{spacing:0},view:{stroke:null},bar:{fill:m},circle:{opacity:1},rule:{stroke:m,strokeWidth:Number.parseInt(o(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:f,labelFontSize:Number.parseInt(o(e.querySelector(`.axisTextStyle-${i}`)).fontSize,10),titleColor:f,titleFontSize:Number.parseInt(o(e.querySelector(`.cChartTextStyle-${i}`)).fontSize,10)},title:{color:f},text:{fill:f,fontSize:Number.parseInt(o(e.querySelector(`.sBarTextStyle-${i}`)).fontSize,10)}}}}(e,t),a=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"}));pt(a,`${n.title}.json`,e.ownerDocument),URL.revokeObjectURL(a)}const gt=["bandScale","numericScale"].concat(["selectionColor","color","textColor","hoverHintColor","notMemberColor","alternatingBackgroundColor","hasSelectionColor","hasSelectionOpacity","opacity","strokeColor","valueTextColor"],["padding","barPadding","dotPadding","widthRatios","heightRatios"],["fontSizes","combinationName","setName","barLabelOffset","setNameAxisOffset","combinationNameAxisOffset","theme","fontFamily","emptySelection","exportButtons","queryLegend"]);function xt(e){var t;const n=it({width:0,height:0,sets:null!==(t=e.sets)&&void 0!==t?t:[],combinations:e.combinations,theme:e.theme}),a={};return gt.forEach((t=>{const r=e[t],s=n[t];if("theme"!==t||"light"===r){if(null!=r&&r!==s)if("fontSizes"===t){let e=!0;const n={};Ke.forEach((t=>{const a=r[t];a!==s[t]&&(n[t]=a,e=!1)})),e||(a[t]=n)}else a[t]=r}else a[t]=r})),a}function bt(e,t,n,a,r){return Object.assign({$schema:"https://upset.js.org/schema.1.0.0.json",name:"string"==typeof n.title?n.title:"UpSetJS",description:"string"==typeof n.description?n.description:"",mode:r,author:a,elements:t,attrs:[],props:xt(n)},e)}function vt(e,t,n,a){return Object.assign({$schema:"https://upset.js.org/schema-static.1.0.0.json",name:"string"==typeof t.title?t.title:"UpSetJS",description:"string"==typeof t.description?t.description:"",mode:a,author:n,props:xt(t)},e)}function $t(e,t,n=!1,a){var r,s;const l=[],o=new Map;return bt(we({sets:e.sets,queries:null!==(s=null===(r=e.queries)||void 0===r?void 0:r.filter((e=>h(e)||x(e))))&&void 0!==s?s:[],toElemIndex:e=>o.has(e)?o.get(e):(o.set(e,l.length),l.push(e),l.length-1),selection:e.selection&&E(e.selection)?e.selection:void 0,combinations:t.cs.v,combinationOptions:Array.isArray(e.combinations)?{}:e.combinations},{compress:n?"yes":"no"}),l,e,void 0,a)}function wt(e,t,n,a){const r=$t(t,n,!1,a),s=URL.createObjectURL(new Blob([JSON.stringify(r,null,2)],{type:"application/json"}));pt(s,`${r.name}.json`,e.ownerDocument),URL.revokeObjectURL(s)}function St(e,t,n){const a=$t(e,t,!0,n);delete a.$schema;const r=Le.a.compressToEncodedURIComponent(JSON.stringify(a)),s=new URL("https://upset.js.org/app/embed.html");if(s.searchParams.set("p",r),s.toString().length<4096)return window.open(s.toString(),"_blank"),!0;const l=function(e,t,n=!1,a){var r,s;return vt(Oe({sets:e.sets,queries:null!==(s=null===(r=e.queries)||void 0===r?void 0:r.filter((e=>h(e)||x(e))))&&void 0!==s?s:[],selection:e.selection&&E(e.selection)?e.selection:void 0,combinations:t.cs.v},{compress:n?"yes":"no"}),e,void 0,a)}(e,t,!0,n);delete l.$schema;const o=Le.a.compressToEncodedURIComponent(JSON.stringify(l));if(s.searchParams.set("p",o),s.toString().length<4096)return window.open(s.toString(),"_blank"),!0;s.searchParams.delete("p");const i=window.open(s.toString(),"_blank");return null==i||i.addEventListener("load",(()=>{null==i||i.postMessage(a,s.origin)})),!1}function Et(...e){return e.filter(Boolean).join(" ")}function kt(e){return`upset-${Math.random().toString(36).slice(4)}`}function Ot(e){return null!=e&&!Array.isArray(e)}function Ct(e,t){const n=d(e,t);return e=>n(e.elems).intersection}function Mt(e,t){if(!e)return At;if("function"==typeof e)return e;if(Array.isArray(e))return Ct(e,t);const n=e;if(n.overlap)return n.overlap.bind(n);const a=Ct(n.elems,t);return e=>e.overlap?e.overlap(n):a(e)}function Nt(e){var t;return Array.isArray(e)?`Array(${e.length})`:"function"==typeof e?"?":null===(t=e)||void 0===t?void 0:t.name}function At(){return 0}function Lt(e){return null==e?10:e.endsWith("pt")?Math.floor(4/3*Number.parseInt(e,10)):Number.parseInt(e,10)}function jt(e){return"linear"===e?me:"log"===e?ge:e}function qt(e){return Array.isArray(e)}function zt(e,t,n,a,r,s,l,o,i,c,u,d,m,y,f){var p;const h=jt(a),g="band"===(x=r)?re:x;var x;const b=qt(t)?t:W(e,Object.assign({toElemKey:d},Pe,t)),v=g(b.map(u),n.cs.w,n.padding),$=b.reduce(((e,t)=>Math.max(e,t.cardinality)),0),w=null!=f?f:$,S=w>$?0:s,E=h(w,[n.cs.h,S],{orientation:"vertical",fontSizeHint:i}),k=e=>Math.floor(s/1.4*.7*e.length),O=e=>k(E.tickFormat()(e)),C=e.reduce(((e,t)=>Math.max(e,t.cardinality)),0),M=null!=y?y:C,N=O(M);let A=O(w);for(const T of c){if(!T.scale)continue;const e=T.scale.ticks(3),t=T.scale.tickFormat();for(const n of e){const e="number"==typeof n?t(n):null!==(p=n.label)&&void 0!==p?p:t(n.value),a=k(e);a>A&&(A=a)}}const L=M>C?0:N,j=h(M,[n.sets.w,L],{orientation:"horizontal",fontSizeHint:i}),q=e.map(u),z=g(q.slice().reverse(),n.sets.h,n.padding),_=Math.min(z.bandwidth(),v.bandwidth())/2*l,I=Math.max(2,Math.min(z.bandwidth(),v.bandwidth())/2*o);return{id:m||kt(),r:_,triangleSize:I,sets:{v:e,keys:q,rv:e.slice().reverse(),x:j,xAxisWidth:n.sets.w-L,y:e=>z(u(e)),max:M,bandWidth:z.bandwidth(),cy:z.bandwidth()/2+n.cs.h,format:j.tickFormat(),labelOffset:s+9+2},cs:{v:b,keys:b.map(u),x:e=>v(u(e)),max:w,y:E,yAxisWidth:n.cs.h-S,cx:v.bandwidth()/2,bandWidth:v.bandwidth(),format:E.tickFormat(),has:(e,t)=>{const n=u(t);return Array.from(e.sets).some((e=>u(e)===n))},labelOffset:A+9+6},toKey:u,toElemKey:d}}function _t({transform:e,styleId:t,exportButtons:n,exportChart:a}){if(!n)return null;let r=0;const s=[];return!0!==n&&!1===n.svg||(r+=26,s.push(c.a.createElement("g",{key:"svg",className:`exportButton-${t}`,onClick:a,"data-type":"svg",transform:`translate(-${r}, 0)`},c.a.createElement("title",null,"Download SVG Image"),c.a.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),c.a.createElement("text",{className:`exportTextStyle-${t}`,x:13},"SVG"))),r+=2),!0!==n&&!1===n.png||(r+=26,s.push(c.a.createElement("g",{key:"png",className:`exportButton-${t}`,onClick:a,"data-type":"png",transform:`translate(-${r}, 0)`},c.a.createElement("title",null,"Download PNG Image"),c.a.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),c.a.createElement("text",{className:`exportTextStyle-${t}`,x:13},"PNG"))),r+=2),!0!==n&&!1===n.vega||(r+=34,s.push(c.a.createElement("g",{key:"vega",className:`exportButton-${t}`,onClick:a,"data-type":"vega",transform:`translate(-${r}, 0)`},c.a.createElement("title",null,"Download VEGA-Lite Specification"),c.a.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),c.a.createElement("text",{className:`exportTextStyle-${t}`,x:17},"VEGA"))),r+=2),!0!==n&&!1===n.dump||(r+=34,s.push(c.a.createElement("g",{key:"dump",className:`exportButton-${t}`,onClick:a,"data-type":"dump",transform:`translate(-${r}, 0)`},c.a.createElement("title",null,"Download UpSet.js JSON Dump"),c.a.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),c.a.createElement("text",{className:`exportTextStyle-${t}`,x:17},"DUMP"))),r+=2),!0!==n&&!1===n.share||(r+=42,s.push(c.a.createElement("g",{key:"share",className:`exportButton-${t}`,onClick:a,"data-type":"share",transform:`translate(-${r}, 0)`},c.a.createElement("title",null,"Open a shareable URL"),c.a.createElement("rect",{y:-9,width:42,height:11,rx:2,ry:2}),c.a.createElement("text",{className:`exportTextStyle-${t}`,x:21},"SHARE"))),r+=2),c.a.createElement("g",{className:`exportButtons-${t}`,transform:e},s)}const It=c.a.memo((function({queries:e,x:t,style:n,data:a}){return c.a.createElement("text",{transform:`translate(${t},4)`,style:n.styles.legend,className:Et(`legendTextStyle-${n.id}`,n.classNames.legend)},e.map(((e,t)=>{let n=null;return x(e)?n=e.set.cardinality:h(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),c.a.createElement(c.a.Fragment,{key:e.name},c.a.createElement("tspan",{className:`fillQ${t}-${a.id}`},"  \u2b24 "),c.a.createElement("tspan",null,e.name,null!=n?`: ${a.sets.format(n)}`:""))})))})),Tt=c.a.memo((function({pos:e,spacing:t,tickSizeInner:n,orient:a,name:r,style:s}){const l="top"===a||"left"===a?-1:1;return c.a.createElement("g",{transform:`translate(0, ${e+.5})`},r&&c.a.createElement("text",{x:l*t,dy:"0.32em",className:Et(`axisTextStyle-${s.id}`,"right"===a?`startText-${s.id}`:`endText-${s.id}`,s.classNames.axisTick),style:s.styles.axisTick},r),c.a.createElement("line",{x2:l*n,className:`axisLine-${s.id}`}))})),Bt=c.a.memo((function({pos:e,name:t,spacing:n,orient:a,tickSizeInner:r,style:s}){const l="top"===a||"left"===a?-1:1;return c.a.createElement("g",{transform:`translate(${e+.5}, 0)`},t&&c.a.createElement("text",{y:l*n,dy:"top"===a?"0em":"0.71em",className:Et(`axisTextStyle-${s.id}`,s.classNames.axisTick),style:s.styles.axisTick},t),c.a.createElement("line",{y2:l*r,className:`axisLine-${s.id}`}))}));function Ft({scale:e,orient:t,tickSizeInner:n=6,tickSizeOuter:a=6,tickPadding:r=3,size:s,start:l,style:o,transform:i}){const u=Math.max(n,0)+r,d=l,m=s,y="top"===t||"left"===t?-1:1,f="left"===t||"right"===t?Tt:Bt,p=e.ticks().map((e=>"number"==typeof e?{value:e,label:String(e)}:e));return c.a.createElement("g",{transform:i},p.map((a=>c.a.createElement(f,{key:a.value,pos:e(a.value),name:a.label,spacing:u,tickSizeInner:n,orient:t,style:o}))),c.a.createElement("path",{className:`axisLine-${o.id}`,d:"left"===t||"right"===t?a?`M${y*a},${d}H0.5V${m}H${y*a}`:`M0.5,${d}V${m}`:a?`M${d},${y*a}V0.5H${m}V${y*a}`:`M${d},0.5H${m}`}))}const Pt=c.a.memo((function({width:e,text:t,dy:n,x:a,style:r,className:s}){const l=Object(i.useRef)(null),[o,u]=Object(i.useState)("string"==typeof t?[t]:[]);return Object(i.useLayoutEffect)((()=>{u("string"==typeof t?[t]:[])}),[t]),Object(i.useLayoutEffect)((()=>{if(!l.current||l.current.childElementCount>0||"string"!=typeof t)return;const n=l.current.getComputedTextLength(),a=[];let r=e,s=0;const o=l.current.getStartPositionOfChar(0);for(;n>r;){o.x=r;const n=l.current.getCharNumAtPosition(o),i=t.lastIndexOf(" ",n);if(i<s)break;a.push(t.slice(s,i+1));s=i+1,r=l.current.getEndPositionOfChar(i+1).x+e}a.push(t.slice(s)),u(a)}),[l,t,e]),t?c.a.createElement("tspan",{ref:l,dy:n,style:r,x:a,className:s},o.length>1?o.map(((e,t)=>c.a.createElement("tspan",{key:e,x:0,dy:t>0?"1.2em":n},e))):t):null}));var Kt=c.a.memo((function({width:e,descriptionWidth:t=e,style:n}){return n.title||n.description?c.a.createElement("text",null,c.a.createElement(Pt,{text:n.title,width:e,dy:"10px",className:Et(`titleTextStyle-${n.id}`,n.classNames.title),style:n.styles.title}),c.a.createElement(Pt,{x:0,width:t,dy:n.title?"2em":"10px",text:n.description,className:Et(`descTextStyle-${n.id}`,n.classNames.description),style:n.styles.description})):null}));function Ht(){}function Rt(e){return e?(t,n)=>function(a){return e.call(this,t,a.nativeEvent,n.map((e=>e.createOnHandlerData?e.createOnHandlerData(t):null)))}:Ht}function Dt(e,t){let n=0,a=0;return r=>{let s=0;return"before"===r.position?(n+=r.size+t,s=-n):(s=e+a+t,a+=r.size+t),s}}function Wt(e,t,n="fill"){return t?e?Object.assign({[n]:t},e):t?{[n]:t}:void 0:e}var Ut=c.a.memo((function({size:e,style:t,data:n}){const a=Dt(e.sets.w+e.labels.w+e.cs.w,e.sets.addonPadding),r=Dt(e.cs.h+e.sets.h,e.cs.addonPadding),s="auto"===t.cs.offset?n.cs.labelOffset:t.cs.offset,l="auto"===t.sets.offset?n.sets.labelOffset:t.sets.offset;return c.a.createElement("g",null,c.a.createElement(Kt,{style:t,width:e.cs.x-s-20}),c.a.createElement("g",{transform:`translate(${e.cs.x},${e.cs.y})`,"data-upset":"csaxis"},c.a.createElement(Ft,{scale:n.cs.y,orient:"left",size:e.cs.h,start:e.cs.h-n.cs.yAxisWidth,style:t}),c.a.createElement("line",{x1:0,x2:e.cs.w,y1:e.cs.h+1,y2:e.cs.h+1,className:`axisLine-${t.id}`}),c.a.createElement("text",{className:Et(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-s}, ${e.cs.h/2})rotate(-90)`},t.cs.name),e.cs.addons.map((e=>{const n=r(e),a=c.a.createElement("text",{key:e.name,className:Et(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-s}, ${n+e.size/2})rotate(-90)`},e.name);return e.scale?c.a.createElement(c.a.Fragment,{key:e.name},c.a.createElement(Ft,{scale:e.scale,orient:"left",size:e.size,start:0,style:t,transform:`translate(0,${n})`}),a):a}))),c.a.createElement("g",{transform:`translate(${e.sets.x},${e.sets.y})`,"data-upset":"setaxis"},c.a.createElement(Ft,{scale:n.sets.x,orient:"bottom",size:e.sets.w,start:e.sets.w-n.sets.xAxisWidth,transform:`translate(0, ${e.sets.h})`,style:t}),c.a.createElement("text",{className:Et(`sChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${e.sets.w/2}, ${e.sets.h+l})`},t.sets.name),e.sets.addons.map((n=>{const r=a(n),s=c.a.createElement("text",{key:n.name,className:Et(`sChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${r+n.size/2}, ${e.sets.h+l})`},n.name);return n.scale?c.a.createElement(c.a.Fragment,{key:n.name},c.a.createElement(Ft,{scale:n.scale,orient:"bottom",size:n.size,start:0,transform:`translate(${r}, ${e.sets.h})`,style:t}),s):s}))))}));const Vt=c.a.memo((function({cx:e,r:t,cy:n,name:a,className:r,style:s,fill:l}){return c.a.createElement("circle",{r:t,cx:e,cy:n,className:r,style:Wt(s,l)},a&&c.a.createElement("title",null,a))}));function Qt(e,t,n){const a=[n(e)];for(let r=0;r<We.length&&e>t;r++)e-=t,a.push(n(e));return a}const Gt=c.a.memo((function({d:e,h:t,className:n,data:a,size:r,style:s,children:l}){const o=Qt(e.cardinality,a.cs.max,a.cs.y),i=Dt(r.cs.h+r.sets.h,r.cs.addonPadding);return c.a.createElement("g",{transform:`translate(${a.cs.x(e)}, 0)`,onMouseEnter:t.onMouseEnter(e,r.cs.addons),onMouseLeave:t.onMouseLeave,onClick:t.onClick(e,r.cs.addons),onContextMenu:t.onContextMenu(e,r.cs.addons),onMouseMove:t.onMouseMove(e,r.cs.addons),className:n,"data-cardinality":e.cardinality},s.tooltips&&c.a.createElement("title",null,e.name,": ",a.cs.format(e.cardinality)),c.a.createElement("rect",{y:-r.cs.before,width:a.cs.bandWidth,height:r.sets.h+r.cs.h+r.cs.before+r.cs.after,className:`hoverBar-${s.id}`}),o.map(((t,n)=>{const l=n>0?Math.floor(a.cs.bandWidth*We[n-1]):0;return c.a.createElement("rect",{key:n,x:l,y:t,height:r.cs.h-t,width:a.cs.bandWidth-2*l,className:Et(`fillPrimary-${s.id}`,n<o.length-1&&`fillOverflow${o.length-1-n}-${s.id}`,s.classNames.bar),style:Wt(s.styles.bar,e.color)})})),c.a.createElement("text",{y:o[0]-s.barLabelOffset,x:a.cs.bandWidth/2,style:s.styles.barLabel,className:Et(`cBarTextStyle-${s.id}`,s.classNames.barLabel)},a.cs.format(e.cardinality)),c.a.createElement("text",{y:-s.barLabelOffset-r.cs.before,x:a.cs.bandWidth/2,style:s.styles.barLabel,className:Et(`hoverBarTextStyle-${s.id}`,s.classNames.barLabel)},e.name),a.sets.v.map(((t,n)=>a.cs.has(e,t)?null:c.a.createElement(Vt,{key:a.sets.keys[n],r:a.r,cx:a.cs.cx,cy:a.sets.y(t)+a.sets.cy,name:s.tooltips?e.name:"",style:s.styles.dot,fill:void 0,className:Et(`fillNotMember-${s.id}`,s.classNames.dot)}))),e.sets.size>1&&c.a.createElement("line",{x1:a.cs.cx,y1:a.sets.y(a.sets.v.find((t=>a.cs.has(e,t))))+a.sets.cy-(a.r-1),x2:a.cs.cx,y2:a.sets.y(a.sets.rv.find((t=>a.cs.has(e,t))))+a.sets.cy+(a.r-1),style:e.color?{stroke:e.color}:void 0,className:`upsetLine-${a.id}`}),a.sets.v.map(((t,n)=>{var r;return a.cs.has(e,t)?c.a.createElement(Vt,{key:a.sets.keys[n],r:a.r,cx:a.cs.cx,cy:a.sets.y(t)+a.sets.cy,name:s.tooltips?t.name:"",style:s.styles.dot,fill:null!==(r=t.color)&&void 0!==r?r:e.color,className:Et(`fillPrimary-${s.id}`,s.classNames.dot)}):null})),r.cs.addons.map((t=>c.a.createElement("g",{key:t.name,transform:`translate(0,${i(t)})`},t.render({set:e,width:a.cs.bandWidth,height:t.size,theme:s.theme})))),l)})),Jt=c.a.memo((function({d:e,i:t,h:n,className:a,size:r,data:s,style:l,children:o}){const i=Qt(e.cardinality,s.sets.max,s.sets.x),u=Dt(r.sets.w+r.labels.w+r.cs.w,r.sets.addonPadding),d="center"===l.setLabelAlignment?r.labels.w/2:"left"===l.setLabelAlignment?2:r.labels.w-2;return c.a.createElement("g",{transform:`translate(0, ${s.sets.y(e)})`,onMouseEnter:n.onMouseEnter(e,r.sets.addons),onMouseLeave:n.onMouseLeave,onClick:n.onClick(e,r.sets.addons),onContextMenu:n.onContextMenu(e,r.sets.addons),onMouseMove:n.onMouseMove(e,r.sets.addons),className:a,"data-cardinality":e.cardinality},l.tooltips&&c.a.createElement("title",null,e.name,": ",s.sets.format(e.cardinality)),c.a.createElement("rect",{x:-r.sets.before,width:r.sets.w+r.labels.w+r.cs.w+r.sets.after,height:s.sets.bandWidth,className:`hoverBar-${l.id}`}),t%2==1&&c.a.createElement("rect",{x:r.sets.w,width:r.labels.w+r.cs.w+r.sets.after,height:s.sets.bandWidth,className:`fillAlternating-${l.id}`}),i.map(((t,n)=>{const a=n>0?Math.floor(s.sets.bandWidth*We[n-1]):0;return c.a.createElement("rect",{key:n,x:t,y:a,width:r.sets.w-t,height:s.sets.bandWidth-2*a,className:Et(`fillPrimary-${l.id}`,n<i.length-1&&`fillOverflow${i.length-1-n}-${l.id}`,l.classNames.bar),style:Wt(l.styles.bar,e.color)})})),c.a.createElement("text",{x:i[0],dx:-l.barLabelOffset,y:s.sets.bandWidth/2,style:l.styles.barLabel,className:Et(`sBarTextStyle-${l.id}`,l.classNames.barLabel)},s.sets.format(e.cardinality)),c.a.createElement("text",{x:r.sets.w+d,y:s.sets.bandWidth/2,className:Et(`setTextStyle-${l.id}`,l.classNames.setLabel),style:l.styles.setLabel,clipPath:`url(#clip-${r.id})`},e.name),r.sets.addons.map((t=>c.a.createElement("g",{key:t.name,transform:`translate(${u(t)},0)`},t.render({set:e,width:t.size,height:s.sets.bandWidth,theme:l.theme})))),o)})),Yt=c.a.memo((function({data:e,size:t,style:n,h:a,setChildrenFactory:r,combinationChildrenFactory:s}){return c.a.createElement("g",{className:a.hasClick?`clickAble-${n.id}`:void 0},c.a.createElement("g",{transform:`translate(${t.sets.x},${t.sets.y})`,"data-upset":"sets"},e.sets.v.map(((s,l)=>c.a.createElement(Jt,{key:e.sets.keys[l],d:s,i:l,h:a,className:a.hasClick||a.hasHover?`interactive-${n.id}`:void 0,data:e,style:n,size:t},r&&r(s))))),c.a.createElement("g",{transform:`translate(${t.cs.x},${t.cs.y})`,"data-upset":"cs"},e.cs.v.map(((r,l)=>c.a.createElement(Gt,{key:e.cs.keys[l],d:r,h:a,className:a.hasClick||a.hasHover?`interactive-${n.id}`:void 0,data:e,style:n,size:t},s&&s(r))))))}));function Zt({data:e,size:t,style:n,elemOverlap:a,secondary:r,tooltip:s,suffix:l,transform:o,empty:i,combinationAddons:u}){const d=e.cs.bandWidth,m=t.cs.h+t.sets.h,y=t.cs.h,f=Et(`fill${l}`,!s&&`pnone-${n.id}`,n.classNames.bar);return c.a.createElement("g",{transform:o,"data-upset":r?"cs-q":"cs-s"},e.cs.v.map(((l,o)=>{const p=e.cs.x(l),h=e.cs.keys[o];if(i&&!r)return c.a.createElement("rect",{key:h,x:p,y:y,height:0,width:d,className:f,style:Wt(n.styles.bar,n.selectionColor?void 0:l.color)},s&&c.a.createElement("title",null));const g=a(l);if(0===g)return null;const x=Qt(g,e.cs.max,e.cs.y),b=s&&c.a.createElement("title",null,`${l.name} \u2229 ${s}: ${g}`),v=r?c.a.createElement("path",{key:h,transform:`translate(${p}, ${x[0]})`,d:`M0,-1 l${d},0 l0,2 l${-d},0 L-${e.triangleSize},-${e.triangleSize} L-${e.triangleSize},${e.triangleSize} Z`,className:f,"data-i":o,"data-cardinality":g,style:Wt(void 0,n.selectionColor?void 0:l.color)},b):x.map(((t,a)=>{const r=a>0?Math.floor(e.cs.bandWidth*We[a-1]):0;return c.a.createElement("rect",{key:a,x:p+r,y:t,height:y-t,width:d-2*r,"data-i":a>0?null:o,"data-cardinality":a>0?null:g,className:Et(f,a<x.length-1&&`fillOverflow${x.length-1-a}-${n.id}`),style:Wt(n.styles.bar,n.selectionColor?void 0:l.color)},b)})),$=Dt(m,t.cs.addonPadding),w=u.map((e=>{const t=$(e),a=e.render({set:l,width:d,height:e.size,theme:n.theme});return a?c.a.createElement("g",{key:e.name,transform:`translate(${p},${t})`},a):null})).filter(Boolean);return 0===w.length?v:c.a.createElement("g",{key:h},v,w)})))}function Xt({data:e,size:t,style:n,elemOverlap:a,suffix:r,secondary:s,empty:l,tooltip:o,setAddons:i,transform:u}){const d=t.sets.w,m=t.sets.w+t.labels.w+t.cs.w,y=e.sets.bandWidth,f=Et(`fill${r}`,!o&&` pnone-${n.id}`,n.classNames.bar);return c.a.createElement("g",{transform:u,"data-upset":s?"sets-q":"sets-s"},e.sets.v.map(((r,u)=>{const p=e.sets.y(r),h=e.sets.keys[u];if(l&&!s)return c.a.createElement("rect",{key:h,x:d,y:p,width:0,height:y,className:f,style:Wt(n.styles.bar,n.selectionColor?void 0:r.color)},n.tooltips&&o&&c.a.createElement("title",null));const g=a(r);if(0===g)return null;const x=Qt(g,e.sets.max,e.sets.x),b=n.tooltips&&o&&c.a.createElement("title",null,`${r.name} \u2229 ${o}: ${g}`),v=s?c.a.createElement("path",{key:h,transform:`translate(${x[0]}, ${p+y})`,d:`M1,0 l0,${-y} l-2,0 l0,${y} L-${e.triangleSize},${e.triangleSize} L${e.triangleSize},${e.triangleSize} Z`,"data-i":u,"data-cardinality":g,className:f,style:Wt(void 0,n.selectionColor?void 0:r.color)},b):x.map(((t,a)=>{const s=a>0?Math.floor(e.sets.bandWidth*We[a-1]):0;return c.a.createElement("rect",{key:a,"data-i":a>0?null:u,"data-cardinality":a>0?null:g,x:t,y:p+s,width:d-t,height:y-2*s,className:Et(f,a<x.length-1&&`fillOverflow${x.length-1-a}-${n.id}`),style:Wt(n.styles.bar,n.selectionColor?void 0:r.color)},b)})),$=Dt(m,t.sets.addonPadding),w=i.map((e=>{const t=$(e),a=e.render({set:r,width:e.size,height:y,theme:n.theme});return a?c.a.createElement("g",{key:e.name,transform:`translate(${t},${p})`},a):null})).filter(Boolean);return 0===w.length?v:c.a.createElement("g",{key:h},v,w)})))}const en=[];var tn=c.a.memo((function({size:e,data:t,style:n,hasHover:a,secondary:r,queries:s}){const l=e.sets.addons.some((e=>null!=e.renderQuery))||e.cs.addons.some((e=>null!=e.renderQuery)),o=Object(i.useMemo)((()=>s.map((e=>Object.assign(Object.assign({},e),{overlap:b(e,"intersection",t.toElemKey),elemOverlap:l?v(e,"intersection",t.toElemKey):null})))),[s,l,t.toElemKey]);function u(e,t,n,a,r){return Object.assign(Object.assign({},e),{render:s=>{const l=a(s.set);return e.renderQuery?e.renderQuery(Object.assign({query:t,overlap:l,index:n,secondary:r},s)):null}})}return c.a.createElement("g",{className:a&&!r?`pnone-${n.id}`:void 0},c.a.createElement("g",{transform:`translate(${e.sets.x},${e.sets.y})`},o.map(((s,l)=>c.a.createElement(Xt,{key:s.name,data:t,size:e,style:n,elemOverlap:s.overlap,suffix:`Q${l}-${t.id}`,secondary:r||l>0,tooltip:a&&!(r||l>0)?void 0:s.name,setAddons:0===e.sets.addons.length?en:e.sets.addons.map(((e,t)=>u(e,s,t,s.elemOverlap,r||t>0)))})))),c.a.createElement("g",{transform:`translate(${e.cs.x},${e.cs.y})`},o.map(((s,l)=>c.a.createElement(Zt,{key:s.name,data:t,size:e,style:n,elemOverlap:s.overlap,suffix:`Q${l}-${t.id}`,secondary:r||l>0,tooltip:a&&!(r||l>0)?void 0:s.name,combinationAddons:0===e.cs.addons.length?en:e.cs.addons.map(((e,t)=>u(e,s,t,s.elemOverlap,r||t>0)))})))))}));function nn({data:e,size:t,style:n,selection:a}){if(!a||"set"!==a.type||!e.sets.keys.includes(e.toKey(a)))return null;const r=a;return c.a.createElement("rect",{y:e.sets.y(r),width:t.labels.w+t.cs.w+t.sets.after,height:e.sets.bandWidth,className:`selectionHint-${n.id}`})}function an({data:e,size:t,style:n,selection:a}){const r=e.sets.bandWidth/2,s=e.cs.cx,l=e.r,o=t.sets.h+t.sets.after,i=e.cs.bandWidth;if(!a||"set"===a.type||!e.cs)return null;const u=a,d=e.cs.keys.indexOf(e.toKey(u));return d<0?null:c.a.createElement("g",{transform:`translate(${t.labels.w+e.cs.x(u)}, 0)`,"data-upset":"cs-ss","data-i":d},c.a.createElement("rect",{width:i,height:o,className:`selectionHint-${n.id}`}),u.sets.size>1&&c.a.createElement("line",{x1:s,y1:e.sets.y(e.sets.v.find((t=>e.cs.has(u,t))))+r-(e.r-1),x2:s,y2:e.sets.y(e.sets.rv.find((t=>e.cs.has(u,t))))+r+(e.r-1),className:`upsetSelectionLine-${e.id}`,style:Wt(void 0,n.selectionColor?void 0:u.color,"stroke")}),e.sets.v.filter((t=>e.cs.has(u,t))).map((t=>c.a.createElement(Vt,{key:e.toKey(t),r:1.1*l,cx:s,cy:e.sets.y(t)+r,name:n.tooltips?t.name:"",className:Et(`fillSelection-${n.id}`,`pnone-${n.id}`,n.classNames.dot),style:Wt(n.styles.dot,n.selectionColor?void 0:t.color)}))))}const rn=[];function sn({size:e,data:t,style:n,selection:a,hasHover:r}){const s=n.emptySelection,l=Mt(a,t.toElemKey),o=Nt(a),i=e.sets.addons.some((e=>null!=e.renderSelection))||e.cs.addons.some((e=>null!=e.renderSelection)),u=a&&"function"!=typeof a&&i?function(e,t){const n=y(e,t);return e=>n(e.elems).intersection}(Array.isArray(a)?a:a.elems,t.toElemKey):null;function d(e){return Object.assign(Object.assign({},e),{render:t=>{const r=u?u(t.set):null;return e.renderSelection?e.renderSelection(Object.assign({selection:a,selectionColor:n.selectionColor||t.set.color||"orange",overlap:r},t)):null}})}return c.a.createElement("g",{className:r?`pnone-${n.id}`:void 0},(a||s)&&c.a.createElement(Zt,{data:t,size:e,style:n,transform:`translate(${e.cs.x},${e.cs.y})`,empty:s&&!a,elemOverlap:l,suffix:`Selection-${n.id}`,tooltip:r?void 0:o,combinationAddons:0===e.cs.addons.length?rn:e.cs.addons.map(d)}),(a||s)&&c.a.createElement(Xt,{data:t,size:e,style:n,transform:`translate(${e.sets.x},${e.sets.y})`,empty:s&&!a,elemOverlap:l,suffix:`Selection-${n.id}`,tooltip:r?void 0:o,setAddons:0===e.sets.addons.length?rn:e.sets.addons.map(d)}),c.a.createElement("g",{transform:`translate(${e.labels.x},${e.labels.y})`},Ot(a)&&c.a.createElement(nn,{data:t,size:e,style:n,selection:a}),Ot(a)&&c.a.createElement(an,{data:t,size:e,style:n,selection:a})))}function ln(e,t="font-size"){return e?`${t}: ${e};`:""}function on(e,t,n,a){const r=[];t.hasSelectionColor&&r.push(`fill: ${t.hasSelectionColor};`);const s=null!=t.hasSelectionOpacity&&t.hasSelectionOpacity>=0;return s&&r.push(`fill-opacity: ${t.hasSelectionOpacity};`),{p:ln,root:`\n  .root-${e} {\n    ${ln(n,"font-family")}\n  }\n  `,text:`\n  .titleTextStyle-${e} {\n    fill: ${t.textColor};\n    ${ln(a.title)}\n  }\n  .descTextStyle-${e} {\n    fill: ${t.textColor};\n    ${ln(a.description)}\n  }\n\n  .legendTextStyle-${e} {\n    fill: ${t.textColor};\n    ${ln(a.legend)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  `,hasSFill:r.join(" "),hasSStroke:r.join(" ").replace("fill:","stroke:").replace("fill-","stroke-"),fill:`\n  .fillPrimary-${e} { fill: ${t.color}; fill-opacity: ${t.opacity}; }\n  .fillOverflow1-${e} { fill-opacity: ${t.opacity*De[0]}; }\n  .fillOverflow2-${e} { fill-opacity: ${t.opacity*De[1]}; }\n  ${r.length>0?`.root-${e}[data-selection] .fillPrimary-${e} { ${r.join(" ")} }`:""}\n  ${s?`\n      .root-${e}[data-selection] .fillOverflow1-${e} { fill-opacity: ${t.opacity*De[0]}; }\n      .root-${e}[data-selection] .fillOverflow2-${e} { fill-opacity: ${t.opacity*De[1]}; }`:""}\n  ${t.selectionColor?`.fillSelection-${e} { fill: ${t.selectionColor}; }`:""}\n  .fillTransparent-${e} { fill: transparent; }\n\n  .selectionHint-${e} {\n    fill: transparent;\n    pointer-events: none;\n    ${ln(t.selectionColor,"stroke")}\n  }\n  .clickAble-${e} {\n    cursor: pointer;\n  }\n\n  .startText-${e} {\n    text-anchor: start;\n  }\n  .endText-${e} {\n    text-anchor: end;\n  }\n  .pnone-${e} {\n    pointer-events: none;\n  }`,export:`\n  .exportTextStyle-${e} {\n    fill: ${t.textColor};\n    ${ln(a.exportLabel)}\n  }\n  .exportButtons-${e} {\n    text-anchor: middle;\n  }\n  .exportButton-${e} {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-${e}:hover {\n    opacity: 1;\n  }\n  .exportButton-${e} > rect {\n    fill: none;\n    stroke: ${t.textColor};\n  }\n  `}}function cn(e){const t=e.onClick;return Object(i.useMemo)((()=>({hasClick:null!=t,hasHover:null!=e.onHover,onClick:Rt(t),onMouseEnter:Rt(e.onHover),onContextMenu:Rt(e.onContextMenu),onMouseLeave:e.onHover?t=>e.onHover(null,t.nativeEvent,[]):void 0,onMouseMove:Rt(e.onMouseMove),reset:e=>t?t(null,e.nativeEvent,[]):null})),[t,e.onHover,e.onContextMenu,e.onMouseMove])}const un=c.a.forwardRef((function(e,t){var n;const a=it(e),{selection:r=null,queries:s=[],fontSizes:l}=a,o=Object(i.useMemo)((()=>a.id?a.id:kt((a.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,a.textColor,a.hoverHintColor,a.color,a.hasSelectionColor,a.selectionColor,a.notMemberColor,a.alternatingBackgroundColor,a.opacity,a.hasSelectionOpacity))),[a.id,a.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,a.textColor,a.hoverHintColor,a.color,a.hasSelectionColor,a.selectionColor,a.notMemberColor,a.alternatingBackgroundColor,a.opacity,a.hasSelectionOpacity]),u=Object(i.useMemo)((()=>function(e,t,n,a,r,s,l,o,i,c,u,d,m,y,f){return{theme:e,styles:t,classNames:n,cs:{name:a,offset:r},sets:{name:s,offset:l},emptySelection:u,id:o,barLabelOffset:i,selectionColor:c,title:d,description:m,tooltips:y,setLabelAlignment:f}}(a.theme,a.styles,a.classNames,a.combinationName,a.combinationNameAxisOffset,a.setName,a.setNameAxisOffset,o,a.barLabelOffset,a.selectionColor,a.emptySelection,a.title,a.description,a.tooltips,a.setLabelAlignment)),[a.theme,a.styles,a.classNames,a.barLabelOffset,a.combinationName,a.combinationNameAxisOffset,a.setName,a.setNameAxisOffset,o,a.selectionColor,a.emptySelection,a.title,a.description,a.tooltips,a.setLabelAlignment]),d=Object(i.useMemo)((()=>function(e,t,n,a,r,s,l,o,i,c,u){const d=l.reduce(((e,t)=>e+("before"===t.position?t.size+c:0)),0),m=l.reduce(((e,t)=>e+("before"!==t.position?t.size+c:0)),0),y=o.reduce(((e,t)=>e+("before"===t.position?t.size+c:0)),0),f=o.reduce(((e,t)=>e+("before"!==t.position?t.size+c:0)),0),p=t-2*n-20-f-y,h=e-2*n-d-m,g=r[0]>1?r[0]:h*r[0],x=r[1]>1?r[1]:h*r[1],b=s[0]>1?s[0]:p*s[0];return{id:i||kt(),cs:{before:y,after:f,x:d+g+x,y:y,w:h-g-x,h:b,addons:o,addonPadding:u},labels:{x:d+g,y:y+b,w:x,h:p-b},sets:{before:d,after:m,x:d,y:y+b,w:g,h:p-b,addons:l,addonPadding:c},padding:a,legend:{x:e/2},margin:n,w:e,h:t}}(a.width,a.height,a.padding,a.barPadding,a.widthRatios,a.heightRatios,a.setAddons,a.combinationAddons,a.id,a.setAddonPadding,a.combinationAddonPadding)),[a.width,a.height,a.padding,a.barPadding,a.widthRatios,a.heightRatios,a.setAddons,a.combinationAddons,a.id,a.setAddonPadding,a.combinationAddonPadding]),m=Object(i.useMemo)((()=>zt(a.sets,a.combinations,d,a.numericScale,a.bandScale,a.barLabelOffset+Lt(l.barLabel),a.dotPadding,a.barPadding,Lt(l.axisTick),a.combinationAddons,a.toKey,a.toElemKey,a.id,a.setMaxScale,a.combinationMaxScale)),[a.sets,a.combinations,d,a.numericScale,a.bandScale,a.barLabelOffset,l.barLabel,a.dotPadding,a.barPadding,l.axisTick,a.combinationAddons,a.toKey,a.toElemKey,a.id,a.setMaxScale,a.combinationMaxScale]),y=on(o,a,a.fontFamily,l),f=cn(a),p=`\n  ${y.root}\n  ${y.text}\n\n  .axisTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.axisTick)}\n    text-anchor: middle;\n  }\n  .barTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.barLabel)}\n  }\n  .cBarTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.barLabel)}\n    text-anchor: middle;\n  }\n  .sBarTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.barLabel)}\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-${o} {\n    ${y.p(l.barLabel)}\n    fill: ${a.hoverHintColor};\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.setLabel)}\n    text-anchor: ${function(e){var t;return null!==(t={left:"start",center:"middle",right:"end"}[e])&&void 0!==t?t:"middle"}(a.setLabelAlignment)};\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.chartLabel)}\n    text-anchor: middle;\n  }\n  .sChartTextStyle-${o} {\n    fill: ${a.textColor};\n    ${y.p(l.chartLabel)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ${y.fill}\n  .fillNotMember-${o} { fill: ${a.notMemberColor}; }\n  .fillAlternating-${o} { fill: ${a.alternatingBackgroundColor||"transparent"}; }\n\n  .axisLine-${o} {\n    fill: none;\n    stroke: ${a.textColor};\n  }\n  .hoverBar-${o} {\n    fill: transparent;\n  }\n\n  .interactive-${o}:hover > .hoverBar-${o} {\n    stroke: ${a.hoverHintColor};\n  }\n  .interactive-${o}:hover > .hoverBarTextStyle-${o} {\n    display: unset;\n  }\n\n  ${y.export}\n\n  .upsetLine-${m.id} {\n    stroke-width: ${.6*m.r};\n    stroke: ${a.color};\n    stroke-opacity: ${a.opacity};\n  }\n  ${y.hasSStroke?`.root-${o}[data-selection] .upsetLine-${m.id} { ${y.hasSStroke} }`:""}\n\n  .upsetSelectionLine-${m.id} {\n    stroke-width: ${.6*m.r*1.1};\n    ${y.p(a.selectionColor,"stroke")}\n    pointer-events: none;\n  }\n\n  ${s.map(((e,t)=>`.fillQ${t}-${m.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,h=Object(i.useCallback)((t=>{const n=t.currentTarget.closest("svg"),a=t.currentTarget.dataset.type||"png";switch(a){case"vega":ht(n);break;case"dump":wt(n,e,m);break;case"share":St(e,m);break;case"svg":case"png":ft(n,{type:a,toRemove:`.${t.currentTarget.getAttribute("class")}`})}}),[m,e]),g=Nt(r);return c.a.createElement("svg",{id:a.id,className:Et(`root-${o}`,a.className),style:a.style,width:a.width,height:a.height,ref:t,viewBox:`0 0 ${a.width} ${a.height}`,"data-theme":null!==(n=a.theme)&&void 0!==n?n:"light","data-selection":g||void 0},c.a.createElement("style",null,p),c.a.createElement("defs",null,c.a.createElement("clipPath",{id:`clip-${d.id}`},c.a.createElement("rect",{x:d.sets.w,y:0,width:d.labels.w,height:d.sets.h}))),a.queryLegend&&c.a.createElement(It,{queries:s,x:d.legend.x,style:u,data:m}),c.a.createElement(_t,{transform:`translate(${d.w-2},${d.h-3})`,styleId:o,exportButtons:a.exportButtons,exportChart:h}),c.a.createElement("g",{transform:`translate(${a.padding},${a.padding})`,"data-upset":"base"},a.onClick&&c.a.createElement("rect",{width:d.cs.x,height:d.sets.y,onClick:f.reset,className:`fillTransparent-${o}`}),c.a.createElement(Ut,{size:d,style:u,data:m}),c.a.createElement(Yt,{size:d,style:u,data:m,h:f,setChildrenFactory:a.setChildrenFactory,combinationChildrenFactory:a.combinationChildrenFactory}),c.a.createElement(sn,{size:d,style:u,data:m,hasHover:f.hasHover,selection:r}),c.a.createElement(tn,{size:d,style:u,data:m,hasHover:f.hasHover,queries:s,secondary:null!=a.onHover||null!=r})),e.children)}));function dn({rules:e,style:t,size:n,p:a,data:r,tRef:s,children:l,exportChart:o,selectionName:i,h:u}){var d,m;return c.a.createElement("svg",{id:a.id,className:Et(`root-${t.id}`,a.className),style:a.style,width:a.width,height:a.height,ref:s,viewBox:`0 0 ${a.width} ${a.height}`,"data-theme":null!==(d=a.theme)&&void 0!==d?d:"light","data-selection":i||void 0},c.a.createElement("style",null,e),a.onClick&&c.a.createElement("rect",{width:n.w,height:n.h,onClick:u.reset,className:`fillTransparent-${t.id}`}),a.queryLegend&&c.a.createElement(It,{queries:null!==(m=a.queries)&&void 0!==m?m:[],x:n.legend.x,style:t,data:r}),c.a.createElement(_t,{transform:`translate(${n.w-2},${n.h-3})`,styleId:t.id,exportButtons:a.exportButtons,exportChart:o}),c.a.createElement("g",{transform:`translate(${a.padding},${a.padding})`,"data-upset":"base"},l),a.children)}function mn(e){var t;if(e.v>=1||e.v<=0)return null;const n=Math.round(10*e.v)/100;return c.a.createElement("defs",null,c.a.createElement("pattern",{id:e.id,width:"1",height:"0.1",patternContentUnits:"objectBoundingBox",patternTransform:`rotate(${null!==(t=e.rotate)&&void 0!==t?t:0})`},e.bgFilled&&c.a.createElement("rect",{x:"0",y:"0",width:"1",height:"0.1",style:{fill:e.bgFill},className:`fillPrimary-${e.styleId}`}),c.a.createElement("rect",{x:"0",y:"0",width:"1",height:n,className:`fill${e.suffix}`,style:e.fill?{fill:e.fill}:void 0})))}function yn({slice:e,d:t,i:n,data:a,style:r,elemOverlap:s,selected:l,selectionName:o,h:i,queries:u,size:d,fill:m,qs:y}){const f=function(e,t,n=0){return e.path?e.path:`M ${e.x1-n},${e.y1-n} ${e.arcs.map((e=>{const a=t[e.ref].l,r=Ze(a)?a.rx:a.r,s=Ze(a)?a.ry:a.r,l=Ze(a)?a.rotation:0;return`A ${r-n} ${s-n} ${l} ${e.large?1:0} ${e.sweep?1:0} ${e.x2-n} ${e.y2-n}`})).join(" ")}`}(e,a.sets.d),p=function(e,t){return e.text.x===t.cx?0:e.text.x>t.cx?e.text.y<=t.cy?60:-60:e.text.y<=t.cy?-60:60}(e,d.area),h=s?s(t):0,g=h===t.cardinality&&t.cardinality>0||l,x=Et(`arc-${r.id}`,0===h&&!l&&`${m?"fillPrimary":"arcP"}-${r.id}`,g&&`fillSelection-${r.id}`,r.classNames.set),b=`upset-${r.id}-${n}`,v=null!=s||null!=i.onMouseLeave,$=y.map((e=>e(t))),{title:w,tooltip:S}=function(e,t,n,a,r,s,l,o){const i=l.format(e.cardinality),u=n?`${e.name} \u2229 ${n}`:e.name,d=n?`${l.format(t)}/${i}`:i;if(0===r.length)return{tooltip:`${u}: ${d}`,title:"set"===e.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("tspan",{dy:"-0.6em"},e.name),c.a.createElement("tspan",{x:o,dy:"1.2em"},d)):d};if(1===r.length&&!a&&!n)return{tooltip:`${e.name} \u2229 ${s[0].name}: ${l.format(r[0])}/${i}`,title:"set"===e.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("tspan",{dy:"-0.6em"},e.name),c.a.createElement("tspan",{x:o,dy:"1.2em"},`${l.format(r[0])}/${i}`)):`${l.format(r[0])}/${i}`};const m=c.a.createElement("tspan",{x:o,dy:"1.2em"},s.map(((e,t)=>c.a.createElement(c.a.Fragment,{key:e.name},c.a.createElement("tspan",{className:`fillQ${t}-${l.id}`},"\u2b24"),c.a.createElement("tspan",null,` ${l.format(r[t])}/${i}${t<s.length-1?" ":""}`)))));return{tooltip:`${u}: ${d}\n${s.map(((t,n)=>`${e.name} \u2229 ${t.name}: ${l.format(r[n])}/${i}`)).join("\n")}`,title:"set"===e.type?c.a.createElement(c.a.Fragment,null,c.a.createElement("tspan",{dy:"-1.2em"},e.name),c.a.createElement("tspan",{x:o,dy:"1.2em"},d),m):c.a.createElement(c.a.Fragment,null,c.a.createElement("tspan",{dy:"-0.6em"},d),m)}}(t,h,o,v,$,u,a,e.text.x);return c.a.createElement("g",null,c.a.createElement(mn,{id:b,v:0===h?0:h/t.cardinality,suffix:`Selection-${r.id}`,rotate:p,bgFill:t.color,bgFilled:null!=t.color||m,fill:r.selectionColor?void 0:t.color,styleId:r.id}),c.a.createElement("path",{onMouseEnter:i.onMouseEnter(t,[]),onMouseLeave:i.onMouseLeave,onClick:i.onClick(t,[]),onContextMenu:i.onContextMenu(t,[]),onMouseMove:i.onMouseMove(t,[]),d:f,className:x,style:Wt(r.styles.set,h>0&&h<t.cardinality?`url(#${b})`:g&&r.selectionColor?void 0:t.color)},r.tooltips&&c.a.createElement("title",null,S)),c.a.createElement("text",{x:e.text.x,y:e.text.y,className:Et(`${"set"===t.type?"set":"value"}TextStyle-${r.id}`,`pnone-${r.id}`)},w))}function fn(e,t,n,a,r,s,l,o){const i=e.length>a.maxSets?e.slice(0,a.maxSets):e,{cs:c,setKeys:u,csKeys:d}=function(e,t,n,a={min:1}){const r=e.map(t);let s=[];if(qt(n)){const r=new Map(n.map((e=>[Array.from(e.sets).map(t).sort().join("#"),e])));s=W(e.map((e=>({type:"set",cardinality:0,elems:[],name:e.name,s:e}))),Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},a)).map((e=>{const n=Array.from(e.sets).map((e=>t(e.s))).sort().join("#");return r.has(n)?r.get(n):{name:e.name,cardinality:0,degree:e.degree,elems:[],sets:new Set(Array.from(e.sets).map((e=>e.s))),type:"distinctIntersection"}}))}else s=W(e,Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},a,null!=n?n:{}));const l=s.map(t);return{cs:s,setKeys:r,csKeys:l}}(i,s,t),m=a.compute(i,c,n.area.w,n.area.h);return{id:o||kt(),sets:{d:m.sets.map(((e,t)=>({v:i[t],l:e,key:u[t]}))),v:i,format:r},format:r,cs:{d:m.intersections.map(((e,t)=>({v:c[t],l:e,key:d[t]}))),v:c,has:(e,t)=>{const n=s(t);return Array.from(e.sets).some((e=>s(e)===n))}},toKey:s,toElemKey:l}}function pn(e,t,n,a){const r=t-2*n,s=e-2*n,l=Math.min(s,r)/2;return{id:a||kt(),legend:{x:e/2},area:{w:s,h:r,cx:s/2,cy:r/2,r:l},margin:n,w:e,h:t}}function hn(e,t,n){return Object(i.useCallback)((a=>{const r=a.currentTarget.closest("svg"),s=a.currentTarget.dataset.type||"png";switch(s){case"dump":wt(r,t,e,n);break;case"share":St(t,e,n);break;case"svg":case"png":ft(r,{type:s,toRemove:`.${a.currentTarget.getAttribute("class")}`})}}),[e,t,n])}const gn=c.a.forwardRef((function(e,t){const n=ut(e),{selection:a=null,queries:r=[],fontSizes:s}=n,l=function(e){const{selection:t=null,queries:n=[],fontSizes:a}=e,r=Object(i.useMemo)((()=>e.id?e.id:kt((e.fontFamily,a.valueLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity))),[e.id,e.fontFamily,a.valueLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity]),s=Object(i.useMemo)((()=>function(e,t,n,a,r,s,l,o){return{theme:e,styles:t,classNames:n,id:a,selectionColor:r,title:s,description:l,tooltips:o}}(e.theme,e.styles,e.classNames,r,e.selectionColor,e.title,e.description,e.tooltips)),[e.theme,e.styles,e.classNames,r,e.selectionColor,e.title,e.description,e.tooltips]),l=Object(i.useMemo)((()=>pn(e.width,e.height,e.padding,e.id)),[e.width,e.height,e.padding,e.id]),o=cn(e),u=null!=t&&Ot(t)?e.toKey(t):null,d=null==t?null:Mt(t,e.toElemKey),m=Nt(t),y=c.a.useMemo((()=>n.map((t=>b(t,"intersection",e.toElemKey)))),[n,e.toElemKey]),f=on(r,e,e.fontFamily,a);return{styleId:r,size:l,style:s,h:o,selectionKey:u,selectionName:m,selectionOverlap:d,qs:y,rulesHelper:f}}(n),{size:o,style:u,rulesHelper:d}=l,m=Object(i.useMemo)((()=>fn(n.sets,n.combinations,o,n.layout,n.valueFormat,n.toKey,n.toElemKey,n.id)),[n.sets,n.combinations,o,n.valueFormat,n.toKey,n.toElemKey,n.id,n.layout]),y=`\n  ${d.root}\n  ${d.text}\n\n  .valueTextStyle-${u.id} {\n    fill: ${n.valueTextColor};\n    ${d.p(s.valueLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .setTextStyle-${u.id} {\n    fill: ${n.textColor};\n    ${d.p(s.setLabel)}\n    text-anchor: middle;\n  }\n\n  .topText-${u.id} {\n    dominant-baseline: hanging;\n  }\n\n  .stroke-circle-${u.id} {\n    fill: none;\n    stroke: ${n.strokeColor};\n  }\n\n  .arc-${u.id} {\n    fill-rule: evenodd;\n  }\n  .arcP-${u.id} {\n    fill: transparent;\n    fill-opacity: ${n.opacity};\n  }\n  ${d.fill}\n  ${d.export}\n\n  ${d.hasSFill?`.root-${u.id}[data-selection] .arcP-${u.id} { ${d.hasSFill} }`:""}\n\n  ${r.map(((e,t)=>`.fillQ${t}-${m.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,f=hn(m,n,"venn"),p=m.sets.d.reduce(((e,t)=>Math.min(e,t.l.cx-(Ze(t.l)?t.l.rx:t.l.r))),o.area.w);return c.a.createElement(dn,{rules:y,style:u,selectionName:l.selectionName,size:o,p:n,data:m,tRef:t,h:l.h,exportChart:f},c.a.createElement(Kt,{style:u,width:p}),c.a.createElement("g",{className:Et(n.onClick&&`clickAble-${u.id}`)},m.sets.d.map(((e,t)=>c.a.createElement("text",{key:e.key,x:e.l.text.x,y:e.l.text.y,onClick:l.h.onClick(m.sets.v[t],[]),onMouseEnter:l.h.onMouseEnter(m.sets.v[t],[]),onMouseLeave:l.h.onMouseLeave,onContextMenu:l.h.onContextMenu(m.sets.v[t],[]),onMouseMove:l.h.onMouseMove(m.sets.v[t],[]),className:Et(`setTextStyle-${u.id}`,`${e.l.align}Text-${u.id}`,`${e.l.verticalAlign}Text-${u.id}`)},m.sets.v[t].name)))),c.a.createElement("g",{className:Et(n.onClick&&`clickAble-${u.id}`)},m.cs.d.map(((e,t)=>c.a.createElement(yn,{key:e.key,d:e.v,i:t,slice:e.l,size:o,style:u,data:m,fill:n.filled,h:l.h,selectionName:l.selectionName,selected:l.selectionKey===e.key||w(a)&&m.cs.has(e.v,a),elemOverlap:l.selectionOverlap,queries:r,qs:l.qs})))),c.a.createElement("g",null,m.sets.d.map((e=>Ze(e.l)?c.a.createElement("ellipse",{key:e.key,rx:e.l.rx,ry:e.l.ry,transform:`translate(${e.l.cx},${e.l.cy})rotate(${e.l.rotation})`,className:Et(`stroke-circle-${u.id}`,u.classNames.set),style:u.styles.set}):c.a.createElement("circle",{key:e.key,cx:e.l.cx,cy:e.l.cy,r:e.l.r,className:Et(`stroke-circle-${u.id}`,u.classNames.set),style:u.styles.set})))))})),xn=c.a.memo((function({d:e,i:t,h:n,className:a,data:r,style:s}){const l=r.cs.l[t],o=r.cs.scale(e.cardinality),i=(r.cell-r.cs.bandWidth)/2;return c.a.createElement("g",{transform:`translate(${l.x}, ${l.y})`,onMouseEnter:n.onMouseEnter(e,[]),onMouseLeave:n.onMouseLeave,onClick:n.onClick(e,[]),onContextMenu:n.onContextMenu(e,[]),onMouseMove:n.onMouseMove(e,[]),className:a,"data-cardinality":e.cardinality},s.tooltips&&c.a.createElement("title",null,e.name,": ",r.sets.format(e.cardinality)),c.a.createElement("rect",{width:r.cell,height:r.cell,className:`fillTransparent-${s.id}`}),c.a.createElement("rect",{x:i,y:o,height:r.cell-o,width:r.cs.bandWidth,className:Et(`fillPrimary-${s.id}`,s.classNames.bar),style:Wt(s.styles.bar,e.color)}),c.a.createElement("text",{y:o-s.barLabelOffset,x:r.cell/2,style:s.styles.barLabel,className:Et(`barTextStyle-${s.id}`,s.classNames.barLabel)},r.sets.format(e.cardinality)))}));function bn(e,t,n,a){const r=e*t,s=e*n;return[a.x.map((t=>`M ${t*e},0 l0,${r}`)),a.y.map((t=>`M 0,${t*e} l${s},0`))].flat().join(" ")}var vn=c.a.memo((function({data:e,style:t,size:n,h:a}){const r="auto"===t.cs.offset?e.cs.labelOffset:t.cs.offset;return c.a.createElement("g",null,c.a.createElement("g",{transform:`translate(${n.w-r-2}, ${n.h-e.cell-50})`},c.a.createElement(Ft,{scale:e.cs.scale,orient:"left",size:e.cell,start:e.cs.barLabelFontSize,style:t}),c.a.createElement("text",{className:Et(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-r}, ${e.cell})rotate(-90)`},t.cs.name)),c.a.createElement("g",null,e.sets.l.map(((n,r)=>{const s=e.sets.v[r],l=s.name;return c.a.createElement("g",{key:l,onClick:a.onClick(s,[]),onMouseEnter:a.onMouseEnter(s,[]),onMouseLeave:a.onMouseLeave,onContextMenu:a.onContextMenu(s,[]),onMouseMove:a.onMouseMove(s,[]),className:Et(a.hasClick&&`clickAble-${t.id}`)},n.text.map(((e,a)=>c.a.createElement("text",{key:a,transform:`translate(${e.x},${e.y})${n.hor?"":"rotate(-90)"}`,className:Et(`setTextStyle-${t.id}`)},l))))})),e.sets.l.map(((n,a)=>{const r=e.sets.v[a].name;return c.a.createElement(c.a.Fragment,{key:r},n.notText.map(((e,a)=>c.a.createElement("text",{key:a,transform:`translate(${e.x},${e.y})${n.hor?"":"rotate(-90)"}`,className:Et(`setTextStyle-${t.id}`,`not-${t.id}`)},r))))}))),c.a.createElement("g",{className:Et(a.hasClick&&`clickAble-${t.id}`)},e.cs.v.map(((n,r)=>c.a.createElement(xn,{key:e.cs.keys[r],d:n,i:r,h:a,style:t,data:e})))),c.a.createElement("g",{transform:`translate(${e.grid.x}, ${e.grid.y})`},e.grid.levels.map(((n,a)=>c.a.createElement("path",{key:a,d:bn(e.cell,e.grid.vCells,e.grid.hCells,n),className:`gridStyle-${t.id} gridStyle-${t.id}-${a}`})))))}));function $n({data:e,style:t,elemOverlap:n,secondary:a,tooltip:r,suffix:s,empty:l}){const o=e.cs.bandWidth,i=(e.cell-o)/2,u=Et(`fill${s}`,!r&&`pnone-${t.id}`,t.classNames.bar);return c.a.createElement("g",{"data-upset":a?"cs-q":"cs-s"},e.cs.v.map(((s,d)=>{const m=e.cs.l[d],y=e.cs.keys[d];if(l&&!a)return c.a.createElement("rect",{key:y,x:m.x+i,y:m.y+e.cell,height:0,width:o,className:u,style:Wt(t.styles.bar,t.selectionColor?void 0:s.color)},r&&c.a.createElement("title",null));const f=n(s);if(0===f)return null;const p=e.cs.scale(f),h=r&&c.a.createElement("title",null,`${s.name} \u2229 ${r}: ${f}`);return a?c.a.createElement("path",{key:y,transform:`translate(${m.x+i}, ${m.y+p})`,d:`M0,-1 l${o},0 l0,2 l${-o},0 L-${e.triangleSize},-${e.triangleSize} L-${e.triangleSize},${e.triangleSize} Z`,className:u,"data-i":d,"data-cardinality":f,style:Wt(void 0,t.selectionColor?void 0:s.color)},h):c.a.createElement("rect",{key:y,x:m.x+i,y:m.y+p,height:e.cell-p,"data-i":d,"data-cardinality":f,width:o,className:u,style:Wt(t.styles.bar,t.selectionColor?void 0:s.color)},h)})))}var wn=c.a.memo((function({data:e,style:t,hasHover:n,secondary:a,queries:r}){const s=Object(i.useMemo)((()=>r.map((t=>Object.assign(Object.assign({},t),{overlap:b(t,"intersection",e.toElemKey)})))),[r,e.toElemKey]);return c.a.createElement("g",{className:n&&!a?`pnone-${t.id}`:void 0},s.map(((r,s)=>c.a.createElement($n,{key:r.name,data:e,style:t,elemOverlap:r.overlap,suffix:`Q${s}-${e.id}`,secondary:a||s>0,tooltip:n&&!(a||s>0)?void 0:r.name}))))}));function Sn({data:e,style:t,selection:n,hasHover:a}){const r=t.emptySelection,s=Mt(n,e.toElemKey),l=Nt(n);return c.a.createElement("g",{className:a?`pnone-${t.id}`:void 0},(n||r)&&c.a.createElement($n,{data:e,style:t,empty:r&&!n,elemOverlap:s,suffix:`Selection-${t.id}`,tooltip:a?void 0:l}))}function En(e,t){return Array(e).fill(0).map(((e,n)=>t(n)))}function kn(e){const t=Array(Math.pow(2,e)).fill(0);En(e,(e=>{const n=Math.pow(2,e);for(let a=0;a<t.length;a+=n)t[a]++}));const n=En(Math.max(e,1),(()=>[]));return t.forEach(((e,t)=>{const a=Math.max(0,e-1);n[a].push(t)})),n[n.length-1].push(t.length),n}function On(e,t,n,a){const{xBefore:r,yBefore:s,cell:l,hCells:o,vCells:i,horizontalSets:c,verticalSets:u}=Cn(e.length,a),d=function(e,t){const{xOffset:n,yOffset:a,cell:r,xBefore:s,yBefore:l,hCells:o,vCells:i}=Cn(e,t),c=t.width-n,u=t.height-a;return En(e,(e=>{const d=Math.floor(e/2),m=e%2==0,y=Math.pow(2,d),f=(m?o:i)/y/2,p=m?s:l,h=[{v:!0,x:p+f*r*.5},{v:!1,x:p+f*r*1.5}];for(let t=1;t<=d;t++){const e=f*Math.pow(2,t)*r,n=h.length-1;h.push(...h.map(((t,a)=>({v:h[n-a].v,x:t.x+e}))))}const g=d%2==1,x=Math.floor(d/2);let b=0;if(g){b=(m?u:c)-t.labelHeight*(.5+x)}else{b=(m?a:n)+t.labelHeight*(.5+x)}return m?{hor:!0,span:f,text:h.filter((e=>e.v)).map((e=>({x:e.x,y:b}))),notText:h.filter((e=>!e.v)).map((e=>({x:e.x,y:b})))}:{hor:!1,span:f,text:h.filter((e=>e.v)).map((e=>({x:b,y:e.x}))),notText:h.filter((e=>!e.v)).map((e=>({x:b,y:e.x})))}}))}(e.length,a),m=function(e,t,n,a){return e.map(((e,r)=>{const s=Math.floor(r/2),l=r%2==0,o=Math.pow(2,s),i=(l?t:n)/o/2;return(t,[n,r])=>a(t,e)?[n,r]:i>1?l?[i-1-n+i,r]:[n,i-1-r+i]:l?[n+i,r]:[n,r+i]}))}(e,o,i,n),y=t.map((e=>{const[t,n]=m.reduceRight(((t,n)=>n(e,t)),[0,0]);return{x:r+t*l,y:s+n*l}})),f=kn(c),p=kn(u);return{s:d,c:y,cell:l,grid:{x:r,y:s,hCells:o,vCells:i,levels:f.map(((e,t)=>({x:e,y:t<p.length?p[t]:[]})))}}}function Cn(e,t){const n=Math.ceil(e/2),a=Math.floor(e/2),r=Math.pow(2,n),s=Math.pow(2,a),l=Math.floor(Math.min((t.width-t.labelHeight*a)/r,(t.height-t.labelHeight*n)/s)),o=(t.width-r*l-t.labelHeight*a)/2,i=(t.height-s*l-t.labelHeight*n)/2;return{xOffset:o,horizontalSets:n,yOffset:i,verticalSets:a,cell:l,xBefore:o+Math.ceil(a/2)*t.labelHeight,yBefore:i+Math.ceil(n/2)*t.labelHeight,hCells:r,vCells:s}}const Mn=c.a.forwardRef((function(e,t){const n=mt(e),{queries:a=[],fontSizes:r,selection:s=null}=n,l=Object(i.useMemo)((()=>n.id?n.id:kt((n.fontFamily,r.axisTick,r.barLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity))),[n.id,n.fontFamily,r.axisTick,r.barLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity]),o=Object(i.useMemo)((()=>function(e,t,n,a,r,s,l,o,i,c,u,d){return{theme:e,styles:t,classNames:n,emptySelection:i,id:s,barLabelOffset:l,selectionColor:o,title:c,description:u,tooltips:d,cs:{name:a,offset:r}}}(n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips)),[n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips]),u=Object(i.useMemo)((()=>pn(n.width,n.height,n.padding,n.id)),[n.width,n.height,n.padding,n.id]),d=Object(i.useMemo)((()=>function(e,t,n,a,r,s,l,o,i,c,u,d){const m=jt(a),y=e.map(i),f=qt(t)?t:W(e,Object.assign({type:"distinctIntersection"},null!=t?t:{})),p=f.map(i),h=(e,t)=>{const n=i(t);return Array.from(e.sets).some((e=>i(e)===n))},g=Math.ceil(1.2*l),x=On(e,f,h,{width:n.area.w,height:n.area.h,labelHeight:g}),b=null!=d?d:f.reduce(((e,t)=>Math.max(e,t.cardinality)),0),v=m(b,[x.cell,r],{orientation:"vertical",fontSizeHint:o}),$=Math.round(x.cell*(1-s)),w=Math.min(Math.max(2,$/2*s),5),S=(E=b,Math.floor(r/1.4*.7*v.tickFormat()(E).length));var E;return{id:u||kt(),grid:x.grid,sets:{keys:y,l:x.s,v:e,labelHeight:g,format:v.tickFormat()},triangleSize:w,cell:x.cell,cs:{keys:p,l:x.c,v:f,barLabelFontSize:r,has:h,scale:v,bandWidth:$,labelOffset:S+9+6},toKey:i,toElemKey:c}}(n.sets,n.combinations,u,n.numericScale,n.barLabelOffset+Lt(r.barLabel),n.barPadding,Lt(r.setLabel),Lt(r.axisTick),n.toKey,n.toElemKey,n.id,n.combinationMaxScale)),[n.sets,n.combinations,u,n.numericScale,n.barLabelOffset,r.barLabel,n.barPadding,r.axisTick,r.setLabel,n.toKey,n.toElemKey,n.id,n.combinationMaxScale]),m=cn(n),y=Nt(s),f=on(l,n,n.fontFamily,r),p=`\n  ${f.root}\n  ${f.text}\n\n  .axisTextStyle-${l} {\n    fill: ${n.textColor};\n    ${f.p(r.axisTick)}\n    text-anchor: end;\n  }\n  .barTextStyle-${l} {\n    fill: ${n.textColor};\n    ${f.p(r.barLabel)}\n    text-anchor: middle;\n  }\n  .setTextStyle-${o.id} {\n    fill: ${n.textColor};\n    ${f.p(r.setLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${l} {\n    fill: ${n.textColor};\n    ${f.p(r.chartLabel)}\n  }\n\n  .not-${o.id} {\n    text-decoration: overline;\n  }\n\n  .axisLine-${l} {\n    fill: none;\n    stroke: ${n.textColor};\n  }\n\n  .gridStyle-${o.id} {\n    fill: none;\n    stroke: ${n.strokeColor};\n    stroke-linecap: round;\n  }\n  .gridStyle-${o.id}-1 {\n    stroke-width: 2;\n  }\n  .gridStyle-${o.id}-2 {\n    stroke-width: 3;\n  }\n\n  ${f.fill}\n  ${f.export}\n\n  ${a.map(((e,t)=>`.fillQ${t}-${d.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,h=hn(d,n,"kmap"),g=d.sets.l.reduce(((e,t)=>Math.min(e,t.text[0].x-d.sets.labelHeight)),u.area.w);return c.a.createElement(dn,{rules:p,style:o,size:u,p:n,data:d,tRef:t,selectionName:y,h:m,exportChart:h},c.a.createElement(Kt,{style:o,width:g}),c.a.createElement(vn,{style:o,data:d,h:m,size:u}),c.a.createElement(Sn,{style:o,data:d,hasHover:m.hasHover,selection:s}),c.a.createElement(wn,{style:o,data:d,hasHover:m.hasHover,queries:a,secondary:m.hasHover||null!=s}))})),Nn="#F4F4F4",An="#A6A8AB",Ln="#E1E2E3";function jn(e){var t,n,a,r;const s=null!==(t=e.color)&&void 0!==t?t:An,l=null!==(n=e.secondaryColor)&&void 0!==n?n:Ln,o=Object.assign({},e),i=null!==(a=e.background)&&void 0!==a?a:Nn;return delete o.color,delete o.secondaryColor,delete o.background,i&&(o.style=Object.assign({background:i},null!==(r=o.style)&&void 0!==r?r:{})),{color:s,secondary:l,rest:o}}const qn=c.a.memo(c.a.forwardRef((function(e,t){const{color:n,secondary:a,rest:r}=jn(e),s=20,l=[10,20,35,60,65,80,90],o=[50,30,15];return c.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t},r),l.map(((e,t)=>c.a.createElement("rect",{key:t,x:85+30*t,y:e,width:s,height:100-e,fill:n}))),o.map(((e,t)=>c.a.createElement("rect",{key:t,x:e,y:110+30*t,width:75-e,height:s,fill:n}))),l.map(((e,t)=>o.map(((e,r)=>{const s=r===2-t||3===t&&r>0||4===t&&1!==r||5===t&&r<2||6===t;return c.a.createElement("circle",{key:`${t}x${r}`,cx:85+30*t+10,cy:110+30*r+10,r:10,fill:s?n:a})})))),c.a.createElement("rect",{x:"182",y:"150",width:"6",height:"30",fill:n}),c.a.createElement("rect",{x:"212",y:"120",width:"6",height:"60",fill:n}),c.a.createElement("rect",{x:"242",y:"120",width:"6",height:"30",fill:n}),c.a.createElement("rect",{x:"272",y:"120",width:"6",height:"60",fill:n}))}))),zn=c.a.memo(c.a.forwardRef((function(e,t){const{color:n,secondary:a,rest:r}=jn(e),s=et(3,280,3180);return c.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t},r),s.sets.map(((e,t)=>c.a.createElement("circle",{key:t,cx:e.cx,cy:e.cy+10,r:e.r,fill:a}))),s.sets.map(((e,t)=>c.a.createElement("circle",{key:t,cx:e.cx,cy:e.cy+10,r:e.r,stroke:n,fill:"none"}))))}))),_n=c.a.memo(c.a.forwardRef((function(e,t){const{rest:n,color:a,secondary:r}=jn(e),{xBefore:s,yBefore:l,cell:o,hCells:i,vCells:u}=Cn(2,{width:270,height:170,labelHeight:20}),d=i*o,m=u*o;return c.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t,fontFamily:"sans-serif"},n),c.a.createElement("g",{transform:`translate(${s+10},${l+10})`},c.a.createElement("text",{x:.5*o,y:-3,fill:a,textAnchor:"middle"},"A"),c.a.createElement("text",{x:1.5*o,y:-3,fill:a,textAnchor:"middle",style:{textDecoration:"overline"}},"A"),c.a.createElement("text",{x:-3,y:.5*o,fill:a,textAnchor:"end",dominantBaseline:"central"},"B"),c.a.createElement("text",{x:-3,y:1.5*o,fill:a,textAnchor:"end",dominantBaseline:"central",style:{textDecoration:"overline"}},"B"),c.a.createElement("rect",{x:.1*o,y:o*(1-.9),height:.9*o,width:.8*o,fill:r}),c.a.createElement("rect",{x:1.1*o,y:.5*o,height:.5*o,width:.8*o,fill:r}),c.a.createElement("rect",{x:.1*o,y:1.74*o,height:.26*o,width:.8*o,fill:r}),c.a.createElement("rect",{x:1.1*o,y:1.25*o,height:.75*o,width:.8*o,fill:r}),c.a.createElement("path",{d:`M0,0 l${d},0 l0,${m} l${-d},0 l0,${-m} M${d/2},0 l0,${m} M0,${m/2} l${d},0`,fill:"none",stroke:a})))}))),In=1/180*Math.PI;function Tn(e,t,n,a){return{x:e+Math.cos(a*In)*n,y:t+Math.sin(a*In)*n}}function Bn(e,t){return{maxSets:1/0,compute(n,a,r,s){const l=a.map((e=>({sets:Array.from(e.sets).map((e=>e.name)),size:e.cardinality}))),o=e(l,Object.assign({},{width:r,height:s,distinct:!0},null!=t?t:{})),i=o.filter((e=>1===e.data.sets.length)),c=new Map(n.map(((e,t)=>[e.name,t]))),u=i.map((e=>e.circles[0])),d=function(e){const t=e.reduce(((e,t)=>e+t.x),0),n=e.reduce(((e,t)=>e+t.y),0);return{x:t/e.length,y:n/e.length}}(u),m=e=>({x2:e.p1.x,y2:e.p1.y,cx:e.circle.x,cy:e.circle.y,sweep:!0,large:e.width>e.circle.radius,ref:u.findIndex((t=>Math.abs(t.x-e.circle.x)<.05&&Math.abs(t.y-e.circle.y)<.05)),mode:"i"});return{sets:i.map((e=>{const t=e.circles[0],n=function(e,t){const n=e.x-t.x,a=e.y-t.y;return Math.atan2(a,n)/In}(t,d);return{cx:t.x,cy:t.y,r:t.radius,align:n>90?"end":"start",verticalAlign:"bottom",text:Tn(t.x,t.y,1.1*t.radius,n)}})),intersections:o.map((e=>{const t=e.arcs,n={x:e.text.x,y:e.text.y};if(0===t.length)return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:0,y1:0,arcs:[]};if(1===t.length){const t=e.arcs[0].circle;return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:e.arcs[0].p2.x,y1:t.y-t.radius,arcs:[m(e.arcs[0]),Object.assign(m(e.arcs[0]),{y2:t.y-t.radius})],path:e.distinctPath||e.path}}return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:e.arcs[0].p2.x,y1:e.arcs[0].p2.y,arcs:e.arcs.map((e=>m(e))),path:e.distinctPath||e.path}}))}}}}var Fn=Object.freeze({__proto__:null,widthRatios:function(e){return null==e||Array.isArray(e)&&e.length>=2&&e.every((e=>"number"==typeof e))},heightRatios:function(e){return null==e||Array.isArray(e)&&e.length>=1&&e.every((e=>"number"==typeof e))},setLabelAlignment:function(e){return null==e||"left"===e||"center"===e||"right"===e},sets:function(e){return Array.isArray(e)&&e.every(w)},combinations:function(e){return null==e||Array.isArray(e)&&e.every(S)||k(e)},selection:function(e){return null==e||Array.isArray(e)||E(e)},onHover:function(e){return null==e||"function"==typeof e},onClick:function(e){return null==e||"function"==typeof e},onContextMenu:function(e){return null==e||"function"==typeof e},onMouseMove:function(e){return null==e||"function"==typeof e},queries:function(e){return!e||Array.isArray(e)&&e.every(O)},stringOrFalse:function(e){return null==e||"string"==typeof e||!1===e},theme:function(e){return null==e||"light"===e||"dark"===e||"vega"===e},classNames:function(e){return null==e||Object.keys(e).every((t=>He.includes(t)&&"string"==typeof e[t]))},fontSizes:function(e){return null==e||Object.keys(e).every((t=>Ke.includes(t)&&"string"==typeof e[t]))},numericScale:function(e){return null==e||"linear"===e||"log"===e||"function"==typeof e},bandScale:function(e){return null==e||"band"===e||"function"==typeof e},axisOffset:function(e){return null==e||"auto"===e||"number"==typeof e},style:function(e){return null==e||"object"==typeof e},styles:function(e){return null==e||Object.keys(e).every((e=>He.includes(e)))},exportButtons:function(e){return null==e||"boolean"==typeof e||Object.keys(e).every((t=>Re.includes(t)&&"boolean"==typeof e[t]))}}),Pn=un,Kn=n(292),Hn=n(148),Rn=n(195),Dn=n.n(Rn);function Wn(e){return Object.assign({theme:"light",title:"",description:""},rt(e.theme),e)}function Un(e,t){if(g(e))return t=>e.overlap([t])>0;if(x(e)){const n=e.set.overlap;if(n)return e=>n([e])>0;if(t){const n=new Set(e.set.elems.map(t));return e=>n.has(e)}{const t=new Set(e.set.elems);return e=>t.has(e)}}if(h(e)){if(t){const n=new Set(Array.from(e.elems).map(t));return e=>n.has(e)}const n=new Set(e.elems);return e=>n.has(e)}return!1}function Vn(e,t){if(!e)return!1;if("function"==typeof e)return t=>e({type:"set",name:"S",cardinality:1,elems:[t]})>0;if(E(e)){const n=e.overlap;if(n)return e=>n([e])>0;if(t){const n=new Set(e.elems.map(t));return e=>n.has(e)}{const t=new Set(e.elems);return e=>t.has(e)}}if(Array.isArray(e)){if(t){const n=new Set(e.map(t));return e=>n.has(e)}const n=new Set(e);return e=>n.has(e)}return!1}function Qn(e){return!1!==e&&(()=>e)}function Gn(e,t="k"){return{test:`inSetStore(upset_signal, datum.${t})`,value:e}}function Jn(e="values",t="k"){return`countInSetStore(upset_signal, datum.${e}, '${t}')`}function Yn(e,t="values",n="k"){return`countInSetStore(upset_q${e}_signal, datum.${t}, '${n}')`}function Zn(e,t="k"){return(null!=e?e:[]).map(((e,n)=>({test:`inSetStore(upset_q${n}_signal, datum.${t})`,value:e.color})))}function Xn(e,t,n,a=!1){const r=Object(i.useRef)(null),s=Object(i.useRef)(n),l=Object(i.useCallback)((n=>(n.signals=n.signals||[],n.signals.push({name:"upset_signal",value:Qn(Vn(s.current,e))}),(null!=t?t:[]).forEach(((t,a)=>n.signals.push({name:`upset_q${a}_signal`,value:Qn(Un(t,e))}))),n)),[s,t,e]);Object(i.useLayoutEffect)((()=>{s.current=null!=n?n:null,r.current&&(r.current.signal("upset_signal",Vn(n,e)),(null!=t?t:[]).forEach(((t,n)=>r.current.signal(`upset_q${n}_signal`,Un(t,e)))),a&&!r.current._running&&r.current.resize().run())}),[r,n,t,a,e]);const o=Object(i.useCallback)((e=>{r.current=e}),[r]);return{viewRef:r,vegaProps:{patch:l,onNewView:o}}}function ea(e,t,n){if(e.length!==t.length)return!1;if(n){const a=new Set(t.map(n));return e.every((e=>a.has(n(e))))}const a=new Set(t);return e.every((e=>a.has(e)))}function ta(e){return{name:"Vega Selection",type:"composite",cardinality:e.length,degree:0,elems:e,sets:new Set}}function na(e,t){const n=t.signal(`${e}_tuple`);n&&Array.isArray(n.values)&&0!==n.values.length&&t.signal(`${e}_tuple`,null)}function aa(e,t,n,a,r,s){return(l,o)=>{if(!e.current)return;const i=o;if(!i||!i._vgsid_||0===i._vgsid_.length)return void a(null);const c=new Set(i._vgsid_),u=e.current.data(r).filter((e=>c.has(e._vgsid_))).map((e=>e[s]));if(0===u.length)return void a(null);if(t.current&&S(t.current)&&ea(t.current.elems,u,n))return;const d=ta(u);a(d)}}function ra(e,t,n,a,r,s,{selectionName:l="select",transformedData:o="data_0",unitData:c="",elemField:u="e"}={}){const d=Object(i.useRef)(a),m=Object(i.useMemo)((()=>{if(!r&&!s)return;const e={};return r&&(e[l]=aa(t,d,n,r,o,u)),s&&(e[`${l}_hover`]=aa(t,d,n,s,o,u)),e}),[r,s,t,d,l,o,u,n]);Object(i.useLayoutEffect)((()=>{d.current=null!=a?a:null,t.current&&r&&(S(a)?function(e,t,n,a,r,s){const l=t.signal(`${e}_tuple`),o=t.data(a),i=new Set(n.elems),c=o.filter((e=>i.has(e[s]))).map((e=>e._vgsid_));if(ea(l?l.values:[],c))return;const u=l?Object.assign({},l,{values:c}):{unit:r,fields:t.signal(`${e}_tuple_fields`,c)};t.signal(`${e}_tuple`,u)}(l,t.current,a,o,c,u):null==a&&na(l,t.current))}),[t,a,l,r,o,c,u]);const y=Object(i.useMemo)((()=>Object.assign({},r?{[l]:{type:e,empty:"none"}}:{},s?{[`${l}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[e,l,r,s]);return{signalListeners:m,hoverName:s?`${l}_hover`:null,selectionName:r?l:null,selection:y}}function sa(e){var t,n;const{title:a,description:r,selectionColor:s,color:l,theme:o}=Wn(e),{vAttr:u,iAttr:d,elems:m,width:y,height:f,orientation:p="vertical",actions:h,toElemKey:g}=e,x="horizontal"===p?"y":"x",b="horizontal"===p?"x":"y",v=(null!==(t=e.vLabel)&&void 0!==t?t:"function"==typeof u)?"v":u.toString(),$=(null!==(n=e.iLabel)&&void 0!==n?n:"function"==typeof d)?"i":d.toString(),w=Object(i.useMemo)((()=>{const e="function"==typeof u?u:e=>e[u],t="function"==typeof d?d:e=>e[d];return{table:m.map((n=>({e:n,v:e(n),i:t(n),k:g?g(n):n})))}}),[m,u,d,g]),{viewRef:S,vegaProps:E}=Xn(g,e.queries,e.selection,!0),{signalListeners:k,selection:O,selectionName:C,hoverName:M}=ra("multi",S,g,e.selection,e.onClick,e.onHover),N=Object(i.useMemo)((()=>({title:a,description:r,data:{name:"table"},selection:O,mark:{type:"bar",stroke:null,cursor:M?"pointer":void 0,tooltip:!0},encoding:{fill:{condition:[M&&{selection:M,value:s},C&&{selection:C,value:s},Gn(s),...Zn(e.queries)].filter(Boolean),value:l},[x]:{field:"i",type:"nominal",title:$,axis:{labelAngle:0}},[b]:{field:"v",type:"quantitative",title:v}}})),[$,v,a,r,s,l,e.queries,O,C,M,x,b]);return c.a.createElement(Kn.a,Object.assign({spec:N,signalListeners:k,width:y,height:f,data:w,theme:"dark"===o?"dark":void 0,actions:h},E))}function la(e,t,n){return null!=e&&E(e)&&"composite"===e.type&&"interval"===e.subType&&e.xAttr===t&&e.yAttr===n}function oa(e){return`[${Math.round(100*e[0])/100},${Math.round(100*e[1])/100}]`}function ia(e,t,n,a,r){return{name:`Vega Brush (${e}: ${oa(a)}, ${t}: ${oa(r)}`,type:"composite",subType:"interval",cardinality:n.length,degree:0,elems:n,sets:new Set,x:a,y:r,xAttr:e,yAttr:t}}function ca(e,t){return e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1]}function ua(e,t,n,a,r,s,l,{selectionName:o="select",transformedData:c="data_0",xField:u="x",yField:d="y",elemField:m="e"}={}){const y=Object(i.useRef)(t),f=Object(i.useMemo)((()=>{if(!s&&!l)return;const t={};return s&&(t[o]=Dn()(((t,r)=>{if(!e.current)return;const l=r;if(null==l[u])return void s(null);if(y.current&&la(y.current,n,a)&&(o=y.current,i=l[u],c=l[d],ca(o.x,i)&&ca(o.y,c)))return;var o,i,c;const f=e.current.data("table").filter((e=>e[u]>=l[u][0]&&e[u]<=l[u][1]&&e[d]>=l[d][0]&&e[d]<=l[d][1])).map((e=>e[m])),p=ia(n,a,f,l[u],l[d]);s(p)}),200)),l&&(t[`${o}_hover`]=aa(e,y,r,l,c,m)),t}),[o,s,l,r,e,n,a,y,c,u,d,m]);Object(i.useLayoutEffect)((()=>{y.current=null!=t?t:null,e.current&&s&&(la(t,n,a)?function(e,t,n,a,r){const s=t.signal(`${e}_${a}`),l=t.signal(`${e}_${r}`);s&&Array.isArray(s)&&ca(s,n.x)||t.signal(`${e}_${a}`,n.x);const o=[n.y[1],n.y[0]];l&&Array.isArray(l)&&ca(l,o)||t.signal(`${e}_${r}`,o)}(o,e.current,t,u,d):t||function(e,t,n,a){const r=t.signal(`${e}_${n}`),s=t.signal(`${e}_${a}`);r&&t.signal(`${e}_${n}`,null),s&&t.signal(`${e}_${a}`,null)}(o,e.current,u,d))}),[o,e,t,n,a,s,u,d]);const p=Object(i.useMemo)((()=>Object.assign({},s?{[o]:{type:"interval",empty:"none"}}:{},l?{[`${o}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[o,s,l]);return{signalListeners:f,hoverName:l?`${o}_hover`:null,selectionName:s?o:null,selection:p}}function da(e,t){return null!=e&&E(e)&&"composite"===e.type&&"aggregate"===e.subType&&e.attr===t}function ma(e,t,n,a){return{name:null!=a?a:`Vega Group ${e}: ${n.join(", ")}`,type:"composite",subType:"aggregate",cardinality:t.length,degree:0,elems:t,sets:new Set,groups:n,attr:e}}function ya(e,t,n,a,r,{selectionName:s="select",aggregatedData:l="data_0",unitData:o="layer_0",aggregateField:c="v",valuesField:u="values",elemField:d="e",nameGen:m}={}){const y=Object(i.useRef)(t),f=Object(i.useMemo)((()=>{if(!a&&!r)return;const t={},o=t=>(a,r)=>{if(!e.current)return;const s=r;if(!s||!s._vgsid_||0===s._vgsid_.length)return void t(null);const o=new Set(s._vgsid_),i=e.current.data(l).filter((e=>o.has(e._vgsid_))),f=i.map((e=>e[c]));if(y.current&&da(y.current,n)&&ea(y.current.groups,f))return;const p=i.map((e=>e[u]||[])).flat().map((e=>e[d])),h=ma(n,p,f,m?m(i):void 0);t(h)};return a&&(t[s]=o(a)),r&&(t[`${s}_hover`]=o(r)),t}),[a,r,e,n,y,s,l,d,c,u,m]);Object(i.useLayoutEffect)((()=>{y.current=null!=t?t:null,e.current&&a&&(da(t,n)?function(e,t,n,a,r,s){const l=t.signal(`${e}_tuple`),o=t.data(a).filter((e=>n.groups.includes(e[s]))).map((e=>e._vgsid_));if(ea(l&&l.values?l.values:[],o))return;const i=l?Object.assign({},l,{values:o}):{unit:r,fields:t.signal(`${e}_tuple_fields`),values:o};t.signal(`${e}_tuple`,i)}(s,e.current,t,l,o,c):null==t&&na(s,e.current))}),[e,t,n,s,a,l,o,c]);const p=Object(i.useMemo)((()=>Object.assign({},a?{[s]:{type:"single",empty:"none"}}:{},r?{[`${s}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[s,a,r]);return{signalListeners:f,hoverName:r?`${s}_hover`:null,selectionName:a?s:null,selection:p}}function fa(e,t,n,a,r,{selectionName:s="select",aggregatedData:l="data_1",unitData:o="layer_0",valueField:c="v",valuesField:u="values",elemField:d="e"}={}){const m=`bin_maxbins_10_${c}`,y=Object(i.useCallback)((e=>`Vega Bin ${n}: ${e.map((e=>`[${e[m]},${e[`${m}_end`]})`)).join(", ")}`),[m,n]);return ya(e,t,n,a,r,{selectionName:s,aggregatedData:l,unitData:o,valuesField:u,elemField:d,aggregateField:m,nameGen:y})}function pa(e){var t,n;const{title:a,description:r,selectionColor:s,color:l,theme:o}=Wn(e),{xAttr:u,yAttr:d,elems:m,width:y,height:f,actions:p,toElemKey:h}=e,g=(null!==(t=e.xLabel)&&void 0!==t?t:"function"==typeof u)?"x":u.toString(),x=(null!==(n=e.yLabel)&&void 0!==n?n:"function"==typeof d)?"y":d.toString(),b=Object(i.useMemo)((()=>{const e="function"==typeof u?u:e=>e[u],t="function"==typeof d?d:e=>e[d];return{table:m.map((n=>({e:n,x:e(n),y:t(n),k:h?h(n):n})))}}),[m,u,d,h]),{viewRef:v,vegaProps:$}=Xn(h,e.queries,e.selection),{signalListeners:w,selection:S,selectionName:E,hoverName:k}=ua(v,e.selection,g,x,h,e.onClick,e.onHover),O=Object(i.useMemo)((()=>({title:a,description:r,data:{name:"table"},selection:S,mark:{type:"point",stroke:null,cursor:k?"pointer":void 0,tooltip:!0},encoding:{fill:{condition:[k?[{selection:k,value:s}]:[],E?[{selection:E,value:s}]:[],Gn(s),Zn(e.queries)].flat(),value:l},x:{field:"x",type:"quantitative",title:g},y:{field:"y",type:"quantitative",title:x}}})),[g,x,a,r,s,l,e.queries,S,E,k]);return c.a.createElement(Kn.a,Object.assign({spec:O,signalListeners:w,width:y,height:f,data:b,theme:"dark"===o?"dark":void 0,actions:p},$))}function ha(e,t){return{transform:[{aggregate:[{op:"values",as:"values"}],groupby:["bin_maxbins_10_v","bin_maxbins_10_v_end"]}],mark:{type:"bar",tooltip:!1},encoding:{color:{value:t},x:{bin:!0,field:"v",type:"quantitative"},y:{datum:{signal:e},type:"quantitative",title:null},y2:{type:"quantitative",datum:0,title:null}}}}function ga(e){var t;const{title:n,description:a,selectionColor:r,color:s,theme:l}=Wn(e),{attr:o,elems:u,width:d,height:m,actions:y,toElemKey:f}=e,p=(null!==(t=e.label)&&void 0!==t?t:"function"==typeof o)?"v":o.toString(),h=Object(i.useMemo)((()=>{const e="function"==typeof o?o:e=>e[o];return{table:u.map((t=>({e:t,i:1,v:e(t),k:f?f(t):t})))}}),[u,o,f]),{viewRef:g,vegaProps:x}=Xn(f,e.queries,e.selection,!0),{selection:b,signalListeners:v,selectionName:$,hoverName:w}=fa(g,e.selection,p,e.onClick,e.onHover),S=Object(i.useMemo)((()=>{var t;return{title:n,description:a,data:{name:"table"},layer:[{selection:b,mark:{type:"bar",cursor:$||w?"pointer":void 0,tooltip:!0},encoding:{color:{condition:[w?[{selection:w,value:r}]:[],$?[{selection:$,value:r}]:[]].flat(),value:s},x:{bin:!0,field:"v",type:"quantitative",title:p},y:{aggregate:"sum",field:"i",type:"quantitative",title:"Count"}}},ha(Jn(),r),...(null!==(t=e.queries)&&void 0!==t?t:[]).map(((e,t)=>t>0||null!=w||null!=$?function(e,t){return{transform:[{aggregate:[{op:"values",as:"values"}],groupby:["bin_maxbins_10_v","bin_maxbins_10_v_end"]}],mark:{type:"point",shape:"triangle-right",tooltip:!1},encoding:{color:{value:t},x:{bin:!0,band:0,field:"v",type:"quantitative"},y:{datum:{signal:e},type:"quantitative"}}}}(Yn(t),e.color):ha(Yn(t),e.color)))],resolve:{scale:{y:"shared"}}}}),[p,n,a,r,s,e.queries,b,$,w]);return c.a.createElement(Kn.a,Object.assign({spec:S,width:d,height:m,data:h,signalListeners:v,theme:"dark"===l?"dark":void 0,actions:y},x))}function xa(e,t,n,a,r){return{mark:{type:"arc",tooltip:!1,innerRadius:r},encoding:Object.assign({theta:{field:"i_sum_start",type:"quantitative",title:null},theta2:{datum:{signal:`datum.i_sum_start + ${e}`},type:"quantitative",title:null}},n?{stroke:{value:t},color:{value:t},fillOpacity:{value:.3}}:{color:{value:t},stroke:{field:"v",type:"nominal",title:null,legend:null,scale:{scheme:"dark"===a?"dark2":"set2"}}})}}function ba(e){var t;const{title:n,description:a,selectionColor:r,theme:s}=Wn(e),{attr:l,elems:o,width:u,height:d,innerRadius:m,actions:y,toElemKey:f}=e,p=(null!==(t=e.label)&&void 0!==t?t:"function"==typeof l)?"v":l.toString(),h=Object(i.useMemo)((()=>{const e="function"==typeof l?l:e=>e[l];return{table:o.map((t=>({e:t,i:1,v:e(t),k:f?f(t):t})))}}),[o,l,f]),{viewRef:g,vegaProps:x}=Xn(f,e.queries,e.selection,!0),{selection:b,signalListeners:v,selectionName:$,hoverName:w}=ya(g,e.selection,p,e.onClick,e.onHover),S=Object(i.useMemo)((()=>{var t;return{title:n,description:a,data:{name:"table"},transform:[{aggregate:[{op:"values",as:"values"},{op:"sum",field:"i",as:"i_sum"}],groupby:["v"]},{stack:"i_sum",as:["i_sum_start","i_sum_end"],sort:[{field:"v",order:"ascending"}],groupby:[]}],layer:[{selection:b,mark:{type:"arc",cursor:$||w?"pointer":void 0,tooltip:!0,innerRadius:m},encoding:{color:{condition:[w?[{selection:w,value:r}]:[],$?[{selection:$,value:r}]:[]].flat(),field:"v",type:"nominal",title:p,scale:{scheme:"dark"===s?"dark2":"set2"}},theta:{field:"i_sum",type:"quantitative",title:"Count"}}},xa(Jn(),r,!1,s,m),...(null!==(t=e.queries)&&void 0!==t?t:[]).map(((e,t)=>xa(Yn(t),e.color,t>0||null!=w||null!=$,s,m)))],resolve:{scale:{theta:"shared"}}}}),[p,n,a,r,e.queries,b,$,w,m,s]);return c.a.createElement(Kn.a,Object.assign({spec:S,width:u,height:d,data:h,signalListeners:v,theme:"dark"===s?"dark":void 0,actions:y},x))}Object(Hn.expressionFunction)("inSetStore",(function(e,t){return"function"==typeof e&&e(t)})),Object(Hn.expressionFunction)("countInSetStore",(function(e,t,n){return"function"==typeof e&&Array.isArray(t)?t.reduce(((t,a)=>t+(e(a[n])?1:0)),0):0}));var va=n(192);const $a={hinges:va.d,fivenum:va.b,type7:va.i,quantiles:va.i,linear:va.e,lower:va.f,higher:va.c,nearest:va.h,midpoint:va.g};function wa(e,t={}){const n=Object.assign({},t,{quantiles:"function"==typeof t.quantiles||null==t.quantiles?t.quantiles:$a[t.quantiles]});return null==n.quantiles&&delete n.quantiles,Object(va.a)(e,n)}function Sa(e){const t=e[1]-e[0];return n=>n*t+e[0]}function Ea(e){const t=e[1]-e[0];return n=>(n-e[0])/t}function ka(e,t){const n=new Map(e.map((e=>[e.value,0])));return t.forEach((e=>{if(null==e)return;const t=e.toString();n.has(t)&&n.set(t,n.get(t)+1)})),n}function Oa(e,t,n,a=!1){const r=function(e){const t=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],n=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],a=e?t.concat(n):n.concat(t);let r=0;return()=>a[r++%a.length]}(a),s=t.map((e=>{return Object.assign({count:0,acc:0,percentage:0},{value:t="string"==typeof e?e:e.value,label:t.length>0?`${t[0].toUpperCase()}${t.slice(1)}`:t,color:r()},"string"==typeof e?{}:e);var t})),l=ka(s,e),o=n?ka(s,n):null,i=Array.from(l.values()).reduce(((e,t)=>e+t),0);let c=0;return s.forEach((e=>{e.acc=c,e.count=l.get(e.value),e.percentage=e.count/i,c+=o?o.get(e.value):e.count})),s}function Ca(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}function Ma(e){return Math.round(100*e)/100}function Na(e,t,n="horizontal"){const a=Ea(e),r=Sa(e),s=Sa(t),l=e=>s(a(e)),o="horizontal"===n?5:7;return l.ticks=(e=o)=>Array(e).fill(0).map(((t,n)=>{const a=r(n/(e-1));return{value:a,label:a.toFixed(2)}})),l.tickFormat=()=>e=>e.toFixed(2),l}const Aa=e=>e.toFixed(2);function La(e,t){return`Min: ${t(e.min)}, 25% Quantile: ${t(e.q1)}, Median: ${t(e.median)}, 75% Quantile: ${t(e.q3)}, Max: ${t(e.max)}`}const ja=e=>{const{theme:t="light",mode:n="normal",boxStyle:a,lineStyle:r,outlierStyle:s,margin:l=0,boxPadding:o=.1,outlierRadius:i=3,numberFormat:u=Aa}=e,d=Ca(e,["theme","mode","boxStyle","lineStyle","outlierStyle","margin","boxPadding","outlierRadius","numberFormat"]),m=Array.isArray(e.values)?wa(e.values,d):e.values;if(Number.isNaN(m.median))return c.a.createElement("g",null);const y="vertical"!==e.orient,f=Ea([e.min,e.max]),p=Sa([0,y?e.width:e.height]),h=e=>Ma(p(f(e))),g={max:h(m.max),avg:h(m.mean),med:h(m.median),min:h(m.min),q1:h(m.q1),q3:h(m.q3),wh:h(m.whiskerHigh),wl:h(m.whiskerLow)},x=!1!==e.tooltips&&c.a.createElement("title",null,La(m,u)),b=rt(t).notMemberColor,v={box:Object.assign({fill:b},a),line:Object.assign({fill:"none",stroke:"light"===t?"black":"#cccccc"},r),outlier:Object.assign({fill:b},s)};if(y){const t=e.height/2,a=Ma(e.height*o)+l,r=e.height-a,s=`M${g.wl},${l} l0,${e.height-2*l} M${g.wl},${t} L${g.q1},${t}`,d=`M${g.q3},${t} L${g.wh},${t} M${g.wh},${l} L${g.wh},${e.height-l}`,y=`M${g.q1},${a} L${g.q3},${a} L${g.q3},${r} L${g.q1},${r} L${g.q1},${a} M${g.med},${a} l0,${r-a}`,f=c.a.createElement("path",{d:`${s} ${d} ${y}`,style:v.line});return"indicator"===n?f:c.a.createElement("g",null,x,"normal"===n&&c.a.createElement("rect",{x:g.q1,y:a,width:g.q3-g.q1,height:e.height-2*a,style:v.box}),f,m.outlier.map((e=>c.a.createElement("circle",{key:e,r:i,cy:t,cx:h(e),style:v.outlier},c.a.createElement("title",null,"$",u(e))))))}{const t=e.width/2,a=Ma(e.width*o)+l,r=e.width-a,s=`M${l},${g.wl} l${e.width-2*l},0 M${t},${g.wl} L${t},${g.q1}`,d=`M${t},${g.q3} L${t},${g.wh} M${l},${g.wh} L${e.width-l},${g.wh}`,y=`M${a},${g.q1} L${a},${g.q3} l${r-a},0 L${r},${g.q1} L${a},${g.q1} M${a},${g.med} l${r-a},0`,f=c.a.createElement("path",{d:`${s} ${d} ${y}`,style:v.line});return"indicator"===n?f:c.a.createElement("g",null,x,"normal"===n&&c.a.createElement("rect",{y:g.q1,x:a,height:g.q3-g.q1,width:e.width-2*a,style:v.box}),f,m.outlier.map((e=>c.a.createElement("circle",{key:e,r:i,cx:t,cy:h(e),style:v.outlier},c.a.createElement("title",null,"$",u(e))))))}},qa=c.a.memo(ja);function za(e,t,n={}){var{size:a=100,position:r,name:s=e.toString()}=n,l=Ca(n,["size","position","name"]);const o="function"==typeof e?e:t=>t[e];let i=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(Array.isArray(t))t.forEach((e=>{const t=o(e);null==t||Number.isNaN(t)||(t<i&&(i=t),t>u&&(u=t))}));else{const e=t;i=e.min,u=e.max}const d=Na([i,u],[0,a],l.orient);return{name:s,position:r,size:a,scale:d,createOnHandlerData:e=>{const t=wa(e.elems.map(o),l);return{id:"boxplot",name:s,value:Object.assign(Object.assign(Object.assign({},t),{toString(){var e;return La(this,null!==(e=l.numberFormat)&&void 0!==e?e:Aa)}}),t)}},render:({width:e,height:t,set:n,theme:a})=>{const r=n.elems.map(o);return c.a.createElement(qa,Object.assign({values:r,width:e,height:t,min:i,max:u,theme:a},l))},renderSelection:({width:e,height:t,overlap:n,selectionColor:a,theme:r})=>{if(null==n||0===n.length)return null;const s=n.map(o);return c.a.createElement(qa,Object.assign({values:s,width:e,height:t,min:i,max:u,mode:"box",lineStyle:{stroke:a,strokeWidth:2},outlierStyle:{fill:a},theme:r},l))},renderQuery:({width:e,height:t,overlap:n,query:a,secondary:r,index:s,theme:d})=>{if(null==n||0===n.length)return null;const m=n.map(o);return c.a.createElement(qa,Object.assign({values:m,width:e,height:t,min:i,max:u,mode:r?"indicator":"box",margin:r?s+2:0,lineStyle:{stroke:a.color,strokeWidth:r?1:2},outlierStyle:{fill:a.color},theme:d},l))}}}function _a(e,t,n={}){var{size:a=100,position:r,name:s="BoxPlot"}=n,l=Ca(n,["size","position","name"]);const o=t.min,i=t.max,u=Na([o,i],[0,a],l.orient);return{name:s,position:r,size:a,scale:u,createOnHandlerData:t=>{const n=e(t.elems);return n.toString=function(){var e;return La(this,null!==(e=l.numberFormat)&&void 0!==e?e:Aa)},{id:"boxplot",name:s,value:n}},render:({width:t,height:n,set:a,theme:r})=>{const s=e(a.elems);return c.a.createElement(qa,Object.assign({values:s,width:t,height:n,min:o,max:i,theme:r},l))},renderSelection:({width:t,height:n,overlap:a,selectionColor:r,theme:s})=>{if(null==a||0===a.length)return null;const u=e(a);return c.a.createElement(qa,Object.assign({values:u,width:t,height:n,min:o,max:i,mode:"box",lineStyle:{stroke:r,strokeWidth:2},outlierStyle:{fill:r},theme:s},l))},renderQuery:({width:t,height:n,overlap:a,query:r,secondary:s,index:u,theme:d})=>{if(null==a||0===a.length)return null;const m=e(a);return c.a.createElement(qa,Object.assign({values:m,width:t,height:n,min:o,max:i,mode:s?"indicator":"box",margin:s?u+2:0,lineStyle:{stroke:r.color,strokeWidth:s?1:2},outlierStyle:{fill:r.color},theme:d},l))}}}function Ia(e){return Array.isArray(e.bins)}function Ta(e){return e.map((e=>`${e.label}: ${e.count}`)).join(", ")}const Ba=e=>{var t,n;const{margin:a=0,rectStyle:r={}}=e,s=Ia(e)?e.bins:Oa(e.values,e.categories,e.base,"dark"===e.theme),l=Ea([0,Ia(e)?e.bins.reduce(((e,t)=>e+t.count),0):null!==(n=null===(t=e.base)||void 0===t?void 0:t.length)&&void 0!==n?n:e.values.length]),o="vertical"!==e.orient,i=Sa([0,o?e.width:e.height]),u=e=>i(l(e));return o?c.a.createElement("g",null,s.map((t=>c.a.createElement("rect",{key:t.value,x:u(t.acc),width:u(t.count),y:a,height:e.height-2*a,style:Object.assign({fill:t.color},r)},!1!==e.tooltips&&c.a.createElement("title",null,`${t.label}: ${t.count}`))))):c.a.createElement("g",null,s.map((t=>c.a.createElement("rect",{key:t.value,y:u(t.acc),height:u(t.count),x:a,width:e.width-2*a,style:Object.assign({fill:t.color},r)},!1!==e.tooltips&&c.a.createElement("title",null,`${t.label}: ${t.count}`)))))},Fa=c.a.memo(Ba),Pa="rgba(255,255,255,0.2)",Ka="rgba(0,0,0,0.1)";function Ha(e,t,n={}){var{size:a=100,position:r,name:s=e.toString()}=n,l=Ca(n,["size","position","name"]);const o="function"==typeof e?e:t=>t[e];let i=[];if(Array.isArray(t)){const e=new Set;t.forEach((t=>{const n=o(t);null!=n&&e.add(n.toString())})),i=Array.from(e).sort()}else i=t.categories;return{name:s,position:r,size:a,createOnHandlerData:e=>{const t=Oa(e.elems.map(o),i,void 0,"dark"===l.theme);return t.toString=function(){return Ta(this)},{id:"categorical",name:s,value:t}},render:({width:e,height:t,set:n,theme:a})=>{const r=n.elems.map(o);return c.a.createElement(Fa,Object.assign({values:r,categories:i,width:e,height:t,theme:a},l))},renderSelection:({width:e,height:t,set:n,theme:a,overlap:r,selectionColor:s})=>{if(null==r||0===r.length)return null;const u=n.elems.map(o),d=r.map(o);return c.a.createElement(Fa,Object.assign({values:d,base:u,categories:i,width:e,height:t,theme:a,rectStyle:{stroke:s,strokeWidth:2,fill:"light"===a?Ka:Pa}},l))},renderQuery:({width:e,height:t,overlap:n,set:a,query:r,secondary:s,index:u,theme:d})=>{if(null==n||0===n.length)return null;const m=a.elems.map(o),y=n.map(o);return c.a.createElement(Fa,Object.assign({values:y,base:m,categories:i,width:e,height:t,margin:s?u+2:0,rectStyle:{stroke:r.color,fill:"light"===d?Ka:Pa},theme:d},l))}}}function Ra(e,t={}){var{size:n=100,position:a,name:r="Histogram"}=t,s=Ca(t,["size","position","name"]);return{name:r,position:a,size:n,createOnHandlerData:t=>{const n=e(t.elems);return{id:"categorical",name:r,value:Object.assign(Object.assign(Object.assign({},n),{toString(){return Ta(this)}}),n)}},render:({width:t,height:n,set:a,theme:r})=>{const l=e(a.elems);return c.a.createElement(Fa,Object.assign({bins:l,width:t,height:n,theme:r},s))},renderSelection:({width:t,height:n,theme:a,overlap:r,selectionColor:l})=>{if(null==r||0===r.length)return null;const o=e(r);return c.a.createElement(Fa,Object.assign({bins:o,width:t,height:n,theme:a,rectStyle:{stroke:l,strokeWidth:2,fill:"light"===a?Ka:Pa}},s))},renderQuery:({width:t,height:n,overlap:a,query:r,secondary:l,index:o,theme:i})=>{if(null==a||0===a.length)return null;const u=e(a);return c.a.createElement(Fa,Object.assign({bins:u,width:t,height:n,margin:l?o+2:0,rectStyle:{stroke:r.color,fill:"light"===i?Ka:Pa},theme:i},s))}}}const Da=[{name:"Alton Lannister",sets:["was killed","Lannister","male"]},{name:"Arya Stark",sets:["Stark","female"]},{name:"Benjen Stark",sets:["was killed","Stark","male"]},{name:"Bran Stark",sets:["royal","Stark","male"]},{name:"Brandon Stark",sets:["was killed","Stark"]},{name:"Catelyn Stark",sets:["was killed","Stark","female"]},{name:"Cersei Lannister",sets:["royal","was killed","Lannister","female"]},{name:"Eddard Stark",sets:["was killed","Stark","male"]},{name:"Jaime Lannister",sets:["was killed","Lannister","male"]},{name:"Jon Snow",sets:["royal","was killed","Stark","male"]},{name:"Kevan Lannister",sets:["was killed","Lannister","male"]},{name:"Lancel Lannister",sets:["was killed","Lannister","male"]},{name:"Lyanna Stark",sets:["was killed","Stark","female"]},{name:"Martyn Lannister",sets:["was killed","Lannister","male"]},{name:"Rickard Stark",sets:["was killed","Stark","male"]},{name:"Rickon Stark",sets:["was killed","Stark","male"]},{name:"Robb Stark",sets:["royal","was killed","Stark","male"]},{name:"Sansa Stark",sets:["royal","Stark","female"]},{name:"Tyrion Lannister",sets:["Lannister","male"]},{name:"Tywin Lannister",sets:["was killed","Lannister","male"]},{name:"Willem Lannister",sets:["was killed","Lannister","male"]}],Wa=ae(Da,{order:"cardinality"}),Ua=[{name:"Q1",color:"steelblue",elems:Da.filter((()=>Math.random()>.7))},{name:"Q2",color:"red",elems:Da.filter((()=>Math.random()>.8))}],Va=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],Qa={React:c.a,GameOfThronesDataSet:o,...c.a,...a,...l,...s,...r};delete Qa.default;t.a=Qa}}]);