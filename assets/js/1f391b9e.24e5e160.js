/*! For license information please see 1f391b9e.24e5e160.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{164:function(e){e.exports=JSON.parse('{"sets":[],"intersections":[],"bb":{"x":0,"y":0,"width":10,"height":10}}')},165:function(e){e.exports=JSON.parse('{"sets":[{"cx":0,"cy":0,"r":5,"text":{"x":3.5,"y":-4},"align":"start","verticalAlign":"bottom"}],"intersections":[{"sets":[0],"x1":0,"y1":5,"arcs":[{"mode":"i","ref":0,"x2":0,"y2":-5,"sweep":false,"large":false},{"mode":"i","ref":0,"x2":0,"y2":5,"sweep":false,"large":false}],"text":{"x":0,"y":0}}],"bb":{"x":-5,"y":-5,"width":10,"height":10}}')},166:function(e){e.exports=JSON.parse('{"sets":[{"cx":-4,"cy":0,"r":5,"text":{"x":-7.5,"y":4},"align":"end","verticalAlign":"top"},{"cx":4,"cy":0,"r":5,"text":{"x":7.5,"y":-4},"align":"start","verticalAlign":"bottom"}],"intersections":[{"sets":[0],"x1":0,"y1":-3,"arcs":[{"mode":"i","ref":0,"x2":0,"y2":3,"sweep":false,"large":true},{"mode":"o","ref":1,"x2":0,"y2":-3,"sweep":true,"large":false}],"text":{"x":-4,"y":0}},{"sets":[1],"x1":0,"y1":3,"arcs":[{"mode":"i","ref":1,"x2":0,"y2":-3,"sweep":false,"large":true},{"mode":"o","ref":0,"x2":0,"y2":3,"sweep":true,"large":false}],"text":{"x":4,"y":0}},{"sets":[0,1],"x1":0,"y1":3,"arcs":[{"mode":"i","ref":0,"x2":0,"y2":-3,"sweep":false,"large":false},{"mode":"i","ref":1,"x2":0,"y2":3,"sweep":false,"large":false}],"text":{"x":0,"y":0}}],"bb":{"x":-9,"y":-5,"width":18,"height":10}}')},167:function(e){e.exports=JSON.parse('{"sets":[{"cx":-3.464,"cy":-2,"r":5,"text":{"x":-7,"y":-6},"align":"end"},{"cx":3.464,"cy":-2,"r":5,"text":{"x":7,"y":-6},"align":"start"},{"cx":0,"cy":4,"r":5,"text":{"x":4,"y":7.5},"align":"start","verticalAlign":"top"}],"intersections":[{"sets":[0],"x1":-4.855,"y1":2.803,"arcs":[{"mode":"o","ref":2,"x2":-1.39,"y2":-0.803,"sweep":true,"large":false},{"mode":"o","ref":1,"x2":0,"y2":-5.606,"sweep":true,"large":false},{"mode":"i","ref":0,"x2":-4.855,"y2":2.803,"sweep":false,"large":true}],"text":{"x":-4.216,"y":-2.434}},{"sets":[1],"x1":0,"y1":-5.606,"arcs":[{"mode":"o","ref":0,"x2":1.39,"y2":-0.803,"sweep":true,"large":false},{"mode":"o","ref":2,"x2":4.855,"y2":2.803,"sweep":true,"large":false},{"mode":"i","ref":1,"x2":0,"y2":-5.606,"sweep":false,"large":true}],"text":{"x":4.216,"y":-2.434}},{"sets":[2],"x1":-4.855,"y1":2.803,"arcs":[{"mode":"o","ref":0,"x2":0,"y2":1.606,"sweep":false,"large":false},{"mode":"o","ref":1,"x2":4.855,"y2":2.803,"sweep":false,"large":false},{"mode":"i","ref":2,"x2":-4.855,"y2":2.803,"sweep":true,"large":true}],"text":{"x":0,"y":4.869}},{"sets":[0,1],"x1":0,"y1":-5.606,"arcs":[{"mode":"i","ref":1,"x2":-1.39,"y2":-0.803,"sweep":false,"large":false},{"mode":"o","ref":2,"x2":1.39,"y2":-0.803,"sweep":true,"large":false},{"mode":"i","ref":0,"x2":0,"y2":-5.606,"sweep":false,"large":false}],"text":{"x":0,"y":-2.404}},{"sets":[0,2],"x1":-4.855,"y1":2.803,"arcs":[{"mode":"i","ref":2,"x2":-1.39,"y2":-0.803,"sweep":true,"large":false},{"mode":"o","ref":1,"x2":0,"y2":1.606,"sweep":false,"large":false},{"mode":"i","ref":0,"x2":-4.855,"y2":2.803,"sweep":true,"large":false}],"text":{"x":-2.082,"y":1.202}},{"sets":[1,2],"x1":4.855,"y1":2.803,"arcs":[{"mode":"i","ref":2,"x2":1.39,"y2":-0.803,"sweep":false,"large":false},{"mode":"o","ref":0,"x2":0,"y2":1.606,"sweep":true,"large":false},{"mode":"i","ref":1,"x2":4.855,"y2":2.803,"sweep":false,"large":false}],"text":{"x":2.082,"y":1.202}},{"sets":[0,1,2],"x1":1.39,"y1":-0.803,"arcs":[{"mode":"i","ref":0,"x2":0,"y2":1.606,"sweep":true,"large":false},{"mode":"i","ref":1,"x2":-1.39,"y2":-0.803,"sweep":true,"large":false},{"mode":"i","ref":2,"x2":1.39,"y2":-0.803,"sweep":true,"large":false}],"text":{"x":0,"y":0}}],"bb":{"x":-8.464,"y":-7,"width":16.928,"height":16}}')},168:function(e){e.exports=JSON.parse('{"sets":[{"cx":0.439,"cy":-1.061,"rx":2.5,"ry":5,"rotation":45,"text":{"x":4.5,"y":-4.5},"align":"start","verticalAlign":"bottom"},{"cx":2.561,"cy":1.061,"rx":2.5,"ry":5,"rotation":45,"text":{"x":4,"y":3.75},"align":"start","verticalAlign":"top"},{"cx":-2.561,"cy":1.061,"rx":2.5,"ry":5,"rotation":-45,"text":{"x":-4,"y":3.7},"align":"end","verticalAlign":"top"},{"cx":-0.439,"cy":-1.061,"rx":2.5,"ry":5,"rotation":-45,"text":{"x":-4.5,"y":-4.5},"align":"end","verticalAlign":"bottom"}],"intersections":[{"sets":[0],"x1":0,"y1":-3.94,"arcs":[{"ref":0,"mode":"i","x2":4.328,"y2":-2.828,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":2.179,"y2":-1.858,"large":false},{"ref":3,"mode":"o","x2":0,"y2":-3.94,"large":false}],"text":{"x":2.914,"y":-3.536}},{"sets":[1],"x1":4.328,"y1":-2.828,"arcs":[{"ref":1,"mode":"i","x2":0,"y2":5.006,"sweep":true,"large":true},{"ref":2,"mode":"o","x2":1.328,"y2":2.828},{"ref":3,"mode":"o","x2":3.108,"y2":-0.328},{"ref":0,"mode":"o","x2":4.328,"y2":-2.828}],"text":{"x":5.036,"y":-1.414}},{"sets":[2],"x1":0,"y1":5.006,"arcs":[{"ref":2,"mode":"i","x2":-4.328,"y2":-2.828,"sweep":true,"large":true},{"ref":3,"mode":"o","x2":-3.108,"y2":-0.328},{"ref":0,"mode":"o","x2":-1.328,"y2":2.828},{"ref":1,"mode":"o","x2":0,"y2":5.006}],"text":{"x":-5.036,"y":-1.414}},{"sets":[3],"x1":-4.328,"y1":-2.828,"arcs":[{"ref":3,"mode":"i","x2":0,"y2":-3.94,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":-2.179,"y2":-1.858,"large":false},{"ref":2,"mode":"o","x2":-4.328,"y2":-2.828,"large":false}],"text":{"x":-2.914,"y":-3.536}},{"sets":[0,1],"x1":4.328,"y1":-2.828,"arcs":[{"ref":1,"mode":"i","x2":3.108,"y2":-0.328,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":2.179,"y2":-1.858,"sweep":false,"large":false},{"ref":0,"mode":"i","x2":4.328,"y2":-2.828,"sweep":true,"large":false}],"text":{"x":3.205,"y":-1.672}},{"sets":[0,2],"x1":-1.328,"y1":2.828,"arcs":[{"ref":0,"mode":"i","x2":-3.108,"y2":-0.328,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":-0.969,"y2":1.755,"large":false},{"ref":1,"mode":"o","x2":-1.328,"y2":2.828,"large":false}],"text":{"x":-2.212,"y":1.591}},{"sets":[0,3],"x1":0,"y1":-3.94,"arcs":[{"ref":3,"mode":"i","x2":2.179,"y2":-1.858,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":0,"y2":0.188,"sweep":false,"large":false},{"ref":2,"mode":"o","x2":-2.179,"y2":-1.858,"sweep":false,"large":false},{"ref":0,"mode":"i","x2":0,"y2":-3.94,"sweep":true}],"text":{"x":0,"y":-1.87}},{"sets":[1,2],"x1":1.328,"y1":2.828,"arcs":[{"ref":2,"mode":"i","x2":0,"y2":5.006,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":-1.328,"y2":2.828,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":0,"y2":2.346,"large":false},{"ref":3,"mode":"o","x2":1.328,"y2":2.828}],"text":{"x":0,"y":3.393}},{"sets":[1,3],"x1":3.108,"y1":-0.328,"arcs":[{"ref":3,"mode":"i","x2":1.328,"y2":2.828,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":0.969,"y2":1.755,"large":false},{"ref":1,"mode":"i","x2":3.108,"y2":-0.328,"large":false}],"text":{"x":2.212,"y":1.591}},{"sets":[2,3],"x1":-3.108,"y1":-0.328,"arcs":[{"ref":3,"mode":"i","x2":-4.328,"y2":-2.828,"sweep":true,"large":false},{"ref":2,"mode":"i","x2":-2.179,"y2":-1.858,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":-3.108,"y2":-0.328,"large":false}],"text":{"x":-3.205,"y":-1.672}},{"sets":[0,1,2],"x1":0,"y1":2.346,"arcs":[{"ref":0,"mode":"i","x2":-1.328,"y2":2.828,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":-0.969,"y2":1.755,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":0,"y2":2.346,"large":false}],"text":{"x":-0.766,"y":2.31}},{"sets":[0,1,3],"x1":2.179,"y1":-1.858,"arcs":[{"ref":3,"mode":"i","x2":3.108,"y2":-0.328,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":0.969,"y2":1.755,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":0,"y2":0.188,"sweep":false,"large":false},{"ref":1,"mode":"i","x2":2.179,"y2":-1.858,"sweep":true}],"text":{"x":1.558,"y":-0.056}},{"sets":[0,2,3],"x1":-0.969,"y1":1.755,"arcs":[{"ref":3,"mode":"i","x2":-3.108,"y2":-0.328,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":-2.179,"y2":-1.858,"sweep":true,"large":false},{"ref":2,"mode":"i","x2":0,"y2":0.188,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":-0.969,"y2":1.755}],"text":{"x":-1.558,"y":-0.056}},{"sets":[1,2,3],"x1":1.328,"y1":2.828,"arcs":[{"ref":3,"mode":"i","x2":0,"y2":2.346,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":0.969,"y2":1.755,"sweep":false,"large":false},{"ref":2,"mode":"i","x2":1.328,"y2":2.828,"sweep":true,"large":false}],"text":{"x":0.766,"y":2.31}},{"sets":[0,1,2,3],"x1":0,"y1":0.188,"arcs":[{"ref":2,"mode":"i","x2":0.969,"y2":1.755,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":0,"y2":2.346,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":-0.969,"y2":1.755,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":0,"y2":0.188,"sweep":true}],"text":{"x":0,"y":1.43}}],"bb":{"x":-6.5,"y":-5,"width":13,"height":10}}')},169:function(e){e.exports=JSON.parse('{"sets":[{"cx":0.5,"cy":-1,"rx":2.5,"ry":5,"rotation":0,"text":{"x":2.25,"y":-5},"align":"start","verticalAlign":"bottom"},{"cx":1.106,"cy":0.167,"rx":2.5,"ry":5,"rotation":72,"text":{"x":4.5,"y":1.5},"align":"start","verticalAlign":"top"},{"cx":0.183,"cy":1.103,"rx":2.5,"ry":5,"rotation":144,"text":{"x":4,"y":4},"align":"start","verticalAlign":"bottom"},{"cx":-0.992,"cy":0.515,"rx":2.5,"ry":5,"rotation":216,"text":{"x":-4.7,"y":2},"align":"end","verticalAlign":"bottom"},{"cx":-0.797,"cy":-0.785,"rx":2.5,"ry":5,"rotation":288,"text":{"x":-4,"y":-3.6},"align":"end","verticalAlign":"bottom"}],"intersections":[{"sets":[0],"x1":-1.653,"y1":-3.541,"arcs":[{"ref":0,"mode":"i","x2":2.857,"y2":-2.666,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":2.5,"y2":-2.648,"large":false},{"ref":3,"mode":"o","x2":-0.495,"y2":-3.303,"large":false},{"ref":4,"mode":"o","x2":-1.653,"y2":-3.541}],"text":{"x":0.5,"y":-5}},{"sets":[1],"x1":2.857,"y1":-2.666,"arcs":[{"ref":1,"mode":"i","x2":3.419,"y2":1.893,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":3.291,"y2":1.559,"large":false},{"ref":4,"mode":"o","x2":2.988,"y2":-1.492,"large":false},{"ref":0,"mode":"o","x2":2.857,"y2":-2.666}],"text":{"x":4.91,"y":-1.07}},{"sets":[2],"x1":3.419,"y1":1.893,"arcs":[{"ref":2,"mode":"i","x2":-0.744,"y2":3.837,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":-0.466,"y2":3.612,"large":false},{"ref":0,"mode":"o","x2":2.342,"y2":2.381,"large":false},{"ref":1,"mode":"o","x2":3.419,"y2":1.893}],"text":{"x":2.534,"y":4.339}},{"sets":[3],"x1":-0.744,"y1":3.837,"arcs":[{"ref":3,"mode":"i","x2":-3.879,"y2":0.478,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":-3.579,"y2":0.673,"large":false},{"ref":1,"mode":"o","x2":-1.54,"y2":2.963,"large":false},{"ref":2,"mode":"o","x2":-0.744,"y2":3.837}],"text":{"x":-3.343,"y":3.751}},{"sets":[4],"x1":-3.879,"y1":0.478,"arcs":[{"ref":4,"mode":"i","x2":-1.653,"y2":-3.541,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":-1.746,"y2":-3.196,"large":false},{"ref":2,"mode":"o","x2":-3.294,"y2":-0.549,"large":false},{"ref":3,"mode":"o","x2":-3.879,"y2":0.478}],"text":{"x":-4.601,"y":-2.021}},{"sets":[0,1],"x1":2.5,"y1":-2.648,"arcs":[{"ref":1,"mode":"i","x2":2.857,"y2":-2.666,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":2.988,"y2":-1.492,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":2.572,"y2":-1.839,"large":false},{"ref":3,"mode":"o","x2":2.5,"y2":-2.648}],"text":{"x":2.741,"y":-2.152}},{"sets":[0,2],"x1":2.342,"y1":2.381,"arcs":[{"ref":0,"mode":"i","x2":-0.466,"y2":3.612,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":0.257,"y2":2.922,"large":false},{"ref":1,"mode":"o","x2":2.342,"y2":2.381,"large":false}],"text":{"x":0.5,"y":3.5}},{"sets":[0,3],"x1":-0.495,"y1":-3.303,"arcs":[{"ref":3,"mode":"i","x2":2.5,"y2":-2.648,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":1.51,"y2":-2.515,"large":false},{"ref":4,"mode":"o","x2":-0.495,"y2":-3.303,"large":false}],"text":{"x":1.653,"y":-3.125}},{"sets":[0,4],"x1":-1.653,"y1":-3.541,"arcs":[{"ref":4,"mode":"i","x2":-0.495,"y2":-3.303,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":-0.954,"y2":-3.015,"large":false},{"ref":2,"mode":"o","x2":-1.746,"y2":-3.196,"large":false},{"ref":0,"mode":"i","x2":-1.653,"y2":-3.541}],"text":{"x":-1.199,"y":-3.272}},{"sets":[1,2],"x1":3.291,"y1":1.559,"arcs":[{"ref":2,"mode":"i","x2":3.419,"y2":1.893,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":2.342,"y2":2.381,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":2.544,"y2":1.878,"large":false},{"ref":4,"mode":"o","x2":3.291,"y2":1.559}],"text":{"x":2.894,"y":1.942}},{"sets":[1,3],"x1":-1.54,"y1":2.963,"arcs":[{"ref":1,"mode":"i","x2":-3.579,"y2":0.673,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":-2.7,"y2":1.147,"large":false},{"ref":2,"mode":"o","x2":-1.54,"y2":2.963,"large":false}],"text":{"x":-3.174,"y":1.557}},{"sets":[1,4],"x1":2.988,"y1":-1.492,"arcs":[{"ref":4,"mode":"i","x2":3.291,"y2":1.559,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":2.858,"y2":0.659,"large":false},{"ref":0,"mode":"o","x2":2.988,"y2":-1.492,"large":false}],"text":{"x":3.483,"y":0.606}},{"sets":[2,3],"x1":-0.466,"y1":3.612,"arcs":[{"ref":3,"mode":"i","x2":-0.744,"y2":3.837,"sweep":true,"large":false},{"ref":2,"mode":"i","x2":-1.54,"y2":2.963,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":-1,"y2":3,"large":false},{"ref":0,"mode":"o","x2":-0.466,"y2":3.612}],"text":{"x":-0.953,"y":3.352}},{"sets":[2,4],"x1":-3.294,"y1":-0.549,"arcs":[{"ref":2,"mode":"i","x2":-1.746,"y2":-3.196,"sweep":true},{"ref":0,"mode":"o","x2":-1.925,"y2":-2.213},{"ref":3,"mode":"o","x2":-3.294,"y2":-0.549}],"text":{"x":-2.462,"y":-2.538}},{"sets":[3,4],"x1":-3.579,"y1":0.673,"arcs":[{"ref":4,"mode":"i","x2":-3.879,"y2":0.478,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":-3.294,"y2":-0.549,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":-3.162,"y2":-0.024,"large":false},{"ref":1,"mode":"o","x2":-3.579,"y2":0.673}],"text":{"x":-3.483,"y":0.13}},{"sets":[0,1,2],"x1":2.544,"y1":1.878,"arcs":[{"ref":0,"mode":"i","x2":2.342,"y2":2.381,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":0.257,"y2":2.922,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":0.983,"y2":2.049,"large":false},{"ref":4,"mode":"o","x2":2.544,"y2":1.878}],"text":{"x":1.457,"y":2.331}},{"sets":[0,1,3],"x1":1.51,"y1":-2.515,"arcs":[{"ref":1,"mode":"i","x2":2.5,"y2":-2.648,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":2.572,"y2":-1.839,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":1.51,"y2":-2.515,"large":false}],"text":{"x":2.194,"y":-2.334}},{"sets":[0,1,4],"x1":2.572,"y1":-1.839,"arcs":[{"ref":4,"mode":"i","x2":2.988,"y2":-1.492,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":2.858,"y2":0.659,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":2.253,"y2":-0.302,"large":false},{"ref":3,"mode":"o","x2":2.572,"y2":-1.839}],"text":{"x":2.667,"y":-0.665}},{"sets":[0,2,3],"x1":0.257,"y1":2.922,"arcs":[{"ref":3,"mode":"i","x2":-0.466,"y2":3.612,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":-1,"y2":3,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":0.257,"y2":2.922,"large":false}],"text":{"x":-0.403,"y":3.178}},{"sets":[0,2,4],"x1":-1.746,"y1":-3.196,"arcs":[{"ref":2,"mode":"i","x2":-0.954,"y2":-3.015,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":-1.925,"y2":-2.213,"sweep":false,"large":false},{"ref":0,"mode":"i","x2":-1.746,"y2":-3.196,"sweep":true,"large":false}],"text":{"x":-1.542,"y":-2.808}},{"sets":[0,3,4],"x1":-0.495,"y1":-3.303,"arcs":[{"ref":4,"mode":"i","x2":1.51,"y2":-2.515,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":0.409,"y2":-2.236,"large":false},{"ref":2,"mode":"o","x2":-0.954,"y2":-3.015,"large":false},{"ref":3,"mode":"i","x2":-0.495,"y2":-3.303}],"text":{"x":0.192,"y":-2.742}},{"sets":[1,2,3],"x1":-1.54,"y1":2.963,"arcs":[{"ref":2,"mode":"i","x2":-2.7,"y2":1.147,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":-1.645,"y2":1.568,"large":false},{"ref":0,"mode":"o","x2":-1,"y2":3,"large":false},{"ref":1,"mode":"i","x2":-1.54,"y2":2.963}],"text":{"x":-1.767,"y":2.106}},{"sets":[1,2,4],"x1":2.858,"y1":0.659,"arcs":[{"ref":2,"mode":"i","x2":3.291,"y2":1.559,"sweep":true,"large":false},{"ref":4,"mode":"i","x2":2.544,"y2":1.878,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":2.858,"y2":0.659,"large":false}],"text":{"x":2.898,"y":1.365}},{"sets":[1,3,4],"x1":-2.7,"y1":1.147,"arcs":[{"ref":4,"mode":"i","x2":-3.579,"y2":0.673,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":-3.162,"y2":-0.024,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":-2.7,"y2":1.147,"large":false}],"text":{"x":-3.147,"y":0.599}},{"sets":[2,3,4],"x1":-3.294,"y1":-0.549,"arcs":[{"ref":3,"mode":"i","x2":-1.925,"y2":-2.213,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":-2,"y2":-1.08,"large":false},{"ref":1,"mode":"o","x2":-3.162,"y2":-0.024,"large":false},{"ref":2,"mode":"i","x2":-3.294,"y2":-0.549}],"text":{"x":-2.548,"y":-1.029}},{"sets":[0,1,2,3],"x1":0.983,"y1":2.049,"arcs":[{"ref":3,"mode":"i","x2":0.257,"y2":2.922,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":-1,"y2":3,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":-1.645,"y2":1.568,"sweep":true,"large":false},{"ref":4,"mode":"o","x2":0.983,"y2":2.049}],"text":{"x":-0.407,"y":2.31}},{"sets":[0,1,2,4],"x1":2.253,"y1":-0.302,"arcs":[{"ref":2,"mode":"i","x2":2.858,"y2":0.659,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":2.544,"y2":1.878,"sweep":true,"large":false},{"ref":4,"mode":"i","x2":0.983,"y2":2.049,"sweep":true,"large":false},{"ref":3,"mode":"o","x2":2.253,"y2":-0.302}],"text":{"x":2.071,"y":1.101}},{"sets":[0,1,3,4],"x1":1.51,"y1":-2.515,"arcs":[{"ref":4,"mode":"i","x2":2.572,"y2":-1.839,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":2.253,"y2":-0.302,"sweep":true,"large":false},{"ref":2,"mode":"o","x2":0.409,"y2":-2.236,"sweep":false,"large":false},{"ref":1,"mode":"i","x2":1.51,"y2":-2.515,"sweep":true}],"text":{"x":1.687,"y":-1.63}},{"sets":[0,2,3,4],"x1":-2,"y1":-1.08,"arcs":[{"ref":0,"mode":"i","x2":-1.925,"y2":-2.213,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":-0.954,"y2":-3.015,"sweep":true,"large":false},{"ref":2,"mode":"i","x2":0.409,"y2":-2.236,"sweep":true,"large":false},{"ref":1,"mode":"o","x2":-2,"y2":-1.08}],"text":{"x":-1.028,"y":-2.108}},{"sets":[1,2,3,4],"x1":-1.645,"y1":1.568,"arcs":[{"ref":4,"mode":"i","x2":-2.7,"y2":1.147,"sweep":true,"large":false},{"ref":2,"mode":"i","x2":-3.162,"y2":-0.024,"sweep":true,"large":false},{"ref":1,"mode":"i","x2":-2,"y2":-1.08,"sweep":true,"large":false},{"ref":0,"mode":"o","x2":-1.645,"y2":1.568}],"text":{"x":-2.323,"y":0.327}},{"sets":[0,1,2,3,4],"x1":0.409,"y1":-2.236,"arcs":[{"ref":2,"mode":"i","x2":2.253,"y2":-0.302,"sweep":true,"large":false},{"ref":3,"mode":"i","x2":0.983,"y2":2.049,"sweep":true,"large":false},{"ref":4,"mode":"i","x2":-1.645,"y2":1.568,"sweep":true,"large":false},{"ref":0,"mode":"i","x2":-2,"y2":-1.08,"sweep":true},{"ref":1,"mode":"i","x2":0.409,"y2":-2.236,"sweep":true}],"text":{"x":0,"y":0}}],"bb":{"x":-5.5,"y":-6,"width":11.6,"height":11.8}}')},178:function(e,t,n){"use strict";var r=n(0),a=n.n(r),s=n(118);var l=function(e,t,n){const[a,s]=Object(r.useState)(void 0);Object(r.useEffect)((()=>{function r(){const r=function(){const e=Array.from(document.getElementsByClassName("anchor")),t=e.find((e=>{const{top:t}=e.getBoundingClientRect();return t>=n}));if(t){if(t.getBoundingClientRect().top>=n){const n=e[e.indexOf(t)-1];return null!=n?n:t}return t}return e[e.length-1]}();if(r){let n=0,l=!1;const o=document.getElementsByClassName(e);for(;n<o.length&&!l;){const e=o[n],{href:i}=e,c=decodeURIComponent(i.substring(i.indexOf("#")+1));r.id===c&&(a&&a.classList.remove(t),e.classList.add(t),s(e),l=!0),n+=1}}}return document.addEventListener("scroll",r),document.addEventListener("resize",r),r(),()=>{document.removeEventListener("scroll",r),document.removeEventListener("resize",r)}}))},o=n(55),i=n.n(o);const c="table-of-contents__link";function u({toc:e,isChild:t}){return e.length?a.a.createElement("ul",{className:t?"":"table-of-contents table-of-contents__left-border"},e.map((e=>a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:`#${e.id}`,className:c,dangerouslySetInnerHTML:{__html:e.value}}),a.a.createElement(u,{isChild:!0,toc:e.children}))))):null}t.a=function({toc:e}){return l(c,"table-of-contents__link--active",100),a.a.createElement("div",{className:Object(s.a)(i.a.tableOfContents,"thin-scrollbar")},a.a.createElement(u,{toc:e}))}},207:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"asCombination",(function(){return _})),n.d(r,"asCombinations",(function(){return T})),n.d(r,"asSet",(function(){return V})),n.d(r,"asSets",(function(){return J})),n.d(r,"bandScale",(function(){return se})),n.d(r,"extractFromExpression",(function(){return re})),n.d(r,"extractSets",(function(){return ae})),n.d(r,"fromDump",(function(){return we})),n.d(r,"fromIndicesArray",(function(){return ve})),n.d(r,"fromSetName",(function(){return z})),n.d(r,"fromStaticDump",(function(){return Ae})),n.d(r,"generateCombinations",(function(){return U})),n.d(r,"isCalcQuery",(function(){return x})),n.d(r,"isElemQuery",(function(){return g})),n.d(r,"isGenerateSetCombinationOptions",(function(){return C})),n.d(r,"isSet",(function(){return S})),n.d(r,"isSetCombination",(function(){return E})),n.d(r,"isSetLike",(function(){return k})),n.d(r,"isSetQuery",(function(){return b})),n.d(r,"isUpSetQuery",(function(){return O})),n.d(r,"linearScale",(function(){return fe})),n.d(r,"logScale",(function(){return xe})),n.d(r,"mergeColors",(function(){return K})),n.d(r,"parseColor",(function(){return F})),n.d(r,"queryElemOverlap",(function(){return $})),n.d(r,"queryOverlap",(function(){return v})),n.d(r,"setElemIntersectionFactory",(function(){return h})),n.d(r,"setElemOverlap",(function(){return p})),n.d(r,"setElemOverlapFactory",(function(){return y})),n.d(r,"setOverlap",(function(){return f})),n.d(r,"setOverlapFactory",(function(){return m})),n.d(r,"toDump",(function(){return Se})),n.d(r,"toIndicesArray",(function(){return be})),n.d(r,"toKey",(function(){return G})),n.d(r,"toStaticDump",(function(){return Oe}));var a={};n.r(a),n.d(a,"BarChart",(function(){return Ot})),n.d(a,"Histogram",(function(){return Ft})),n.d(a,"PieChart",(function(){return Ht})),n.d(a,"Scatterplot",(function(){return Tt})),n.d(a,"createAggregatedGroupSetComposite",(function(){return zt})),n.d(a,"createIntervalSetComposite",(function(){return At})),n.d(a,"createSetComposite",(function(){return St})),n.d(a,"fillDefaults",(function(){return ft})),n.d(a,"isAggregatedGroupSetComposite",(function(){return qt})),n.d(a,"isIntervalSetComposite",(function(){return Mt})),n.d(a,"useVegaAggregatedGroupSelection",(function(){return It})),n.d(a,"useVegaBinSelection",(function(){return _t})),n.d(a,"useVegaIntervalSelection",(function(){return jt})),n.d(a,"useVegaMultiSelection",(function(){return Ct}));var s={};n.r(s),n.d(s,"widthRatios",(function(){return br})),n.d(s,"heightRatios",(function(){return vr})),n.d(s,"setLabelAlignment",(function(){return $r})),n.d(s,"sets",(function(){return wr})),n.d(s,"combinations",(function(){return Sr})),n.d(s,"selection",(function(){return Er})),n.d(s,"onHover",(function(){return kr})),n.d(s,"onClick",(function(){return Cr})),n.d(s,"onContextMenu",(function(){return Or})),n.d(s,"onMouseMove",(function(){return Mr})),n.d(s,"queries",(function(){return Nr})),n.d(s,"stringOrFalse",(function(){return Ar})),n.d(s,"theme",(function(){return Lr})),n.d(s,"classNames",(function(){return jr})),n.d(s,"fontSizes",(function(){return qr})),n.d(s,"numericScale",(function(){return zr})),n.d(s,"bandScale",(function(){return Ir})),n.d(s,"axisOffset",(function(){return _r})),n.d(s,"style",(function(){return Tr})),n.d(s,"styles",(function(){return Br})),n.d(s,"exportButtons",(function(){return Fr}));var l={};n.r(l),n.d(l,"UpSetJS",(function(){return Dn})),n.d(l,"default",(function(){return Dn})),n.d(l,"VennDiagram",(function(){return Yn})),n.d(l,"KarnaughMap",(function(){return ir})),n.d(l,"isEllipse",(function(){return Qe})),n.d(l,"downloadUrl",(function(){return Vt})),n.d(l,"exportSVG",(function(){return Ut})),n.d(l,"exportVegaLite",(function(){return Qt})),n.d(l,"getDefaultTheme",(function(){return et})),n.d(l,"fillDefaultsG",(function(){return nt})),n.d(l,"fillDefaults",(function(){return at})),n.d(l,"fillVennDiagramDefaultsG",(function(){return st})),n.d(l,"fillVennDiagramDefaults",(function(){return lt})),n.d(l,"fillKarnaughMapDefaultsG",(function(){return ot})),n.d(l,"fillKarnaughMapDefaults",(function(){return it})),n.d(l,"asCombination",(function(){return _})),n.d(l,"asCombinations",(function(){return T})),n.d(l,"asSet",(function(){return V})),n.d(l,"asSets",(function(){return J})),n.d(l,"bandScale",(function(){return se})),n.d(l,"extractFromExpression",(function(){return re})),n.d(l,"extractSets",(function(){return ae})),n.d(l,"fromDump",(function(){return we})),n.d(l,"fromIndicesArray",(function(){return ve})),n.d(l,"fromSetName",(function(){return z})),n.d(l,"fromStaticDump",(function(){return Ae})),n.d(l,"generateCombinations",(function(){return U})),n.d(l,"isCalcQuery",(function(){return x})),n.d(l,"isElemQuery",(function(){return g})),n.d(l,"isGenerateSetCombinationOptions",(function(){return C})),n.d(l,"isSet",(function(){return S})),n.d(l,"isSetCombination",(function(){return E})),n.d(l,"isSetLike",(function(){return k})),n.d(l,"isSetQuery",(function(){return b})),n.d(l,"isUpSetQuery",(function(){return O})),n.d(l,"linearScale",(function(){return fe})),n.d(l,"logScale",(function(){return xe})),n.d(l,"mergeColors",(function(){return K})),n.d(l,"parseColor",(function(){return F})),n.d(l,"queryElemOverlap",(function(){return $})),n.d(l,"queryOverlap",(function(){return v})),n.d(l,"setElemIntersectionFactory",(function(){return h})),n.d(l,"setElemOverlap",(function(){return p})),n.d(l,"setElemOverlapFactory",(function(){return y})),n.d(l,"setOverlap",(function(){return f})),n.d(l,"setOverlapFactory",(function(){return m})),n.d(l,"toDump",(function(){return Se})),n.d(l,"toIndicesArray",(function(){return be})),n.d(l,"toKey",(function(){return G})),n.d(l,"toStaticDump",(function(){return Oe})),n.d(l,"toUpSetJSDump",(function(){return Xt})),n.d(l,"toUpSetJSStaticDump",(function(){return en})),n.d(l,"UpSetJSSkeleton",(function(){return fr})),n.d(l,"VennDiagramSkeleton",(function(){return yr})),n.d(l,"KarnaughMapSkeleton",(function(){return pr})),n.d(l,"createVennJSAdapter",(function(){return xr})),n.d(l,"propValidators",(function(){return s}));var o={};n.r(o),n.d(o,"Boxplot",(function(){return Zr})),n.d(o,"Categorical",(function(){return aa})),n.d(o,"boxplotAddon",(function(){return ea})),n.d(o,"boxplotAggregatedAddon",(function(){return ta})),n.d(o,"categoricalAddon",(function(){return ia})),n.d(o,"categoricalAggregatedAddon",(function(){return ca})),n.d(o,"simpleScale",(function(){return Jr}));var i={};n.r(i),n.d(i,"elems",(function(){return ua})),n.d(i,"sets",(function(){return da})),n.d(i,"queries",(function(){return ma})),n.d(i,"colors",(function(){return fa}));var c=n(0),u=n.n(c);function d(e){return e instanceof Set?e.size:e.length}function m(e,t){const n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=n.size,a={setA:r,setB:r,union:r,intersection:r};return s=>{if(s===e)return a;let l=0;s.forEach((e=>{(t&&n.has(t(e))||!t&&n.has(e))&&l++}));const o=d(s);return{setA:r,setB:o,intersection:l,union:r+o-l}}}function f(e,t,n){if(d(e)<d(t)||e instanceof Set)return m(e,n)(t);const r=m(t,n)(e);return Object.assign({},r,{setA:r.setB,setB:r.setA})}function y(e,t){const n=t?new Set((e instanceof Set?Array.from(e):e).map(t)):e instanceof Set?e:new Set(e),r=Array.isArray(e)?e:Array.from(e),a={setA:r,setB:r,union:r,intersection:r};return s=>{if(s===e)return a;const l=[],o=r.slice();return s.forEach((e=>{t&&n.has(t(e))||!t&&n.has(e)?l.push(e):o.push(e)})),{setA:r,setB:Array.isArray(s)?s:Array.from(s),intersection:l,union:o}}}function p(e,t,n){if(d(e)<d(t)||e instanceof Set)return y(e,n)(t);const r=y(t,n)(e);return Object.assign({},r,{setA:r.setB,setB:r.setA})}function h(e,t){const n=e instanceof Set?Array.from(e):e,r=t?new Set(n.map(t)):e instanceof Set?e:new Set(e);return a=>{if(a===e)return n;const s=[];return a.forEach((e=>{(t&&r.has(t(e))||!t&&r.has(e))&&s.push(e)})),s}}function g(e){return Array.isArray(e.elems)}function x(e){return"function"==typeof e.overlap}function b(e){return null!=e.set}function v(e,t,n){if(x(e))return e.overlap;if(b(e)&&e.set.overlap)return e.set.overlap;const r=m(g(e)?e.elems:e.set.elems,n);return n=>n.overlap&&g(e)&&Array.isArray(e.elems)?n.overlap(e.elems):n.overlap&&b(e)?n.overlap(e.set):r(n.elems)[t]}function $(e,t,n){if(x(e))return()=>null;if("intersection"===t){const t=h(g(e)?e.elems:e.set.elems,n);return e=>t(e.elems)}const r=y(g(e)?e.elems:e.set.elems,n);return e=>r(e.elems)[t]}function w(e){return null!=e&&"number"==typeof e.cardinality&&"string"==typeof e.name&&Array.isArray(e.elems)}function S(e){return w(e)&&"set"===e.type}function E(e){const t=e;return w(e)&&["composite","union","intersection","distinctIntersection"].includes(t.type)&&t.sets instanceof Set&&"number"==typeof t.degree}function k(e){return S(e)||E(e)}function C(e){const t=e;return null!=e&&(null==t.type||["intersection","union"].includes(t.type))}function O(e){const t=e;return null!=e&&"string"==typeof t.name&&"string"==typeof t.color&&(g(t)||b(t)||x(t))}function M(e,t){return e.name.localeCompare(t.name)}function N(e,t){return t.cardinality-e.cardinality}function A(e,t){return e.degree-t.degree}function L(e){return(t,n)=>e.reduce(((e,r)=>0===e?r(t,n):e),0)}function j(e){return(t,n)=>-e(t,n)}function q(e){return(t,n)=>{const r=e=>e<0?Number.POSITIVE_INFINITY:e;return r(e.findIndex((e=>t.sets.has(e))))-r(e.findIndex((e=>n.sets.has(e))))}}function z(e,t=/[\u2229\u222a&|]/){const n=new Map(e.map((e=>[e.name,e])));return e=>e.name.split(t).map((e=>n.get(e.trim())))}function I(e,t,n={}){let r=t;return n.order&&(r=r.sort(function(e,t){if(!t)return M;const n=Array.isArray(t)?t:[t];return 0===n.length?M:L(n.map((t=>{switch(t){case"cardinality":case"cardinality:desc":return N;case"cardinality:asc":return j(N);case"name:desc":return j(M);case"degree":case"degree:asc":return A;case"degree:desc":return j(A);case"group":case"group:asc":return q(e);case"group:desc":return j(q(e));default:return M}})))}(e,n.order))),null!=n.limit?r.slice(0,n.limit):r}function _(e,t,n){const r=n(e);return Object.assign({type:t,cardinality:e.elems.length,sets:new Set(r),degree:r.length},e)}function T(e,t,n){return e.map((e=>_(e,t,n)))}const B={distinctIntersection:" \u2229 ",intersection:" \u2229 ",union:" \u222a ",composite:","};function F(e){if(!e)return[255,255,255];const t=e.match(/#([\da-f]{2})([\da-f]{2})([\da-f]{2})/i);if(t)return[Number.parseInt(t[1],16),Number.parseInt(t[2],16),Number.parseInt(t[3],16)];const n=e.match(/\(([\d]+)[, ]([\d]+)[, ]([\d]+)\)/i);return n?[Number.parseInt(n[1],10),Number.parseInt(n[2],10),Number.parseInt(n[3],10)]:[255,255,255]}function K(e){if(1===e.length)return e[0];if(e.every((e=>null==e)))return;const t=e.map(F),n=Math.floor(t.reduce(((e,t)=>e+t[0]),0)/t.length),r=Math.floor(t.reduce(((e,t)=>e+t[1]),0)/t.length),a=Math.floor(t.reduce(((e,t)=>e+t[2]),0)/t.length);return`#${n.toString(16)}${r.toString(16)}${a.toString(16)}`}function H(e,t,n){const r=Array.from(e).sort(((e,n)=>t.get(e)-t.get(n)));return 1===r.length?r[0].name:`(${r.map((e=>e.name)).join(n)})`}function P(e,t,n,r,a){return{type:0===n.size?"composite":e,elems:r,color:a(Array.from(n).map((e=>e.color))),sets:n,name:t,cardinality:r.length,degree:n.size}}function R(e,t,n,r,a,s,l){const o=new Set(e.sets);t.sets.forEach((e=>o.add(e)));const i=H(o,a,B[s]);if(0===e.cardinality||0===t.cardinality)return P(s,i,o,[],l);let c=e,u=t;e.cardinality>t.cardinality&&(c=t,u=e);const d=new Set,m=n.get(u),f=[],y=c.elems.length;for(let h=0;h<y;h++){const e=c.elems[h],t=r(e);m.has(t)&&(d.add(t),f.push(e))}const p=P(s,i,o,f,l);return n.set(p,d),p}function D(e,t,n,r,a,s,l){const o=new Set(e.sets);t.sets.forEach((e=>o.add(e)));const i=H(o,a,B[s]);if(0===e.cardinality){const e=P(s,i,o,t.elems,l);return n.set(e,n.get(t)),e}if(0===t.cardinality){const t=P(s,i,o,e.elems,l);return n.set(t,n.get(e)),t}let c=e,u=t;e.cardinality>t.cardinality&&(c=t,u=e);const d=new Set(n.get(u)),m=n.get(u),f=u.elems.slice();c.elems.forEach((e=>{const t=r(e);m.has(t)||(d.add(t),f.push(e))}));const y=P(s,i,o,f,l);return n.set(y,d),y}function W(e,t,n,r,a,s){if("number"==typeof t)return{type:"composite",elems:[],color:s?s([]):void 0,sets:new Set,name:"()",cardinality:t,overlap(e){return e===this||k(e)&&e.name===this.name&&e.cardinality===this.cardinality?this.cardinality:0},degree:0};if(Array.isArray(t))return P(e,"()",new Set,t,s);const l=Array.from(r.values()),o=n.filter((e=>{const t=a(e);return l.every((e=>!e.has(t)))}));return P(e,"()",new Set,o,s)}function U(e,t={}){const{type:n="intersection",min:r=0,max:a=1/0,empty:s=!1,elems:l=[],notPartOfAnySet:o,toElemKey:i,mergeColors:c=K}=t,u=[],d=new Map(e.map(((e,t)=>[e,t]))),m=new Map(e.map((e=>[e,i?new Set(e.elems.map(i)):new Set(e.elems)]))),f=i?null:m,y=i?m:null,p="union"===n?D:R;function h(t){if(t.degree<r||t.degree>a||0===t.cardinality&&!s)return;if("distinctIntersection"!==n)return void u.push(t);const l=e.filter((e=>!t.sets.has(e))),o=i?t.elems.filter((e=>{const t=i(e);return l.every((e=>!y.get(e).has(t)))})):t.elems.filter((e=>l.every((t=>!f.get(t).has(e)))));if(o.length===t.cardinality)return void u.push(t);const d=P(n,t.name,t.sets,o,c);(0!==d.cardinality||s)&&u.push(d)}function g(e,t,r,l){if(t>a)return;const o=e.length;for(let a=0;a<o;a++){const i=e[a],u=[];for(let t=a+1;t<o;t++){const a=e[t],o=p(i,a,r,l,d,n,c);h(o),("union"===n||o.cardinality>0||s)&&u.push(o)}u.length>1&&g(u,t+1,r,l)}}r<=0&&h(i?W(n,o,l,y,i,c):W(n,o,l,f,(e=>e),c));const x=e.map((e=>{const t=P(n,e.name,new Set([e]),e.elems,c);return m.set(t,m.get(e)),h(t),t}));return i?g(x,2,y,i):g(x,2,f,(e=>e)),I(e,u,t)}function V(e){return Object.assign({type:"set",cardinality:e.elems.length},e)}function Q(e,t={}){let n=e;if(t.order){const e=function(e){if(!e)return M;switch(e){case"cardinality":case"cardinality:desc":return L([N,M]);case"cardinality:asc":return L([j(N),M]);case"name:desc":return j(M);default:return M}}(t.order);n=n.slice().sort(e)}return null!=t.limit?n.slice(0,t.limit):n}function J(e,t={}){return Q(e.map(V),t)}function G(e){return`${e.name}:${e.type}#${e.cardinality}`}function Y(e){return 0===e.sets.size}function Z(e,t,n=G){const r={done:null,aKey:"",bKey:"",aIsSet:!1,bIsSet:!1,toKey:n};return e===t?(r.done=e.cardinality,r):0===e.cardinality||0===t.cardinality?(r.done=0,r):(r.aKey=n(e),r.bKey=n(t),r.aKey===r.bKey?(r.done=e.cardinality,r):(r.aIsSet=S(e),r.bIsSet=S(t),!r.aIsSet&&Y(e)||!r.bIsSet&&Y(t)?(r.done=0,r):r))}function X(e,t){return!(t.bIsSet||!t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.aKey)}function ee(e,t){return!(!t.bIsSet||t.aIsSet)&&Array.from(e.sets).map(t.toKey).includes(t.bKey)}function te(e,t=G){return e.map((e=>{const n=Array.from(e.sets).map(t).sort();return{key:n.join("&"),s:n,sets:new Set(n),degree:e.degree,cardinality:e.cardinality}}))}function ne(e,t,n){const r=new Set;if(n.aIsSet)r.add(n.aKey);else for(const a of Array.from(e.sets))r.add(n.toKey(a));if(n.bIsSet)r.add(n.bKey);else for(const a of Array.from(t.sets))r.add(n.toKey(a));return Array.from(r).sort().join("&")}function re(e,t,n={}){var r,a,s;const l="function"==typeof t?t:e=>e.sets,o=null!==(r="function"!=typeof t?t:n)&&void 0!==r?r:{},i=null!==(a=o.type)&&void 0!==a?a:"intersection",c=null!==(s=o.joiner)&&void 0!==s?s:B[i],u=[],d=new Map;let m=null;function f(e){return this===e?this.cardinality:null==m?0:m(this,e)}const y=e.map((e=>{const t=l(e),n=t.map((e=>{if(d.has(e))return d.get(e);const t={cardinality:0,elems:[],name:e,type:"set",overlap:f};return u.push(t),d.set(t.name,t),t}));if("distinctIntersection"===i)for(const a of n)a.cardinality+=e.cardinality;else if(1===t.length)Object.assign(n[0],{cardinality:e.cardinality},e);else if("intersection"===i)for(const a of n)a.cardinality=Math.max(a.cardinality,e.cardinality);else if("union"===i)for(const a of n)a.cardinality=Math.min(a.cardinality,e.cardinality);const r=t.join(c);return Object.assign({type:i,elems:[],name:r,overlap:f},e,{cardinality:e.cardinality,degree:t.length,sets:new Set(n)})})),p=Q(u,{order:o.setOrder}),h=I(p,y,{order:o.combinationOrder});switch(i){case"distinctIntersection":m=function(e,t=G){const n=new Map;for(const r of te(e,t))for(const e of r.s)n.has(e)?n.get(e).push(r):n.set(e,[r]);return(e,r)=>{const a=Z(e,r,t);if(null!=a.done)return a.done;if(!a.aIsSet&&!a.bIsSet)return 0;if(a.aIsSet&&!a.bIsSet)return X(r,a)?r.cardinality:0;if(!a.aIsSet&&a.bIsSet)return ee(e,a)?e.cardinality:0;const s=n.get(a.aKey),l=n.get(a.bKey);return s&&l?s.length<l.length?s.reduce(((e,t)=>e+(t.sets.has(a.bKey)?t.cardinality:0)),0):l.reduce(((e,t)=>e+(t.sets.has(a.aKey)?t.cardinality:0)),0):0}}(h,o.toKey);break;case"union":m=function(e,t=G){const n=new Map(te(e,t).map((e=>[e.key,e.cardinality])));return(e,r)=>{const a=Z(e,r,t);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&X(r,a))return e.cardinality;if(!a.aIsSet&&a.bIsSet&&ee(e,a))return r.cardinality;const s=ne(e,r,a);return n.has(s)?e.cardinality+r.cardinality-n.get(s):0}}(h,o.toKey);break;default:m=function(e,t=G){const n=new Map(te(e,t).map((e=>[e.key,e.cardinality])));return(e,r)=>{const a=Z(e,r,t);if(null!=a.done)return a.done;if(a.aIsSet&&!a.bIsSet&&X(r,a))return r.cardinality;if(!a.aIsSet&&a.bIsSet&&ee(e,a))return e.cardinality;const s=ne(e,r,a);return n.has(s)?n.get(s):0}}(h,o.toKey)}return{sets:p,combinations:h}}function ae(e,t,n={}){var r;const a="function"==typeof t?t:e=>e.sets,s=null!==(r="function"!=typeof t?t:n)&&void 0!==r?r:{},l=new Map;return e.forEach((e=>{a(e).forEach((t=>{const n=String(t);l.has(n)?l.get(n).push(e):l.set(n,[e])}))})),Q(Array.from(l).map((([e,t])=>({type:"set",elems:t,name:String(e),cardinality:t.length}))),s)}const se=(e,t,n)=>{const r=e.length+n,a=t/Math.max(1,r),s=t-a*e.length,l=new Map(e.map(((e,t)=>[e,t]))),o=a/(1+n),i=e=>{const t=l.get(e);if(null!=t)return s+a*t};return i.bandwidth=()=>o,i};function le(e,t,n=1){for(let r=0;r<e.length-n;r+=n){const n=e[r],a=e[r+1];if(n<a){if(n+t[r]/2>a-t[r+1]/2)return!0}else{const e=n-t[r]/2;if(a+t[r+1]/2>e)return!0}}return!1}function oe(e,t,n,r,a){let s=e[e.length-1];if(!s.label)for(let l=e.length-2;l>0;--l)if(e[l].label){s=e[l];break}if(s.value<t){const l=n(s.value),o=n(t);if(l<o){l+r(s.value)/2<o-r(t)/2&&e.push({value:t,label:a(t)})}else{const n=l-r(s.value)/2;o+r(t)/2<n&&e.push({value:t,label:a(t)})}}return e}function ie(e,t=String,n=1){return e.map(((e,r)=>({value:e,label:1===n||r%n==0?t(e):void 0})))}function ce(e,t,n,r,a){const s=e.map((e=>t(e))),l=e.map((e=>n(e)));return le(s,l)&&le(s,l,2)?null:oe(ie(e,a),r,t,n,a)}function ue(e){return e.toLocaleString()}function de(e,t=1){const n=[];for(let r=0;r<=e;r+=t)n.push(r);return n}function me(e,t,n,r){if(t<=0)return[];const a=function(e,t=11){const n=Math.max(0,Math.floor(Math.log10(e)-.5)),r=Math.pow(10,n),a=[1,2,5],s=a.map((e=>e*r));n>0&&s.unshift(a[a.length-1]*Math.pow(10,n-1)),s.push(a[0]*Math.pow(10,n+1));const l=Math.ceil(e/t);return s.filter((t=>t>=l&&t<=e))}(e,t);for(let s=0;s<a.length;s++){const t=ce(de(e,a[s]),n,r,e,ue);if(t)return t}return ie([0,e],ue)}const fe=(e,t,n)=>{const r=t[1]-t[0],a=e,s=e=>{const n=Math.max(0,Math.min(e,a))/a;return t[0]+n*r};return s.ticks=(t=10)=>{if("vertical"===n.orientation){const r=Math.ceil(1.4*n.fontSizeHint);return me(e,t+1,s,(()=>r))}const r=n.fontSizeHint/1.4;return me(e,t+1,s,(e=>Math.ceil(ue(e).length*r)))},s.tickFormat=()=>ue,s};function ye(e){const t=["","k","M","G"],n=Math.max(0,Math.min(Math.floor(Math.log10(e)/3),t.length-1));return`${(Math.round(e/Math.pow(10,3*n-1))/10).toLocaleString()}${t[n]}`}function pe(e,t){const n=[],r=Math.pow(10,t);for(let a=1;a<=e;a*=r)n.push(a);return n}function he(e,t){const n=[];for(let r=1,a=0;r<=e;r*=10,a++){n.push({value:r,label:1===t||a%t==0?ye(r):void 0});for(let a=r+r;a<10*r&&a<e;a+=r*t)n.push({value:a})}return n}function ge(e,t,n,r){if(t<=0)return[];for(const a of[1,2,5]){if(ce(pe(e,a),n,r,e,ye))return oe(he(e,a),e,n,r,ye)}return ie([0,e],ye)}const xe=(e,t,n)=>{const r=t[1]-t[0],a=e<1?1:Math.log10(e),s=e=>{const n=Math.max(0,Math.min(e,a)),s=n<=1?0:Math.log10(n)/a;return t[0]+s*r};return s.ticks=(t=10)=>{if("vertical"===n.orientation){const r=Math.ceil(1.4*n.fontSizeHint);return ge(e,t+1,s,(()=>r))}const r=n.fontSizeHint/1.4;return ge(e,t+1,s,(e=>Math.ceil(ye(e).length*r)))},s.tickFormat=()=>ye,s};function be(e,t,{sortAble:n,compress:r="auto"}={}){if(0===e.length)return[];const a=e.map((e=>t(e)));if("no"===r)return a;n&&a.sort(((e,t)=>e-t));const s=function(e){if(0===e.length)return"";const t=[];let n=0;const r=r=>(r===n+1?t.push(e[n].toString()):r===n+2&&r<10?t.push(`${e[n]},${e[n+1]}`):t.push(`${e[n]}+${r-n-1}`),r);for(let a=1;a<e.length;a++){const t=e[a-1]+1;e[a]!==t&&(n=r(a),n=a)}return r(e.length),t.join(",")}(a),l=JSON.stringify(a).length,o=s.length+2;return o<.6*l||l-o>50||"yes"===r&&o<l?s:a}function ve(e,t){return"string"==typeof e?0===e.length?[]:e.split(",").map((e=>{if(e.includes("+")){const[n,r]=e.split("+").map((e=>Number.parseInt(e,10)));return t.slice(n,n+r+1)}return t[Number.parseInt(e,10)]})).flat():e.map((e=>t[e]))}function $e(e,t){return t.color&&(e.color=t.color),e}function we(e,t,n={}){const r=e.sets.map((e=>V(Object.assign(Object.assign({},e),{elems:ve(e.elems,t)})))),a=e.combinations?e.combinations.map((e=>_(Object.assign(Object.assign({},e),{elems:ve(e.elems,t)}),e.type,(e=>e.sets.map((e=>r[e])))))):U(r,Object.assign({type:"intersection",elems:t,toElemKey:n.toElemKey},null!==(s=e.combinationOptions)&&void 0!==s?s:{}));var s;function l(e){return"set"===e.type?r[e.index]:a[e.index]}return{sets:r,combinations:a,selection:e.selection?"string"==typeof e.selection||Array.isArray(e.selection)?ve(e.selection,t):l(e.selection):void 0,queries:e.queries.map((e=>e.set?{name:e.name,color:e.color,set:l(e.set)}:{name:e.name,color:e.color,elems:ve(e.elems,t)}))}}function Se(e,t={}){var n;const r=Object.assign({sortAble:!0},t),a=null!==(n=t.toKey)&&void 0!==n?n:G,s=new Map(e.sets.map(((e,t)=>[a(e),t]))),l=new Map(e.combinations.map(((e,t)=>[a(e),t]))),o=t=>{if("set"===t.type)return{type:t.type,index:s.get(a(t))};const n=l.get(a(t));return null==n||n<0?be(t.elems,e.toElemIndex,r):{type:t.type,index:n}},i=e.sets.map(((e,t)=>({key:a(e),i:t})));return{sets:e.sets.map((t=>$e({name:t.name,cardinality:t.cardinality,elems:be(t.elems,e.toElemIndex,r)},t))),combinations:"no"===t.compress?e.combinations.map((t=>{const n=new Set(Array.from(t.sets).map(a));return $e({name:t.name,type:t.type,cardinality:t.cardinality,degree:t.degree,sets:i.filter((({key:e})=>n.has(e))).map((({i:e})=>e)),elems:be(t.elems,e.toElemIndex,r)},t)})):void 0,combinationOptions:e.combinationOptions,selection:e.selection?Array.isArray(e.selection)?be(e.selection,e.toElemIndex,r):o(e.selection):void 0,queries:e.queries.map((t=>{const n=b(t)?o(t.set):be(Array.from(t.elems),e.toElemIndex,r);return{name:t.name,color:t.color,set:"string"==typeof n||Array.isArray(n)?void 0:n,elems:"string"==typeof n||Array.isArray(n)?n:void 0}}))}}function Ee(e){if(0===e.length)return[];const[t,n]=e.split(";"),r=Number.parseInt(t,10),a=0===(s=n).length?[]:s.split(",").map((e=>{if(""===e)return 0;if(e.includes("=")){const[t,n]=e.split("=").map((e=>Number.parseInt(e,10)));return Array(n+1).fill(t)}return Number.parseInt(e,10)})).flat();var s;const l=[];let o=0;for(let i=r;i>0;i--)l.push(a.slice(o,o+i)),o+=i;return l}function ke(e,t,{toElemKey:n,what:r="intersection",compress:a="auto"}={}){const s=e.concat(t);const l=s.map(((e,t)=>{const a=function(e){if(e.overlap)return e.overlap;const t=m(e.elems,n);return n=>n.overlap?n.overlap(e):t(n.elems)[r]}(e),l=[];for(let n=t+1;n<s.length;n++)l.push(a(s[n]));return l}));if(l.pop(),"no"===a)return l;const o=function(e){return 0===e.length?"":`${e.length};${function(e){if(0===e.length)return"";const t=[];let n=e[0],r=1;for(let a=1;a<e.length;a++){const s=e[a];s===n?r++:(r>1?t.push(`${n}=${r-1}`):0===n?t.push(""):t.push(n.toString()),n=s,r=1)}return r>1?t.push(`${n}=${r}`):0===n?t.push(""):t.push(n.toString()),t.join(",")}(e.flat())}`}(l);if("yes"===a)return o;const i=JSON.stringify(l).length;return o.length+2<.6*i?o:l}function Ce(e,t){return 1===e.length?e[0].name:`(${e.map((e=>e.name)).join(B[t])})`}function Oe(e,t={}){var n;const r=null!==(n=t.toKey)&&void 0!==n?n:G,a=new Map(e.sets.map(((e,t)=>[r(e),t]))),s=new Map(e.combinations.map(((e,t)=>[r(e),t]))),l=t=>{if(k(t)){if("set"===t.type)return{type:t.type,index:a.get(r(t))};const e=s.get(r(t));if(null!=e&&e>=0)return{type:t.type,index:e}}const n=m(k(t)?t.elems:t);return e.sets.map((e=>n(e.elems).intersection)).concat(e.combinations.map((e=>n(e.elems).intersection)))},o=new Map(e.sets.map(((e,t)=>[r(e),t]))),i=ke(e.sets,e.combinations,t),c="yes"===t.compress;return{sets:c?e.sets.map((e=>({n:e.name,cc:e.color,c:e.cardinality}))):e.sets.map((e=>$e({name:e.name,cardinality:e.cardinality},e))),combinations:c?e.combinations.map((t=>{const n=Array.from(t.sets).map((e=>o.get(r(e)))).sort(((e,t)=>e-t)),a={c:t.cardinality,s:n.reduce(((e,t)=>e+Math.pow(2,t)),0)};return t.name!==Ce(n.map((t=>e.sets[t])),t.type)&&(a.n=t.name),"intersection"!==t.type&&(a.type=t.type[0]),t.color&&(a.cc=t.color),a})):e.combinations.map((e=>$e({name:e.name,cardinality:e.cardinality,type:e.type,sets:Array.from(e.sets).map((e=>o.get(r(e)))).sort(((e,t)=>e-t))},e))),overlaps:i,selection:e.selection?l(e.selection):void 0,queries:e.queries.map((t=>{if(b(t)){const e=l(t.set);return Array.isArray(e)?{name:t.name,color:t.color,overlaps:e}:{name:t.name,color:t.color,set:e}}const n=m(t.elems),r=e.sets.map((e=>n(e.elems).intersection)).concat(e.combinations.map((e=>n(e.elems).intersection)));return{name:t.name,color:t.color,overlaps:r}}))}}function Me(e){return"number"==typeof e.c}function Ne(e){return"number"==typeof e.c}function Ae(e,t={}){var n;const r=null!==(n=t.toKey)&&void 0!==n?n:G;let a=()=>0;function s(e){return e.overlap=t=>a(e,t),e}const l=e.sets.map((e=>s({name:Ne(e)?e.n:e.name,cardinality:Ne(e)?e.c:e.cardinality,type:"set",elems:[]}))),o=e.combinations.map((e=>{var t,n;const r=Me(e)?(a=e.s,l.filter(((e,t)=>{const n=Math.pow(2,t);return(a&n)===n}))):e.sets.map((e=>l[e]));var a;const o={i:"intersection",u:"union",c:"composite",d:"distinctIntersection"}[(null!==(t=e.type)&&void 0!==t?t:"i")[0]];return s({name:Me(e)?null!==(n=e.n)&&void 0!==n?n:Ce(r,o):e.name,cardinality:Me(e)?e.c:e.cardinality,type:o,degree:r.length,sets:new Set(r),elems:[]})})),{setIndex:i,combinationIndex:c,compute:u}=function(e,t,n,r=G){const a="string"==typeof e?Ee(e):e,s=new Map(t.map(((e,t)=>[r(e),t]))),l=new Map(n.map(((e,n)=>[r(e),n+t.length])));return{setIndex:s,compute:(e,t)=>{if(e===t)return e.cardinality;const n=r(e),o=r(t),i=s.has(n)?s.get(n):l.get(n),c=s.has(o)?s.get(o):l.get(o);if(i===c)return e.cardinality;const u=Math.min(i,c),d=Math.max(i,c)-u-1;return u<0||u>=a.length||d<0||d>=a[u].length?0:a[u][d]},combinationIndex:l}}(e.overlaps,l,o,r);function d(e){return"set"===e.type?l[e.index]:o[e.index]}function m(e){return t=>{const n=r(t),a=i.has(n)?i.get(n):c.get(n);return null==a||a<0||a>=e.length?0:e[a]}}return a=u,{sets:l,combinations:o,selection:e.selection?Array.isArray(e.selection)?m(e.selection):d(e.selection):void 0,queries:e.queries.map((e=>e.set?{name:e.name,color:e.color,set:d(e.set)}:{name:e.name,color:e.color,overlap:m(e.overlaps)}))}}const Le={},je=[],qe={setLabel:"16px",axisTick:"10px",chartLabel:"16px",barLabel:"10px",legend:"10px",description:"16px",title:"24px",valueLabel:"12px",exportLabel:"10px"},ze=[.18,.12,.7],Ie=[.6,.4],_e={type:"intersection",order:["cardinality:desc","name:asc"]},Te=Object.keys(qe),Be=["axisTick","bar","barLabel","chartLabel","dot","legend","title","description","setLabel","set","valueLabel"],Fe=["dump","png","share","svg","vega"],Ke=[.7,.4],He=[.15,.3];var Pe=n(164),Re=n(165),De=n(166),We=n(167),Ue=n(168),Ve=n(169);function Qe(e){return"number"==typeof e.rx}const Je={maxSets:5,compute:(e,t,n,r)=>Ge(e.length,n,r)};function Ge(e,t,n){const r=[Pe,Re,De,We,Ue,Ve],a=r[Math.min(r.length-1,e)],s=Math.min(t/a.bb.width,n/a.bb.height),l=s*-a.bb.x+(t-s*a.bb.width)/2,o=s*-a.bb.y+(n-s*a.bb.height)/2,i=e=>l+s*e,c=e=>o+s*e;return{sets:a.sets.map((e=>Object.assign({},e,{cx:i(e.cx),cy:c(e.cy),text:{x:i(e.text.x),y:c(e.text.y)}},Qe(e)?{rx:e.rx*s,ry:e.ry*s}:{r:e.r*s}))),intersections:a.intersections.map((e=>({text:{x:i(e.text.x),y:c(e.text.y)},x1:i(e.x1),y1:c(e.y1),sets:e.sets,arcs:e.arcs.map((e=>Object.assign({},e,{x2:i(e.x2),y2:c(e.y2)})))})))}}const Ye={selectionColor:"#ffa500",color:"#000000",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!1},Ze={selectionColor:"#ffa500",color:"#cccccc",hasSelectionColor:"",opacity:1,hasSelectionOpacity:-1,textColor:"#ffffff",hoverHintColor:"#d9d9d9",notMemberColor:"#666666",alternatingBackgroundColor:"rgba(255, 255, 255, 0.2)",valueTextColor:"#ffffff",strokeColor:"#ffffff",backgroundColor:"#303030",filled:!1},Xe={selectionColor:"#4c78a8",color:"#4c78a8",hasSelectionColor:"#c9d6e5",opacity:1,hasSelectionOpacity:-1,textColor:"#000000",hoverHintColor:"#cccccc",notMemberColor:"#d3d3d3",alternatingBackgroundColor:"rgba(0,0,0,0.05)",valueTextColor:"#000000",strokeColor:"#000000",backgroundColor:"#ffffff",filled:!0};function et(e){return"vega"===e?Xe:"dark"===e?Ze:Ye}function tt(e,t,n={}){const r=et(t.theme);return Object.assign(e,{queryLegend:null!=t.queries&&t.queries.length>0,theme:"light",padding:20,selection:null,title:"",description:"",fontFamily:"sans-serif",queries:je,exportButtons:!0,className:"",fontSizes:qe,classNames:Le,style:Le,styles:Le,toKey:G,tooltips:!0},r,t,n,t.fontSizes?{fontSizes:Object.assign({},qe,t.fontSizes)}:Le)}function nt(e){return tt({barPadding:.3,dotPadding:.7,combinations:_e,combinationName:null==e.combinations||(t=e.combinations,Array.isArray(t))||"union"!==e.combinations.type?"Intersection Size":"Union Size",barLabelOffset:2,setNameAxisOffset:"auto",combinationNameAxisOffset:"auto",setName:"Set Size",widthRatios:ze,heightRatios:Ie,setLabelAlignment:"center",numericScale:"linear",bandScale:"band",childrenFactories:Le,setAddons:je,combinationAddons:je,setAddonPadding:1,combinationAddonPadding:1,emptySelection:!0},e);var t}function rt(e){return e.toLocaleString()}function at(e){return nt(e)}function st(e){return tt({valueFormat:rt,layout:Je},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}function lt(e){return st(e)}function ot(e){return tt({numericScale:"linear",barPadding:.3,barLabelOffset:2,combinationName:"Intersection Size",combinationNameAxisOffset:"auto"},e,{exportButtons:!1!==e.exportButtons&&Object.assign({},!0===e.exportButtons?{}:e.exportButtons,{vega:!1})})}function it(e){return ot(e)}var ct=n(298),ut=n(148),dt=n(200),mt=n.n(dt);function ft(e){return Object.assign({theme:"light",title:"",description:""},et(e.theme),e)}function yt(e,t){if(x(e))return t=>e.overlap([t])>0;if(b(e)){const n=e.set.overlap;if(n)return e=>n([e])>0;if(t){const n=new Set(e.set.elems.map(t));return e=>n.has(e)}{const t=new Set(e.set.elems);return e=>t.has(e)}}if(g(e)){if(t){const n=new Set(Array.from(e.elems).map(t));return e=>n.has(e)}const n=new Set(e.elems);return e=>n.has(e)}return!1}function pt(e,t){if(!e)return!1;if("function"==typeof e)return t=>e({type:"set",name:"S",cardinality:1,elems:[t]})>0;if(k(e)){const n=e.overlap;if(n)return e=>n([e])>0;if(t){const n=new Set(e.elems.map(t));return e=>n.has(e)}{const t=new Set(e.elems);return e=>t.has(e)}}if(Array.isArray(e)){if(t){const n=new Set(e.map(t));return e=>n.has(e)}const n=new Set(e);return e=>n.has(e)}return!1}function ht(e){return!1!==e&&(()=>e)}function gt(e,t="k"){return{test:`inSetStore(upset_signal, datum.${t})`,value:e}}function xt(e="values",t="k"){return`countInSetStore(upset_signal, datum.${e}, '${t}')`}function bt(e,t="values",n="k"){return`countInSetStore(upset_q${e}_signal, datum.${t}, '${n}')`}function vt(e,t="k"){return(null!=e?e:[]).map(((e,n)=>({test:`inSetStore(upset_q${n}_signal, datum.${t})`,value:e.color})))}function $t(e,t,n,r=!1){const a=Object(c.useRef)(null),s=Object(c.useRef)(n),l=Object(c.useCallback)((n=>(n.signals=n.signals||[],n.signals.push({name:"upset_signal",value:ht(pt(s.current,e))}),(null!=t?t:[]).forEach(((t,r)=>n.signals.push({name:`upset_q${r}_signal`,value:ht(yt(t,e))}))),n)),[s,t,e]);Object(c.useLayoutEffect)((()=>{s.current=null!=n?n:null,a.current&&(a.current.signal("upset_signal",pt(n,e)),(null!=t?t:[]).forEach(((t,n)=>a.current.signal(`upset_q${n}_signal`,yt(t,e)))),r&&!a.current._running&&a.current.resize().run())}),[a,n,t,r,e]);const o=Object(c.useCallback)((e=>{a.current=e}),[a]);return{viewRef:a,vegaProps:{patch:l,onNewView:o}}}function wt(e,t,n){if(e.length!==t.length)return!1;if(n){const r=new Set(t.map(n));return e.every((e=>r.has(n(e))))}const r=new Set(t);return e.every((e=>r.has(e)))}function St(e){return{name:"Vega Selection",type:"composite",cardinality:e.length,degree:0,elems:e,sets:new Set}}function Et(e,t){const n=t.signal(`${e}_tuple`);n&&Array.isArray(n.values)&&0!==n.values.length&&t.signal(`${e}_tuple`,null)}function kt(e,t,n,r,a,s){return(l,o)=>{if(!e.current)return;const i=o;if(!i||!i._vgsid_||0===i._vgsid_.length)return void r(null);const c=new Set(i._vgsid_),u=e.current.data(a).filter((e=>c.has(e._vgsid_))).map((e=>e[s]));if(0===u.length)return void r(null);if(t.current&&E(t.current)&&wt(t.current.elems,u,n))return;const d=St(u);r(d)}}function Ct(e,t,n,r,a,s,{selectionName:l="select",transformedData:o="data_0",unitData:i="",elemField:u="e"}={}){const d=Object(c.useRef)(r),m=Object(c.useMemo)((()=>{if(!a&&!s)return;const e={};return a&&(e[l]=kt(t,d,n,a,o,u)),s&&(e[`${l}_hover`]=kt(t,d,n,s,o,u)),e}),[a,s,t,d,l,o,u,n]);Object(c.useLayoutEffect)((()=>{d.current=null!=r?r:null,t.current&&a&&(E(r)?function(e,t,n,r,a,s){const l=t.signal(`${e}_tuple`),o=t.data(r),i=new Set(n.elems),c=o.filter((e=>i.has(e[s]))).map((e=>e._vgsid_));if(wt(l?l.values:[],c))return;const u=l?Object.assign({},l,{values:c}):{unit:a,fields:t.signal(`${e}_tuple_fields`,c)};t.signal(`${e}_tuple`,u)}(l,t.current,r,o,i,u):null==r&&Et(l,t.current))}),[t,r,l,a,o,i,u]);const f=Object(c.useMemo)((()=>Object.assign({},a?{[l]:{type:e,empty:"none"}}:{},s?{[`${l}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[e,l,a,s]);return{signalListeners:m,hoverName:s?`${l}_hover`:null,selectionName:a?l:null,selection:f}}function Ot(e){var t,n;const{title:r,description:a,selectionColor:s,color:l,theme:o}=ft(e),{vAttr:i,iAttr:d,elems:m,width:f,height:y,orientation:p="vertical",actions:h,toElemKey:g}=e,x="horizontal"===p?"y":"x",b="horizontal"===p?"x":"y",v=(null!==(t=e.vLabel)&&void 0!==t?t:"function"==typeof i)?"v":i.toString(),$=(null!==(n=e.iLabel)&&void 0!==n?n:"function"==typeof d)?"i":d.toString(),w=Object(c.useMemo)((()=>{const e="function"==typeof i?i:e=>e[i],t="function"==typeof d?d:e=>e[d];return{table:m.map((n=>({e:n,v:e(n),i:t(n),k:g?g(n):n})))}}),[m,i,d,g]),{viewRef:S,vegaProps:E}=$t(g,e.queries,e.selection,!0),{signalListeners:k,selection:C,selectionName:O,hoverName:M}=Ct("multi",S,g,e.selection,e.onClick,e.onHover),N=Object(c.useMemo)((()=>({title:r,description:a,data:{name:"table"},selection:C,mark:{type:"bar",stroke:null,cursor:M?"pointer":void 0,tooltip:!0},encoding:{fill:{condition:[M&&{selection:M,value:s},O&&{selection:O,value:s},gt(s),...vt(e.queries)].filter(Boolean),value:l},[x]:{field:"i",type:"nominal",title:$,axis:{labelAngle:0}},[b]:{field:"v",type:"quantitative",title:v}}})),[$,v,r,a,s,l,e.queries,C,O,M,x,b]);return u.a.createElement(ct.a,Object.assign({spec:N,signalListeners:k,width:f,height:y,data:w,theme:"dark"===o?"dark":void 0,actions:h},E))}function Mt(e,t,n){return null!=e&&k(e)&&"composite"===e.type&&"interval"===e.subType&&e.xAttr===t&&e.yAttr===n}function Nt(e){return`[${Math.round(100*e[0])/100},${Math.round(100*e[1])/100}]`}function At(e,t,n,r,a){return{name:`Vega Brush (${e}: ${Nt(r)}, ${t}: ${Nt(a)}`,type:"composite",subType:"interval",cardinality:n.length,degree:0,elems:n,sets:new Set,x:r,y:a,xAttr:e,yAttr:t}}function Lt(e,t){return e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1]}function jt(e,t,n,r,a,s,l,{selectionName:o="select",transformedData:i="data_0",xField:u="x",yField:d="y",elemField:m="e"}={}){const f=Object(c.useRef)(t),y=Object(c.useMemo)((()=>{if(!s&&!l)return;const t={};return s&&(t[o]=mt()(((t,a)=>{if(!e.current)return;const l=a;if(null==l[u])return void s(null);if(f.current&&Mt(f.current,n,r)&&(o=f.current,i=l[u],c=l[d],Lt(o.x,i)&&Lt(o.y,c)))return;var o,i,c;const y=e.current.data("table").filter((e=>e[u]>=l[u][0]&&e[u]<=l[u][1]&&e[d]>=l[d][0]&&e[d]<=l[d][1])).map((e=>e[m])),p=At(n,r,y,l[u],l[d]);s(p)}),200)),l&&(t[`${o}_hover`]=kt(e,f,a,l,i,m)),t}),[o,s,l,a,e,n,r,f,i,u,d,m]);Object(c.useLayoutEffect)((()=>{f.current=null!=t?t:null,e.current&&s&&(Mt(t,n,r)?function(e,t,n,r,a){const s=t.signal(`${e}_${r}`),l=t.signal(`${e}_${a}`);s&&Array.isArray(s)&&Lt(s,n.x)||t.signal(`${e}_${r}`,n.x);const o=[n.y[1],n.y[0]];l&&Array.isArray(l)&&Lt(l,o)||t.signal(`${e}_${a}`,o)}(o,e.current,t,u,d):t||function(e,t,n,r){const a=t.signal(`${e}_${n}`),s=t.signal(`${e}_${r}`);a&&t.signal(`${e}_${n}`,null),s&&t.signal(`${e}_${r}`,null)}(o,e.current,u,d))}),[o,e,t,n,r,s,u,d]);const p=Object(c.useMemo)((()=>Object.assign({},s?{[o]:{type:"interval",empty:"none"}}:{},l?{[`${o}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[o,s,l]);return{signalListeners:y,hoverName:l?`${o}_hover`:null,selectionName:s?o:null,selection:p}}function qt(e,t){return null!=e&&k(e)&&"composite"===e.type&&"aggregate"===e.subType&&e.attr===t}function zt(e,t,n,r){return{name:null!=r?r:`Vega Group ${e}: ${n.join(", ")}`,type:"composite",subType:"aggregate",cardinality:t.length,degree:0,elems:t,sets:new Set,groups:n,attr:e}}function It(e,t,n,r,a,{selectionName:s="select",aggregatedData:l="data_0",unitData:o="layer_0",aggregateField:i="v",valuesField:u="values",elemField:d="e",nameGen:m}={}){const f=Object(c.useRef)(t),y=Object(c.useMemo)((()=>{if(!r&&!a)return;const t={},o=t=>(r,a)=>{if(!e.current)return;const s=a;if(!s||!s._vgsid_||0===s._vgsid_.length)return void t(null);const o=new Set(s._vgsid_),c=e.current.data(l).filter((e=>o.has(e._vgsid_))),y=c.map((e=>e[i]));if(f.current&&qt(f.current,n)&&wt(f.current.groups,y))return;const p=c.map((e=>e[u]||[])).flat().map((e=>e[d])),h=zt(n,p,y,m?m(c):void 0);t(h)};return r&&(t[s]=o(r)),a&&(t[`${s}_hover`]=o(a)),t}),[r,a,e,n,f,s,l,d,i,u,m]);Object(c.useLayoutEffect)((()=>{f.current=null!=t?t:null,e.current&&r&&(qt(t,n)?function(e,t,n,r,a,s){const l=t.signal(`${e}_tuple`),o=t.data(r).filter((e=>n.groups.includes(e[s]))).map((e=>e._vgsid_));if(wt(l&&l.values?l.values:[],o))return;const i=l?Object.assign({},l,{values:o}):{unit:a,fields:t.signal(`${e}_tuple_fields`),values:o};t.signal(`${e}_tuple`,i)}(s,e.current,t,l,o,i):null==t&&Et(s,e.current))}),[e,t,n,s,r,l,o,i]);const p=Object(c.useMemo)((()=>Object.assign({},r?{[s]:{type:"single",empty:"none"}}:{},a?{[`${s}_hover`]:{type:"single",empty:"none",on:"mouseover"}}:{})),[s,r,a]);return{signalListeners:y,hoverName:a?`${s}_hover`:null,selectionName:r?s:null,selection:p}}function _t(e,t,n,r,a,{selectionName:s="select",aggregatedData:l="data_1",unitData:o="layer_0",valueField:i="v",valuesField:u="values",elemField:d="e"}={}){const m=`bin_maxbins_10_${i}`,f=Object(c.useCallback)((e=>`Vega Bin ${n}: ${e.map((e=>`[${e[m]},${e[`${m}_end`]})`)).join(", ")}`),[m,n]);return It(e,t,n,r,a,{selectionName:s,aggregatedData:l,unitData:o,valuesField:u,elemField:d,aggregateField:m,nameGen:f})}function Tt(e){var t,n;const{title:r,description:a,selectionColor:s,color:l,theme:o}=ft(e),{xAttr:i,yAttr:d,elems:m,width:f,height:y,actions:p,toElemKey:h}=e,g=(null!==(t=e.xLabel)&&void 0!==t?t:"function"==typeof i)?"x":i.toString(),x=(null!==(n=e.yLabel)&&void 0!==n?n:"function"==typeof d)?"y":d.toString(),b=Object(c.useMemo)((()=>{const e="function"==typeof i?i:e=>e[i],t="function"==typeof d?d:e=>e[d];return{table:m.map((n=>({e:n,x:e(n),y:t(n),k:h?h(n):n})))}}),[m,i,d,h]),{viewRef:v,vegaProps:$}=$t(h,e.queries,e.selection),{signalListeners:w,selection:S,selectionName:E,hoverName:k}=jt(v,e.selection,g,x,h,e.onClick,e.onHover),C=Object(c.useMemo)((()=>({title:r,description:a,data:{name:"table"},selection:S,mark:{type:"point",stroke:null,cursor:k?"pointer":void 0,tooltip:!0},encoding:{fill:{condition:[k?[{selection:k,value:s}]:[],E?[{selection:E,value:s}]:[],gt(s),vt(e.queries)].flat(),value:l},x:{field:"x",type:"quantitative",title:g},y:{field:"y",type:"quantitative",title:x}}})),[g,x,r,a,s,l,e.queries,S,E,k]);return u.a.createElement(ct.a,Object.assign({spec:C,signalListeners:w,width:f,height:y,data:b,theme:"dark"===o?"dark":void 0,actions:p},$))}function Bt(e,t){return{transform:[{aggregate:[{op:"values",as:"values"}],groupby:["bin_maxbins_10_v","bin_maxbins_10_v_end"]}],mark:{type:"bar",tooltip:!1},encoding:{color:{value:t},x:{bin:!0,field:"v",type:"quantitative"},y:{datum:{signal:e},type:"quantitative",title:null},y2:{type:"quantitative",datum:0,title:null}}}}function Ft(e){var t;const{title:n,description:r,selectionColor:a,color:s,theme:l}=ft(e),{attr:o,elems:i,width:d,height:m,actions:f,toElemKey:y}=e,p=(null!==(t=e.label)&&void 0!==t?t:"function"==typeof o)?"v":o.toString(),h=Object(c.useMemo)((()=>{const e="function"==typeof o?o:e=>e[o];return{table:i.map((t=>({e:t,i:1,v:e(t),k:y?y(t):t})))}}),[i,o,y]),{viewRef:g,vegaProps:x}=$t(y,e.queries,e.selection,!0),{selection:b,signalListeners:v,selectionName:$,hoverName:w}=_t(g,e.selection,p,e.onClick,e.onHover),S=Object(c.useMemo)((()=>{var t;return{title:n,description:r,data:{name:"table"},layer:[{selection:b,mark:{type:"bar",cursor:$||w?"pointer":void 0,tooltip:!0},encoding:{color:{condition:[w?[{selection:w,value:a}]:[],$?[{selection:$,value:a}]:[]].flat(),value:s},x:{bin:!0,field:"v",type:"quantitative",title:p},y:{aggregate:"sum",field:"i",type:"quantitative",title:"Count"}}},Bt(xt(),a),...(null!==(t=e.queries)&&void 0!==t?t:[]).map(((e,t)=>t>0||null!=w||null!=$?function(e,t){return{transform:[{aggregate:[{op:"values",as:"values"}],groupby:["bin_maxbins_10_v","bin_maxbins_10_v_end"]}],mark:{type:"point",shape:"triangle-right",tooltip:!1},encoding:{color:{value:t},x:{bin:!0,band:0,field:"v",type:"quantitative"},y:{datum:{signal:e},type:"quantitative"}}}}(bt(t),e.color):Bt(bt(t),e.color)))],resolve:{scale:{y:"shared"}}}}),[p,n,r,a,s,e.queries,b,$,w]);return u.a.createElement(ct.a,Object.assign({spec:S,width:d,height:m,data:h,signalListeners:v,theme:"dark"===l?"dark":void 0,actions:f},x))}function Kt(e,t,n,r,a){return{mark:{type:"arc",tooltip:!1,innerRadius:a},encoding:Object.assign({theta:{field:"i_sum_start",type:"quantitative",title:null},theta2:{datum:{signal:`datum.i_sum_start + ${e}`},type:"quantitative",title:null}},n?{stroke:{value:t},color:{value:t},fillOpacity:{value:.3}}:{color:{value:t},stroke:{field:"v",type:"nominal",title:null,legend:null,scale:{scheme:"dark"===r?"dark2":"set2"}}})}}function Ht(e){var t;const{title:n,description:r,selectionColor:a,theme:s}=ft(e),{attr:l,elems:o,width:i,height:d,innerRadius:m,actions:f,toElemKey:y}=e,p=(null!==(t=e.label)&&void 0!==t?t:"function"==typeof l)?"v":l.toString(),h=Object(c.useMemo)((()=>{const e="function"==typeof l?l:e=>e[l];return{table:o.map((t=>({e:t,i:1,v:e(t),k:y?y(t):t})))}}),[o,l,y]),{viewRef:g,vegaProps:x}=$t(y,e.queries,e.selection,!0),{selection:b,signalListeners:v,selectionName:$,hoverName:w}=It(g,e.selection,p,e.onClick,e.onHover),S=Object(c.useMemo)((()=>{var t;return{title:n,description:r,data:{name:"table"},transform:[{aggregate:[{op:"values",as:"values"},{op:"sum",field:"i",as:"i_sum"}],groupby:["v"]},{stack:"i_sum",as:["i_sum_start","i_sum_end"],sort:[{field:"v",order:"ascending"}],groupby:[]}],layer:[{selection:b,mark:{type:"arc",cursor:$||w?"pointer":void 0,tooltip:!0,innerRadius:m},encoding:{color:{condition:[w?[{selection:w,value:a}]:[],$?[{selection:$,value:a}]:[]].flat(),field:"v",type:"nominal",title:p,scale:{scheme:"dark"===s?"dark2":"set2"}},theta:{field:"i_sum",type:"quantitative",title:"Count"}}},Kt(xt(),a,!1,s,m),...(null!==(t=e.queries)&&void 0!==t?t:[]).map(((e,t)=>Kt(bt(t),e.color,t>0||null!=w||null!=$,s,m)))],resolve:{scale:{theta:"shared"}}}}),[p,n,r,a,e.queries,b,$,w,m,s]);return u.a.createElement(ct.a,Object.assign({spec:S,width:i,height:d,data:h,signalListeners:v,theme:"dark"===s?"dark":void 0,actions:f},x))}function Pt(e){return Array.from(e.classList).find((e=>e.startsWith("root-"))).slice("root-".length)}function Rt(e,t){var n,r;return null!==(r=null===(n=e.querySelector(`titleTextStyle-${t}`))||void 0===n?void 0:n.textContent)&&void 0!==r?r:"UpSetJS"}function Dt(e,t){var n,r;return null!==(r=null===(n=e.querySelector(`descTextStyle-${t}`))||void 0===n?void 0:n.textContent)&&void 0!==r?r:""}function Wt(e,t){const n=e.cloneNode(!0);return n.style.backgroundColor=et(e.dataset.theme).backgroundColor,t&&Array.from(n.querySelectorAll(t)).forEach((e=>e.remove())),(new XMLSerializer).serializeToString(n)}function Ut(e,{type:t="png",title:n,toRemove:r}){const a=new Blob([Wt(e,r)],{type:"image/svg+xml;charset=utf-8"}),s=Pt(e),l=null!=n?n:Rt(e,s),o=URL.createObjectURL(a);return"svg"===t?(Vt(o,`${l}.${t}`,e.ownerDocument),URL.revokeObjectURL(o),Promise.resolve()):function(e,t){const n=t.ownerDocument.createElement("canvas"),r=t.getBoundingClientRect();n.width=r.width,n.height=r.height;const a=n.getContext("2d"),s=new Image(n.width,n.height);return new Promise((t=>{s.onload=()=>{a.drawImage(s,0,0);const e=n.toDataURL("image/png");t(e)},s.src=e}))}(o,e).then((n=>{Vt(n,`${l}.${t}`,e.ownerDocument),URL.revokeObjectURL(o)}))}function Vt(e,t,n){const r=n.createElement("a");r.href=e,r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.download=t,n.body.appendChild(r),r.click(),r.remove()}function Qt(e,{title:t}={}){const n=function(e,t){var n,r,a,s,l;const o=null!==(a=e.getComputedStyle||(null===(r=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getComputedStyle))&&void 0!==a?a:window.getComputedStyle,i=Pt(e),c=null!=t?t:Rt(e,i),u=Array.from(e.querySelectorAll("[data-upset=sets] [data-cardinality]")).map((e=>({name:e.querySelector(`text.setTextStyle-${i}`).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10)}))).reverse(),d=-Number.parseFloat(e.querySelector(`.sBarTextStyle-${i}`).getAttribute("dx")),m=o(e.querySelector(`.fillPrimary-${i}`)).fill,f=o(e.querySelector(`.fillNotMember-${i}`)).fill,y=o(e.querySelector("text")).fill,p=e.querySelector(`.cChartTextStyle-${i}`).textContent,h=e.querySelector(`.sChartTextStyle-${i}`).textContent,g=Array.from(e.querySelectorAll("[data-upset=cs] [data-cardinality]")).map((e=>({name:e.querySelector(`text.hoverBarTextStyle-${i}`).textContent,cardinality:Number.parseInt(e.dataset.cardinality,10),sets:Array.from(e.querySelectorAll(`.fillPrimary-${i} > title`)).map((e=>e.textContent))}))),x=e=>Number.parseFloat(e.getAttribute("transform").match(/([\d.]+),/)[1]),b=e.querySelector("[data-upset=base]"),v=x(b),$=x(e.querySelector("[data-upset=csaxis]")),w=Number.parseFloat(b.querySelector("g").firstElementChild.children[1].getAttribute("x2")),S=(E=e.querySelector("[data-upset=setaxis]"),Number.parseFloat(E.getAttribute("transform").match(/,([\d.]+)/)[1]));var E;const k=Number.parseFloat(e.querySelector("defs rect").getAttribute("width")),C=Number.parseFloat(e.querySelector("defs rect").getAttribute("height")),O=Number.parseFloat(e.querySelector(`[data-cardinality] circle.fillPrimary-${i}`).getAttribute("r")),M=null!=e.querySelector("[data-upset=sets-s] [data-cardinality]"),N=null!=e.querySelector("[data-upset=sets-q] [data-cardinality]"),A=M||N;let L="orange";A&&(Array.from(e.querySelectorAll(`[data-upset=sets-${M?"s]":"q]:first-of-type"} [data-cardinality]`)).forEach((e=>{const t=u.length-Number.parseInt(e.dataset.i,10)-1;u[t].selection=Number.parseInt(e.dataset.cardinality,10)})),Array.from(e.querySelectorAll(`[data-upset=cs-${M?"s]":"q]:first-of-type"} [data-cardinality]`)).forEach((e=>{const t=Number.parseInt(e.dataset.i,10);g[t].selection=Number.parseInt(e.dataset.cardinality,10)})),L=o(e.querySelector(`[data-upset=sets-${M?"s":"q"}] [data-cardinality]`)).fill);const j=Number.parseInt(null!==(l=null===(s=e.querySelector("[data-upset=cs-ss]"))||void 0===s?void 0:s.dataset.i)&&void 0!==l?l:"-1",10),q=j>=0?{field:"partOf",oneOf:[1,2]}:{field:"partOf",equal:1};return{$schema:"https://vega.github.io/schema/vega-lite/v4.json",title:c,description:Dt(e,i),datasets:{sets:u,combinations:g.map(((e,t)=>Object.assign({},e,{partOf:j===t?2:1,nsets:[""]}))).concat(g.map((e=>({name:e.name,cardinality:e.cardinality,partOf:0,sets:[""],nsets:u.filter((t=>!e.sets.includes(t.name))).map((e=>e.name))}))))},vconcat:[{hconcat:[{mark:"bar",width:$+k-40,height:S},{width:w,height:S,data:{name:"combinations"},transform:[{filter:q}],layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"center",baseline:"bottom",dy:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{y:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null},y:{field:"cardinality",type:"quantitative",axis:{grid:!1},title:p}}}]},{hconcat:[{width:$,height:C,data:{name:"sets"},layer:[{mark:{type:"bar",tooltip:!0}},{mark:{type:"text",align:"right",baseline:"middle",dx:-d},encoding:{text:{field:"cardinality",type:"quantitative"}}},A&&{mark:{type:"bar",fill:L,tooltip:!0},encoding:{x:{field:"selection",type:"quantitative"}}}].filter(Boolean),encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},x:{field:"cardinality",type:"quantitative",title:h,sort:"descending",axis:{grid:!1}}}},{data:{name:"sets"},width:k,height:C,mark:{type:"text",align:"center",baseline:"middle",fontSize:Number.parseInt(o(e.querySelector(`.setTextStyle-${i}`)).fontSize,10)},encoding:{y:{field:"name",type:"ordinal",axis:null,sort:null},text:{field:"name",type:"ordinal"}}},{width:w,height:C,data:{name:"combinations"},transform:[{flatten:["sets"],as:["has_set"]},{flatten:["nsets"],as:["has_not_set"]},{calculate:"datum.has_set+datum.has_not_set",as:"set"}],layer:[{mark:{type:"circle",size:O*O*Math.PI,tooltip:!0},encoding:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[f,m].concat(j>=0?[L]:[])}},y:{field:"set",type:"ordinal",axis:null,sort:null,scale:{domain:u.map((e=>e.name))}}}},{mark:"rule",transform:[{filter:q},{calculate:"datum.sets[datum.sets.length -1]",as:"set_end"}],encoding:Object.assign({y:{field:"sets[0]",type:"ordinal",axis:null,sort:null},y2:{field:"set_end"}},j<0?{}:{color:{field:"partOf",type:"nominal",legend:null,scale:{range:[m,L]}}})}],encoding:{x:{field:"name",type:"ordinal",axis:null,sort:null}}}]}],config:{padding:v,background:et(e.dataset.theme).backgroundColor,concat:{spacing:0},view:{stroke:null},bar:{fill:m},circle:{opacity:1},rule:{stroke:m,strokeWidth:Number.parseInt(o(e.querySelector("[data-upset=cs] [data-cardinality] line")).strokeWidth,10)},axis:{labelColor:y,labelFontSize:Number.parseInt(o(e.querySelector(`.axisTextStyle-${i}`)).fontSize,10),titleColor:y,titleFontSize:Number.parseInt(o(e.querySelector(`.cChartTextStyle-${i}`)).fontSize,10)},title:{color:y},text:{fill:y,fontSize:Number.parseInt(o(e.querySelector(`.sBarTextStyle-${i}`)).fontSize,10)}}}}(e,t),r=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"}));Vt(r,`${n.title}.json`,e.ownerDocument),URL.revokeObjectURL(r)}Object(ut.expressionFunction)("inSetStore",(function(e,t){return"function"==typeof e&&e(t)})),Object(ut.expressionFunction)("countInSetStore",(function(e,t,n){return"function"==typeof e&&Array.isArray(t)?t.reduce(((t,r)=>t+(e(r[n])?1:0)),0):0}));var Jt=n(206),Gt=n.n(Jt);const Yt=["bandScale","numericScale"].concat(["selectionColor","color","textColor","hoverHintColor","notMemberColor","alternatingBackgroundColor","hasSelectionColor","hasSelectionOpacity","opacity","strokeColor","valueTextColor"],["padding","barPadding","dotPadding","widthRatios","heightRatios"],["fontSizes","combinationName","setName","barLabelOffset","setNameAxisOffset","combinationNameAxisOffset","theme","fontFamily","emptySelection","exportButtons","queryLegend"]);function Zt(e){var t;const n=at({width:0,height:0,sets:null!==(t=e.sets)&&void 0!==t?t:[],combinations:e.combinations,theme:e.theme}),r={};return Yt.forEach((t=>{const a=e[t],s=n[t];if("theme"!==t||"light"===a){if(null!=a&&a!==s)if("fontSizes"===t){let e=!0;const n={};Te.forEach((t=>{const r=a[t];r!==s[t]&&(n[t]=r,e=!1)})),e||(r[t]=n)}else r[t]=a}else r[t]=a})),r}function Xt(e,t,n,r,a){return Object.assign({$schema:"https://upset.js.org/schema.1.0.0.json",name:"string"==typeof n.title?n.title:"UpSetJS",description:"string"==typeof n.description?n.description:"",mode:a,author:r,elements:t,attrs:[],props:Zt(n)},e)}function en(e,t,n,r){return Object.assign({$schema:"https://upset.js.org/schema-static.1.0.0.json",name:"string"==typeof t.title?t.title:"UpSetJS",description:"string"==typeof t.description?t.description:"",mode:r,author:n,props:Zt(t)},e)}function tn(e,t,n=!1,r){var a,s;const l=[],o=new Map;return Xt(Se({sets:e.sets,queries:null!==(s=null===(a=e.queries)||void 0===a?void 0:a.filter((e=>g(e)||b(e))))&&void 0!==s?s:[],toElemIndex:e=>o.has(e)?o.get(e):(o.set(e,l.length),l.push(e),l.length-1),selection:e.selection&&k(e.selection)?e.selection:void 0,combinations:t.cs.v,combinationOptions:Array.isArray(e.combinations)?{}:e.combinations},{compress:n?"yes":"no"}),l,e,void 0,r)}function nn(e,t,n,r){const a=tn(t,n,!1,r),s=URL.createObjectURL(new Blob([JSON.stringify(a,null,2)],{type:"application/json"}));Vt(s,`${a.name}.json`,e.ownerDocument),URL.revokeObjectURL(s)}function rn(e,t,n){const r=tn(e,t,!0,n);delete r.$schema;const a=Gt.a.compressToEncodedURIComponent(JSON.stringify(r)),s=new URL("https://upset.js.org/app/embed.html");if(s.searchParams.set("p",a),s.toString().length<4096)return window.open(s.toString(),"_blank"),!0;const l=function(e,t,n=!1,r){var a,s;return en(Oe({sets:e.sets,queries:null!==(s=null===(a=e.queries)||void 0===a?void 0:a.filter((e=>g(e)||b(e))))&&void 0!==s?s:[],selection:e.selection&&k(e.selection)?e.selection:void 0,combinations:t.cs.v},{compress:n?"yes":"no"}),e,void 0,r)}(e,t,!0,n);delete l.$schema;const o=Gt.a.compressToEncodedURIComponent(JSON.stringify(l));if(s.searchParams.set("p",o),s.toString().length<4096)return window.open(s.toString(),"_blank"),!0;s.searchParams.delete("p");const i=window.open(s.toString(),"_blank");return null==i||i.addEventListener("load",(()=>{null==i||i.postMessage(r,s.origin)})),!1}function an(...e){return e.filter(Boolean).join(" ")}function sn(e){return`upset-${Math.random().toString(36).slice(4)}`}function ln(e){return null!=e&&!Array.isArray(e)}function on(e,t){const n=m(e,t);return e=>n(e.elems).intersection}function cn(e,t){if(!e)return dn;if("function"==typeof e)return e;if(Array.isArray(e))return on(e,t);const n=e;if(n.overlap)return n.overlap.bind(n);const r=on(n.elems,t);return e=>e.overlap?e.overlap(n):r(e)}function un(e){var t;return Array.isArray(e)?`Array(${e.length})`:"function"==typeof e?"?":null===(t=e)||void 0===t?void 0:t.name}function dn(){return 0}function mn(e){return null==e?10:e.endsWith("pt")?Math.floor(4/3*Number.parseInt(e,10)):Number.parseInt(e,10)}function fn(e){return"linear"===e?fe:"log"===e?xe:e}function yn(e){return Array.isArray(e)}function pn(e,t,n,r,a,s,l,o,i,c,u,d,m,f,y){var p;const h=fn(r),g="band"===(x=a)?se:x;var x;const b=yn(t)?t:U(e,Object.assign({toElemKey:d},_e,t)),v=g(b.map(u),n.cs.w,n.padding),$=b.reduce(((e,t)=>Math.max(e,t.cardinality)),0),w=null!=y?y:$,S=w>$?0:s,E=h(w,[n.cs.h,S],{orientation:"vertical",fontSizeHint:i}),k=e=>Math.floor(s/1.4*.7*e.length),C=e=>k(E.tickFormat()(e)),O=e.reduce(((e,t)=>Math.max(e,t.cardinality)),0),M=null!=f?f:O,N=C(M);let A=C(w);for(const T of c){if(!T.scale)continue;const e=T.scale.ticks(3),t=T.scale.tickFormat();for(const n of e){const e="number"==typeof n?t(n):null!==(p=n.label)&&void 0!==p?p:t(n.value),r=k(e);r>A&&(A=r)}}const L=M>O?0:N,j=h(M,[n.sets.w,L],{orientation:"horizontal",fontSizeHint:i}),q=e.map(u),z=g(q.slice().reverse(),n.sets.h,n.padding),I=Math.min(z.bandwidth(),v.bandwidth())/2*l,_=Math.max(2,Math.min(z.bandwidth(),v.bandwidth())/2*o);return{id:m||sn(),r:I,triangleSize:_,sets:{v:e,keys:q,rv:e.slice().reverse(),x:j,xAxisWidth:n.sets.w-L,y:e=>z(u(e)),max:M,bandWidth:z.bandwidth(),cy:z.bandwidth()/2+n.cs.h,format:j.tickFormat(),labelOffset:s+9+2},cs:{v:b,keys:b.map(u),x:e=>v(u(e)),max:w,y:E,yAxisWidth:n.cs.h-S,cx:v.bandwidth()/2,bandWidth:v.bandwidth(),format:E.tickFormat(),has:(e,t)=>{const n=u(t);return Array.from(e.sets).some((e=>u(e)===n))},labelOffset:A+9+6},toKey:u,toElemKey:d}}function hn({transform:e,styleId:t,exportButtons:n,exportChart:r}){if(!n)return null;let a=0;const s=[];return!0!==n&&!1===n.svg||(a+=26,s.push(u.a.createElement("g",{key:"svg",className:`exportButton-${t}`,onClick:r,"data-type":"svg",transform:`translate(-${a}, 0)`},u.a.createElement("title",null,"Download SVG Image"),u.a.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),u.a.createElement("text",{className:`exportTextStyle-${t}`,x:13},"SVG"))),a+=2),!0!==n&&!1===n.png||(a+=26,s.push(u.a.createElement("g",{key:"png",className:`exportButton-${t}`,onClick:r,"data-type":"png",transform:`translate(-${a}, 0)`},u.a.createElement("title",null,"Download PNG Image"),u.a.createElement("rect",{y:-9,width:26,height:11,rx:2,ry:2}),u.a.createElement("text",{className:`exportTextStyle-${t}`,x:13},"PNG"))),a+=2),!0!==n&&!1===n.vega||(a+=34,s.push(u.a.createElement("g",{key:"vega",className:`exportButton-${t}`,onClick:r,"data-type":"vega",transform:`translate(-${a}, 0)`},u.a.createElement("title",null,"Download VEGA-Lite Specification"),u.a.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),u.a.createElement("text",{className:`exportTextStyle-${t}`,x:17},"VEGA"))),a+=2),!0!==n&&!1===n.dump||(a+=34,s.push(u.a.createElement("g",{key:"dump",className:`exportButton-${t}`,onClick:r,"data-type":"dump",transform:`translate(-${a}, 0)`},u.a.createElement("title",null,"Download UpSet.js JSON Dump"),u.a.createElement("rect",{y:-9,width:34,height:11,rx:2,ry:2}),u.a.createElement("text",{className:`exportTextStyle-${t}`,x:17},"DUMP"))),a+=2),!0!==n&&!1===n.share||(a+=42,s.push(u.a.createElement("g",{key:"share",className:`exportButton-${t}`,onClick:r,"data-type":"share",transform:`translate(-${a}, 0)`},u.a.createElement("title",null,"Open a shareable URL"),u.a.createElement("rect",{y:-9,width:42,height:11,rx:2,ry:2}),u.a.createElement("text",{className:`exportTextStyle-${t}`,x:21},"SHARE"))),a+=2),u.a.createElement("g",{className:`exportButtons-${t}`,transform:e},s)}var gn=u.a.memo((function({queries:e,x:t,style:n,data:r}){return u.a.createElement("text",{transform:`translate(${t},4)`,style:n.styles.legend,className:an(`legendTextStyle-${n.id}`,n.classNames.legend)},e.map(((e,t)=>{let n=null;return b(e)?n=e.set.cardinality:g(e)&&(n=e.elems instanceof Set?e.elems.size:e.elems.length),u.a.createElement(u.a.Fragment,{key:e.name},u.a.createElement("tspan",{className:`fillQ${t}-${r.id}`},"  \u2b24 "),u.a.createElement("tspan",null,e.name,null!=n?`: ${r.sets.format(n)}`:""))})))}));const xn=u.a.memo((function({pos:e,spacing:t,tickSizeInner:n,orient:r,name:a,style:s}){const l="top"===r||"left"===r?-1:1;return u.a.createElement("g",{transform:`translate(0, ${e+.5})`},a&&u.a.createElement("text",{x:l*t,dy:"0.32em",className:an(`axisTextStyle-${s.id}`,"right"===r?`startText-${s.id}`:`endText-${s.id}`,s.classNames.axisTick),style:s.styles.axisTick},a),u.a.createElement("line",{x2:l*n,className:`axisLine-${s.id}`}))})),bn=u.a.memo((function({pos:e,name:t,spacing:n,orient:r,tickSizeInner:a,style:s}){const l="top"===r||"left"===r?-1:1;return u.a.createElement("g",{transform:`translate(${e+.5}, 0)`},t&&u.a.createElement("text",{y:l*n,dy:"top"===r?"0em":"0.71em",className:an(`axisTextStyle-${s.id}`,s.classNames.axisTick),style:s.styles.axisTick},t),u.a.createElement("line",{y2:l*a,className:`axisLine-${s.id}`}))}));function vn({scale:e,orient:t,tickSizeInner:n=6,tickSizeOuter:r=6,tickPadding:a=3,size:s,start:l,style:o,transform:i}){const c=Math.max(n,0)+a,d=l,m=s,f="top"===t||"left"===t?-1:1,y="left"===t||"right"===t?xn:bn,p=e.ticks().map((e=>"number"==typeof e?{value:e,label:String(e)}:e));return u.a.createElement("g",{transform:i},p.map((r=>u.a.createElement(y,{key:r.value,pos:e(r.value),name:r.label,spacing:c,tickSizeInner:n,orient:t,style:o}))),u.a.createElement("path",{className:`axisLine-${o.id}`,d:"left"===t||"right"===t?r?`M${f*r},${d}H0.5V${m}H${f*r}`:`M0.5,${d}V${m}`:r?`M${d},${f*r}V0.5H${m}V${f*r}`:`M${d},0.5H${m}`}))}const $n=u.a.memo((function({width:e,text:t,dy:n,x:r,style:a,className:s}){const l=Object(c.useRef)(null),[o,i]=Object(c.useState)("string"==typeof t?[t]:[]);return Object(c.useLayoutEffect)((()=>{i("string"==typeof t?[t]:[])}),[t]),Object(c.useLayoutEffect)((()=>{if(!l.current||l.current.childElementCount>0||"string"!=typeof t)return;const n=l.current.getComputedTextLength(),r=[];let a=e,s=0;const o=l.current.getStartPositionOfChar(0);for(;n>a;){o.x=a;const n=l.current.getCharNumAtPosition(o),i=t.lastIndexOf(" ",n);if(i<s)break;r.push(t.slice(s,i+1));s=i+1,a=l.current.getEndPositionOfChar(i+1).x+e}r.push(t.slice(s)),i(r)}),[l,t,e]),t?u.a.createElement("tspan",{ref:l,dy:n,style:a,x:r,className:s},o.length>1?o.map(((e,t)=>u.a.createElement("tspan",{key:e,x:0,dy:t>0?"1.2em":n},e))):t):null}));var wn=u.a.memo((function({width:e,descriptionWidth:t=e,style:n}){return n.title||n.description?u.a.createElement("text",null,u.a.createElement($n,{text:n.title,width:e,dy:"10px",className:an(`titleTextStyle-${n.id}`,n.classNames.title),style:n.styles.title}),u.a.createElement($n,{x:0,width:t,dy:n.title?"2em":"10px",text:n.description,className:an(`descTextStyle-${n.id}`,n.classNames.description),style:n.styles.description})):null}));function Sn(){}function En(e){return e?(t,n)=>function(r){return e.call(this,t,r.nativeEvent,n.map((e=>e.createOnHandlerData?e.createOnHandlerData(t):null)))}:Sn}function kn(e,t){let n=0,r=0;return a=>{let s=0;return"before"===a.position?(n+=a.size+t,s=-n):(s=e+r+t,r+=a.size+t),s}}function Cn(e,t,n="fill"){return t?e?Object.assign({[n]:t},e):t?{[n]:t}:void 0:e}var On=u.a.memo((function({size:e,style:t,data:n}){const r=kn(e.sets.w+e.labels.w+e.cs.w,e.sets.addonPadding),a=kn(e.cs.h+e.sets.h,e.cs.addonPadding),s="auto"===t.cs.offset?n.cs.labelOffset:t.cs.offset,l="auto"===t.sets.offset?n.sets.labelOffset:t.sets.offset;return u.a.createElement("g",null,u.a.createElement(wn,{style:t,width:e.cs.x-s-20}),u.a.createElement("g",{transform:`translate(${e.cs.x},${e.cs.y})`,"data-upset":"csaxis"},u.a.createElement(vn,{scale:n.cs.y,orient:"left",size:e.cs.h,start:e.cs.h-n.cs.yAxisWidth,style:t}),u.a.createElement("line",{x1:0,x2:e.cs.w,y1:e.cs.h+1,y2:e.cs.h+1,className:`axisLine-${t.id}`}),u.a.createElement("text",{className:an(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-s}, ${e.cs.h/2})rotate(-90)`},t.cs.name),e.cs.addons.map((e=>{const n=a(e),r=u.a.createElement("text",{key:e.name,className:an(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-s}, ${n+e.size/2})rotate(-90)`},e.name);return e.scale?u.a.createElement(u.a.Fragment,{key:e.name},u.a.createElement(vn,{scale:e.scale,orient:"left",size:e.size,start:0,style:t,transform:`translate(0,${n})`}),r):r}))),u.a.createElement("g",{transform:`translate(${e.sets.x},${e.sets.y})`,"data-upset":"setaxis"},u.a.createElement(vn,{scale:n.sets.x,orient:"bottom",size:e.sets.w,start:e.sets.w-n.sets.xAxisWidth,transform:`translate(0, ${e.sets.h})`,style:t}),u.a.createElement("text",{className:an(`sChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${e.sets.w/2}, ${e.sets.h+l})`},t.sets.name),e.sets.addons.map((n=>{const a=r(n),s=u.a.createElement("text",{key:n.name,className:an(`sChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${a+n.size/2}, ${e.sets.h+l})`},n.name);return n.scale?u.a.createElement(u.a.Fragment,{key:n.name},u.a.createElement(vn,{scale:n.scale,orient:"bottom",size:n.size,start:0,transform:`translate(${a}, ${e.sets.h})`,style:t}),s):s}))))}));var Mn=u.a.memo((function({cx:e,r:t,cy:n,name:r,className:a,style:s,fill:l}){return u.a.createElement("circle",{r:t,cx:e,cy:n,className:a,style:Cn(s,l)},r&&u.a.createElement("title",null,r))}));function Nn(e,t,n){const r=[n(e)];for(let a=0;a<He.length&&e>t;a++)e-=t,r.push(n(e));return r}var An=u.a.memo((function({d:e,h:t,className:n,data:r,size:a,style:s,children:l}){const o=Nn(e.cardinality,r.cs.max,r.cs.y),i=kn(a.cs.h+a.sets.h,a.cs.addonPadding);return u.a.createElement("g",{transform:`translate(${r.cs.x(e)}, 0)`,onMouseEnter:t.onMouseEnter(e,a.cs.addons),onMouseLeave:t.onMouseLeave,onClick:t.onClick(e,a.cs.addons),onContextMenu:t.onContextMenu(e,a.cs.addons),onMouseMove:t.onMouseMove(e,a.cs.addons),className:n,"data-cardinality":e.cardinality},s.tooltips&&u.a.createElement("title",null,e.name,": ",r.cs.format(e.cardinality)),u.a.createElement("rect",{y:-a.cs.before,width:r.cs.bandWidth,height:a.sets.h+a.cs.h+a.cs.before+a.cs.after,className:`hoverBar-${s.id}`}),o.map(((t,n)=>{const l=n>0?Math.floor(r.cs.bandWidth*He[n-1]):0;return u.a.createElement("rect",{key:n,x:l,y:t,height:a.cs.h-t,width:r.cs.bandWidth-2*l,className:an(`fillPrimary-${s.id}`,n<o.length-1&&`fillOverflow${o.length-1-n}-${s.id}`,s.classNames.bar),style:Cn(s.styles.bar,e.color)})})),u.a.createElement("text",{y:o[0]-s.barLabelOffset,x:r.cs.bandWidth/2,style:s.styles.barLabel,className:an(`cBarTextStyle-${s.id}`,s.classNames.barLabel)},r.cs.format(e.cardinality)),u.a.createElement("text",{y:-s.barLabelOffset-a.cs.before,x:r.cs.bandWidth/2,style:s.styles.barLabel,className:an(`hoverBarTextStyle-${s.id}`,s.classNames.barLabel)},e.name),r.sets.v.map(((t,n)=>r.cs.has(e,t)?null:u.a.createElement(Mn,{key:r.sets.keys[n],r:r.r,cx:r.cs.cx,cy:r.sets.y(t)+r.sets.cy,name:s.tooltips?e.name:"",style:s.styles.dot,fill:void 0,className:an(`fillNotMember-${s.id}`,s.classNames.dot)}))),e.sets.size>1&&u.a.createElement("line",{x1:r.cs.cx,y1:r.sets.y(r.sets.v.find((t=>r.cs.has(e,t))))+r.sets.cy-(r.r-1),x2:r.cs.cx,y2:r.sets.y(r.sets.rv.find((t=>r.cs.has(e,t))))+r.sets.cy+(r.r-1),style:e.color?{stroke:e.color}:void 0,className:`upsetLine-${r.id}`}),r.sets.v.map(((t,n)=>{var a;return r.cs.has(e,t)?u.a.createElement(Mn,{key:r.sets.keys[n],r:r.r,cx:r.cs.cx,cy:r.sets.y(t)+r.sets.cy,name:s.tooltips?t.name:"",style:s.styles.dot,fill:null!==(a=t.color)&&void 0!==a?a:e.color,className:an(`fillPrimary-${s.id}`,s.classNames.dot)}):null})),a.cs.addons.map((t=>u.a.createElement("g",{key:t.name,transform:`translate(0,${i(t)})`},t.render({set:e,width:r.cs.bandWidth,height:t.size,theme:s.theme})))),l)}));var Ln=u.a.memo((function({d:e,i:t,h:n,className:r,size:a,data:s,style:l,children:o}){const i=Nn(e.cardinality,s.sets.max,s.sets.x),c=kn(a.sets.w+a.labels.w+a.cs.w,a.sets.addonPadding),d="center"===l.setLabelAlignment?a.labels.w/2:"left"===l.setLabelAlignment?2:a.labels.w-2;return u.a.createElement("g",{transform:`translate(0, ${s.sets.y(e)})`,onMouseEnter:n.onMouseEnter(e,a.sets.addons),onMouseLeave:n.onMouseLeave,onClick:n.onClick(e,a.sets.addons),onContextMenu:n.onContextMenu(e,a.sets.addons),onMouseMove:n.onMouseMove(e,a.sets.addons),className:r,"data-cardinality":e.cardinality},l.tooltips&&u.a.createElement("title",null,e.name,": ",s.sets.format(e.cardinality)),u.a.createElement("rect",{x:-a.sets.before,width:a.sets.w+a.labels.w+a.cs.w+a.sets.after,height:s.sets.bandWidth,className:`hoverBar-${l.id}`}),t%2==1&&u.a.createElement("rect",{x:a.sets.w,width:a.labels.w+a.cs.w+a.sets.after,height:s.sets.bandWidth,className:`fillAlternating-${l.id}`}),i.map(((t,n)=>{const r=n>0?Math.floor(s.sets.bandWidth*He[n-1]):0;return u.a.createElement("rect",{key:n,x:t,y:r,width:a.sets.w-t,height:s.sets.bandWidth-2*r,className:an(`fillPrimary-${l.id}`,n<i.length-1&&`fillOverflow${i.length-1-n}-${l.id}`,l.classNames.bar),style:Cn(l.styles.bar,e.color)})})),u.a.createElement("text",{x:i[0],dx:-l.barLabelOffset,y:s.sets.bandWidth/2,style:l.styles.barLabel,className:an(`sBarTextStyle-${l.id}`,l.classNames.barLabel)},s.sets.format(e.cardinality)),u.a.createElement("text",{x:a.sets.w+d,y:s.sets.bandWidth/2,className:an(`setTextStyle-${l.id}`,l.classNames.setLabel),style:l.styles.setLabel,clipPath:`url(#clip-${a.id})`},e.name),a.sets.addons.map((t=>u.a.createElement("g",{key:t.name,transform:`translate(${c(t)},0)`},t.render({set:e,width:t.size,height:s.sets.bandWidth,theme:l.theme})))),o)}));var jn=u.a.memo((function({data:e,size:t,style:n,h:r,setChildrenFactory:a,combinationChildrenFactory:s}){return u.a.createElement("g",{className:r.hasClick?`clickAble-${n.id}`:void 0},u.a.createElement("g",{transform:`translate(${t.sets.x},${t.sets.y})`,"data-upset":"sets"},e.sets.v.map(((s,l)=>u.a.createElement(Ln,{key:e.sets.keys[l],d:s,i:l,h:r,className:r.hasClick||r.hasHover?`interactive-${n.id}`:void 0,data:e,style:n,size:t},a&&a(s))))),u.a.createElement("g",{transform:`translate(${t.cs.x},${t.cs.y})`,"data-upset":"cs"},e.cs.v.map(((a,l)=>u.a.createElement(An,{key:e.cs.keys[l],d:a,h:r,className:r.hasClick||r.hasHover?`interactive-${n.id}`:void 0,data:e,style:n,size:t},s&&s(a))))))}));var qn=function({data:e,size:t,style:n,elemOverlap:r,secondary:a,tooltip:s,suffix:l,transform:o,empty:i,combinationAddons:c}){const d=e.cs.bandWidth,m=t.cs.h+t.sets.h,f=t.cs.h,y=an(`fill${l}`,!s&&`pnone-${n.id}`,n.classNames.bar);return u.a.createElement("g",{transform:o,"data-upset":a?"cs-q":"cs-s"},e.cs.v.map(((l,o)=>{const p=e.cs.x(l),h=e.cs.keys[o];if(i&&!a)return u.a.createElement("rect",{key:h,x:p,y:f,height:0,width:d,className:y,style:Cn(n.styles.bar,n.selectionColor?void 0:l.color)},s&&u.a.createElement("title",null));const g=r(l);if(0===g)return null;const x=Nn(g,e.cs.max,e.cs.y),b=s&&u.a.createElement("title",null,`${l.name} \u2229 ${s}: ${g}`),v=a?u.a.createElement("path",{key:h,transform:`translate(${p}, ${x[0]})`,d:`M0,-1 l${d},0 l0,2 l${-d},0 L-${e.triangleSize},-${e.triangleSize} L-${e.triangleSize},${e.triangleSize} Z`,className:y,"data-i":o,"data-cardinality":g,style:Cn(void 0,n.selectionColor?void 0:l.color)},b):x.map(((t,r)=>{const a=r>0?Math.floor(e.cs.bandWidth*He[r-1]):0;return u.a.createElement("rect",{key:r,x:p+a,y:t,height:f-t,width:d-2*a,"data-i":r>0?null:o,"data-cardinality":r>0?null:g,className:an(y,r<x.length-1&&`fillOverflow${x.length-1-r}-${n.id}`),style:Cn(n.styles.bar,n.selectionColor?void 0:l.color)},b)})),$=kn(m,t.cs.addonPadding),w=c.map((e=>{const t=$(e),r=e.render({set:l,width:d,height:e.size,theme:n.theme});return r?u.a.createElement("g",{key:e.name,transform:`translate(${p},${t})`},r):null})).filter(Boolean);return 0===w.length?v:u.a.createElement("g",{key:h},v,w)})))};var zn=function({data:e,size:t,style:n,elemOverlap:r,suffix:a,secondary:s,empty:l,tooltip:o,setAddons:i,transform:c}){const d=t.sets.w,m=t.sets.w+t.labels.w+t.cs.w,f=e.sets.bandWidth,y=an(`fill${a}`,!o&&` pnone-${n.id}`,n.classNames.bar);return u.a.createElement("g",{transform:c,"data-upset":s?"sets-q":"sets-s"},e.sets.v.map(((a,c)=>{const p=e.sets.y(a),h=e.sets.keys[c];if(l&&!s)return u.a.createElement("rect",{key:h,x:d,y:p,width:0,height:f,className:y,style:Cn(n.styles.bar,n.selectionColor?void 0:a.color)},n.tooltips&&o&&u.a.createElement("title",null));const g=r(a);if(0===g)return null;const x=Nn(g,e.sets.max,e.sets.x),b=n.tooltips&&o&&u.a.createElement("title",null,`${a.name} \u2229 ${o}: ${g}`),v=s?u.a.createElement("path",{key:h,transform:`translate(${x[0]}, ${p+f})`,d:`M1,0 l0,${-f} l-2,0 l0,${f} L-${e.triangleSize},${e.triangleSize} L${e.triangleSize},${e.triangleSize} Z`,"data-i":c,"data-cardinality":g,className:y,style:Cn(void 0,n.selectionColor?void 0:a.color)},b):x.map(((t,r)=>{const s=r>0?Math.floor(e.sets.bandWidth*He[r-1]):0;return u.a.createElement("rect",{key:r,"data-i":r>0?null:c,"data-cardinality":r>0?null:g,x:t,y:p+s,width:d-t,height:f-2*s,className:an(y,r<x.length-1&&`fillOverflow${x.length-1-r}-${n.id}`),style:Cn(n.styles.bar,n.selectionColor?void 0:a.color)},b)})),$=kn(m,t.sets.addonPadding),w=i.map((e=>{const t=$(e),r=e.render({set:a,width:e.size,height:f,theme:n.theme});return r?u.a.createElement("g",{key:e.name,transform:`translate(${t},${p})`},r):null})).filter(Boolean);return 0===w.length?v:u.a.createElement("g",{key:h},v,w)})))};const In=[];var _n=u.a.memo((function({size:e,data:t,style:n,hasHover:r,secondary:a,queries:s}){const l=e.sets.addons.some((e=>null!=e.renderQuery))||e.cs.addons.some((e=>null!=e.renderQuery)),o=Object(c.useMemo)((()=>s.map((e=>Object.assign(Object.assign({},e),{overlap:v(e,"intersection",t.toElemKey),elemOverlap:l?$(e,"intersection",t.toElemKey):null})))),[s,l,t.toElemKey]);function i(e,t,n,r,a){return Object.assign(Object.assign({},e),{render:s=>{const l=r(s.set);return e.renderQuery?e.renderQuery(Object.assign({query:t,overlap:l,index:n,secondary:a},s)):null}})}return u.a.createElement("g",{className:r&&!a?`pnone-${n.id}`:void 0},u.a.createElement("g",{transform:`translate(${e.sets.x},${e.sets.y})`},o.map(((s,l)=>u.a.createElement(zn,{key:s.name,data:t,size:e,style:n,elemOverlap:s.overlap,suffix:`Q${l}-${t.id}`,secondary:a||l>0,tooltip:r&&!(a||l>0)?void 0:s.name,setAddons:0===e.sets.addons.length?In:e.sets.addons.map(((e,t)=>i(e,s,t,s.elemOverlap,a||t>0)))})))),u.a.createElement("g",{transform:`translate(${e.cs.x},${e.cs.y})`},o.map(((s,l)=>u.a.createElement(qn,{key:s.name,data:t,size:e,style:n,elemOverlap:s.overlap,suffix:`Q${l}-${t.id}`,secondary:a||l>0,tooltip:r&&!(a||l>0)?void 0:s.name,combinationAddons:0===e.cs.addons.length?In:e.cs.addons.map(((e,t)=>i(e,s,t,s.elemOverlap,a||t>0)))})))))}));function Tn({data:e,size:t,style:n,selection:r}){if(!r||"set"!==r.type||!e.sets.keys.includes(e.toKey(r)))return null;const a=r;return u.a.createElement("rect",{y:e.sets.y(a),width:t.labels.w+t.cs.w+t.sets.after,height:e.sets.bandWidth,className:`selectionHint-${n.id}`})}var Bn=function({data:e,size:t,style:n,selection:r}){const a=e.sets.bandWidth/2,s=e.cs.cx,l=e.r,o=t.sets.h+t.sets.after,i=e.cs.bandWidth;if(!r||"set"===r.type||!e.cs)return null;const c=r,d=e.cs.keys.indexOf(e.toKey(c));return d<0?null:u.a.createElement("g",{transform:`translate(${t.labels.w+e.cs.x(c)}, 0)`,"data-upset":"cs-ss","data-i":d},u.a.createElement("rect",{width:i,height:o,className:`selectionHint-${n.id}`}),c.sets.size>1&&u.a.createElement("line",{x1:s,y1:e.sets.y(e.sets.v.find((t=>e.cs.has(c,t))))+a-(e.r-1),x2:s,y2:e.sets.y(e.sets.rv.find((t=>e.cs.has(c,t))))+a+(e.r-1),className:`upsetSelectionLine-${e.id}`,style:Cn(void 0,n.selectionColor?void 0:c.color,"stroke")}),e.sets.v.filter((t=>e.cs.has(c,t))).map((t=>u.a.createElement(Mn,{key:e.toKey(t),r:1.1*l,cx:s,cy:e.sets.y(t)+a,name:n.tooltips?t.name:"",className:an(`fillSelection-${n.id}`,`pnone-${n.id}`,n.classNames.dot),style:Cn(n.styles.dot,n.selectionColor?void 0:t.color)}))))};const Fn=[];function Kn({size:e,data:t,style:n,selection:r,hasHover:a}){const s=n.emptySelection,l=cn(r,t.toElemKey),o=un(r),i=e.sets.addons.some((e=>null!=e.renderSelection))||e.cs.addons.some((e=>null!=e.renderSelection)),c=r&&"function"!=typeof r&&i?function(e,t){const n=y(e,t);return e=>n(e.elems).intersection}(Array.isArray(r)?r:r.elems,t.toElemKey):null;function d(e){return Object.assign(Object.assign({},e),{render:t=>{const a=c?c(t.set):null;return e.renderSelection?e.renderSelection(Object.assign({selection:r,selectionColor:n.selectionColor||t.set.color||"orange",overlap:a},t)):null}})}return u.a.createElement("g",{className:a?`pnone-${n.id}`:void 0},(r||s)&&u.a.createElement(qn,{data:t,size:e,style:n,transform:`translate(${e.cs.x},${e.cs.y})`,empty:s&&!r,elemOverlap:l,suffix:`Selection-${n.id}`,tooltip:a?void 0:o,combinationAddons:0===e.cs.addons.length?Fn:e.cs.addons.map(d)}),(r||s)&&u.a.createElement(zn,{data:t,size:e,style:n,transform:`translate(${e.sets.x},${e.sets.y})`,empty:s&&!r,elemOverlap:l,suffix:`Selection-${n.id}`,tooltip:a?void 0:o,setAddons:0===e.sets.addons.length?Fn:e.sets.addons.map(d)}),u.a.createElement("g",{transform:`translate(${e.labels.x},${e.labels.y})`},ln(r)&&u.a.createElement(Tn,{data:t,size:e,style:n,selection:r}),ln(r)&&u.a.createElement(Bn,{data:t,size:e,style:n,selection:r})))}function Hn(e,t="font-size"){return e?`${t}: ${e};`:""}function Pn(e,t,n,r){const a=[];t.hasSelectionColor&&a.push(`fill: ${t.hasSelectionColor};`);const s=null!=t.hasSelectionOpacity&&t.hasSelectionOpacity>=0;return s&&a.push(`fill-opacity: ${t.hasSelectionOpacity};`),{p:Hn,root:`\n  .root-${e} {\n    ${Hn(n,"font-family")}\n  }\n  `,text:`\n  .titleTextStyle-${e} {\n    fill: ${t.textColor};\n    ${Hn(r.title)}\n  }\n  .descTextStyle-${e} {\n    fill: ${t.textColor};\n    ${Hn(r.description)}\n  }\n\n  .legendTextStyle-${e} {\n    fill: ${t.textColor};\n    ${Hn(r.legend)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n    pointer-events: none;\n  }\n  `,hasSFill:a.join(" "),hasSStroke:a.join(" ").replace("fill:","stroke:").replace("fill-","stroke-"),fill:`\n  .fillPrimary-${e} { fill: ${t.color}; fill-opacity: ${t.opacity}; }\n  .fillOverflow1-${e} { fill-opacity: ${t.opacity*Ke[0]}; }\n  .fillOverflow2-${e} { fill-opacity: ${t.opacity*Ke[1]}; }\n  ${a.length>0?`.root-${e}[data-selection] .fillPrimary-${e} { ${a.join(" ")} }`:""}\n  ${s?`\n      .root-${e}[data-selection] .fillOverflow1-${e} { fill-opacity: ${t.opacity*Ke[0]}; }\n      .root-${e}[data-selection] .fillOverflow2-${e} { fill-opacity: ${t.opacity*Ke[1]}; }`:""}\n  ${t.selectionColor?`.fillSelection-${e} { fill: ${t.selectionColor}; }`:""}\n  .fillTransparent-${e} { fill: transparent; }\n\n  .selectionHint-${e} {\n    fill: transparent;\n    pointer-events: none;\n    ${Hn(t.selectionColor,"stroke")}\n  }\n  .clickAble-${e} {\n    cursor: pointer;\n  }\n\n  .startText-${e} {\n    text-anchor: start;\n  }\n  .endText-${e} {\n    text-anchor: end;\n  }\n  .pnone-${e} {\n    pointer-events: none;\n  }`,export:`\n  .exportTextStyle-${e} {\n    fill: ${t.textColor};\n    ${Hn(r.exportLabel)}\n  }\n  .exportButtons-${e} {\n    text-anchor: middle;\n  }\n  .exportButton-${e} {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  .exportButton-${e}:hover {\n    opacity: 1;\n  }\n  .exportButton-${e} > rect {\n    fill: none;\n    stroke: ${t.textColor};\n  }\n  `}}function Rn(e){const t=e.onClick;return Object(c.useMemo)((()=>({hasClick:null!=t,hasHover:null!=e.onHover,onClick:En(t),onMouseEnter:En(e.onHover),onContextMenu:En(e.onContextMenu),onMouseLeave:e.onHover?t=>e.onHover(null,t.nativeEvent,[]):void 0,onMouseMove:En(e.onMouseMove),reset:e=>t?t(null,e.nativeEvent,[]):null})),[t,e.onHover,e.onContextMenu,e.onMouseMove])}var Dn=u.a.forwardRef((function(e,t){var n;const r=at(e),{selection:a=null,queries:s=[],fontSizes:l}=r,o=Object(c.useMemo)((()=>r.id?r.id:sn((r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity))),[r.id,r.fontFamily,l.axisTick,l.barLabel,l.chartLabel,l.legend,l.setLabel,l.title,l.exportLabel,l.description,r.textColor,r.hoverHintColor,r.color,r.hasSelectionColor,r.selectionColor,r.notMemberColor,r.alternatingBackgroundColor,r.opacity,r.hasSelectionOpacity]),i=Object(c.useMemo)((()=>function(e,t,n,r,a,s,l,o,i,c,u,d,m,f,y){return{theme:e,styles:t,classNames:n,cs:{name:r,offset:a},sets:{name:s,offset:l},emptySelection:u,id:o,barLabelOffset:i,selectionColor:c,title:d,description:m,tooltips:f,setLabelAlignment:y}}(r.theme,r.styles,r.classNames,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,o,r.barLabelOffset,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment)),[r.theme,r.styles,r.classNames,r.barLabelOffset,r.combinationName,r.combinationNameAxisOffset,r.setName,r.setNameAxisOffset,o,r.selectionColor,r.emptySelection,r.title,r.description,r.tooltips,r.setLabelAlignment]),d=Object(c.useMemo)((()=>function(e,t,n,r,a,s,l,o,i,c,u){const d=l.reduce(((e,t)=>e+("before"===t.position?t.size+c:0)),0),m=l.reduce(((e,t)=>e+("before"!==t.position?t.size+c:0)),0),f=o.reduce(((e,t)=>e+("before"===t.position?t.size+c:0)),0),y=o.reduce(((e,t)=>e+("before"!==t.position?t.size+c:0)),0),p=t-2*n-20-y-f,h=e-2*n-d-m,g=a[0]>1?a[0]:h*a[0],x=a[1]>1?a[1]:h*a[1],b=s[0]>1?s[0]:p*s[0];return{id:i||sn(),cs:{before:f,after:y,x:d+g+x,y:f,w:h-g-x,h:b,addons:o,addonPadding:u},labels:{x:d+g,y:f+b,w:x,h:p-b},sets:{before:d,after:m,x:d,y:f+b,w:g,h:p-b,addons:l,addonPadding:c},padding:r,legend:{x:e/2},margin:n,w:e,h:t}}(r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding)),[r.width,r.height,r.padding,r.barPadding,r.widthRatios,r.heightRatios,r.setAddons,r.combinationAddons,r.id,r.setAddonPadding,r.combinationAddonPadding]),m=Object(c.useMemo)((()=>pn(r.sets,r.combinations,d,r.numericScale,r.bandScale,r.barLabelOffset+mn(l.barLabel),r.dotPadding,r.barPadding,mn(l.axisTick),r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale)),[r.sets,r.combinations,d,r.numericScale,r.bandScale,r.barLabelOffset,l.barLabel,r.dotPadding,r.barPadding,l.axisTick,r.combinationAddons,r.toKey,r.toElemKey,r.id,r.setMaxScale,r.combinationMaxScale]),f=Pn(o,r,r.fontFamily,l),y=Rn(r),p=`\n  ${f.root}\n  ${f.text}\n\n  .axisTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.axisTick)}\n    text-anchor: middle;\n  }\n  .barTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.barLabel)}\n  }\n  .cBarTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.barLabel)}\n    text-anchor: middle;\n  }\n  .sBarTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.barLabel)}\n    text-anchor: end;\n    dominant-baseline: central;\n  }\n  .hoverBarTextStyle-${o} {\n    ${f.p(l.barLabel)}\n    fill: ${r.hoverHintColor};\n    display: none;\n    text-anchor: middle;\n  }\n  .setTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.setLabel)}\n    text-anchor: ${function(e){var t;return null!==(t={left:"start",center:"middle",right:"end"}[e])&&void 0!==t?t:"middle"}(r.setLabelAlignment)};\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.chartLabel)}\n    text-anchor: middle;\n  }\n  .sChartTextStyle-${o} {\n    fill: ${r.textColor};\n    ${f.p(l.chartLabel)}\n    text-anchor: middle;\n    dominant-baseline: hanging;\n  }\n\n  ${f.fill}\n  .fillNotMember-${o} { fill: ${r.notMemberColor}; }\n  .fillAlternating-${o} { fill: ${r.alternatingBackgroundColor||"transparent"}; }\n\n  .axisLine-${o} {\n    fill: none;\n    stroke: ${r.textColor};\n  }\n  .hoverBar-${o} {\n    fill: transparent;\n  }\n\n  .interactive-${o}:hover > .hoverBar-${o} {\n    stroke: ${r.hoverHintColor};\n  }\n  .interactive-${o}:hover > .hoverBarTextStyle-${o} {\n    display: unset;\n  }\n\n  ${f.export}\n\n  .upsetLine-${m.id} {\n    stroke-width: ${.6*m.r};\n    stroke: ${r.color};\n    stroke-opacity: ${r.opacity};\n  }\n  ${f.hasSStroke?`.root-${o}[data-selection] .upsetLine-${m.id} { ${f.hasSStroke} }`:""}\n\n  .upsetSelectionLine-${m.id} {\n    stroke-width: ${.6*m.r*1.1};\n    ${f.p(r.selectionColor,"stroke")}\n    pointer-events: none;\n  }\n\n  ${s.map(((e,t)=>`.fillQ${t}-${m.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,h=Object(c.useCallback)((t=>{const n=t.currentTarget.closest("svg"),r=t.currentTarget.dataset.type||"png";switch(r){case"vega":Qt(n);break;case"dump":nn(n,e,m);break;case"share":rn(e,m);break;case"svg":case"png":Ut(n,{type:r,toRemove:`.${t.currentTarget.getAttribute("class")}`})}}),[m,e]),g=un(a);return u.a.createElement("svg",{id:r.id,className:an(`root-${o}`,r.className),style:r.style,width:r.width,height:r.height,ref:t,viewBox:`0 0 ${r.width} ${r.height}`,"data-theme":null!==(n=r.theme)&&void 0!==n?n:"light","data-selection":g||void 0},u.a.createElement("style",null,p),u.a.createElement("defs",null,u.a.createElement("clipPath",{id:`clip-${d.id}`},u.a.createElement("rect",{x:d.sets.w,y:0,width:d.labels.w,height:d.sets.h}))),r.queryLegend&&u.a.createElement(gn,{queries:s,x:d.legend.x,style:i,data:m}),u.a.createElement(hn,{transform:`translate(${d.w-2},${d.h-3})`,styleId:o,exportButtons:r.exportButtons,exportChart:h}),u.a.createElement("g",{transform:`translate(${r.padding},${r.padding})`,"data-upset":"base"},r.onClick&&u.a.createElement("rect",{width:d.cs.x,height:d.sets.y,onClick:y.reset,className:`fillTransparent-${o}`}),u.a.createElement(On,{size:d,style:i,data:m}),u.a.createElement(jn,{size:d,style:i,data:m,h:y,setChildrenFactory:r.setChildrenFactory,combinationChildrenFactory:r.combinationChildrenFactory}),u.a.createElement(Kn,{size:d,style:i,data:m,hasHover:y.hasHover,selection:a}),u.a.createElement(_n,{size:d,style:i,data:m,hasHover:y.hasHover,queries:s,secondary:null!=r.onHover||null!=a})),e.children)}));function Wn({rules:e,style:t,size:n,p:r,data:a,tRef:s,children:l,exportChart:o,selectionName:i,h:c}){var d,m;return u.a.createElement("svg",{id:r.id,className:an(`root-${t.id}`,r.className),style:r.style,width:r.width,height:r.height,ref:s,viewBox:`0 0 ${r.width} ${r.height}`,"data-theme":null!==(d=r.theme)&&void 0!==d?d:"light","data-selection":i||void 0},u.a.createElement("style",null,e),r.onClick&&u.a.createElement("rect",{width:n.w,height:n.h,onClick:c.reset,className:`fillTransparent-${t.id}`}),r.queryLegend&&u.a.createElement(gn,{queries:null!==(m=r.queries)&&void 0!==m?m:[],x:n.legend.x,style:t,data:a}),u.a.createElement(hn,{transform:`translate(${n.w-2},${n.h-3})`,styleId:t.id,exportButtons:r.exportButtons,exportChart:o}),u.a.createElement("g",{transform:`translate(${r.padding},${r.padding})`,"data-upset":"base"},l),r.children)}function Un(e){var t;if(e.v>=1||e.v<=0)return null;const n=Math.round(10*e.v)/100;return u.a.createElement("defs",null,u.a.createElement("pattern",{id:e.id,width:"1",height:"0.1",patternContentUnits:"objectBoundingBox",patternTransform:`rotate(${null!==(t=e.rotate)&&void 0!==t?t:0})`},e.bgFilled&&u.a.createElement("rect",{x:"0",y:"0",width:"1",height:"0.1",style:{fill:e.bgFill},className:`fillPrimary-${e.styleId}`}),u.a.createElement("rect",{x:"0",y:"0",width:"1",height:n,className:`fill${e.suffix}`,style:e.fill?{fill:e.fill}:void 0})))}function Vn({slice:e,d:t,i:n,data:r,style:a,elemOverlap:s,selected:l,selectionName:o,h:i,queries:c,size:d,fill:m,qs:f}){const y=function(e,t,n=0){return e.path?e.path:`M ${e.x1-n},${e.y1-n} ${e.arcs.map((e=>{const r=t[e.ref].l,a=Qe(r)?r.rx:r.r,s=Qe(r)?r.ry:r.r,l=Qe(r)?r.rotation:0;return`A ${a-n} ${s-n} ${l} ${e.large?1:0} ${e.sweep?1:0} ${e.x2-n} ${e.y2-n}`})).join(" ")}`}(e,r.sets.d),p=function(e,t){return e.text.x===t.cx?0:e.text.x>t.cx?e.text.y<=t.cy?60:-60:e.text.y<=t.cy?-60:60}(e,d.area),h=s?s(t):0,g=h===t.cardinality&&t.cardinality>0||l,x=an(`arc-${a.id}`,0===h&&!l&&`${m?"fillPrimary":"arcP"}-${a.id}`,g&&`fillSelection-${a.id}`,a.classNames.set),b=`upset-${a.id}-${n}`,v=null!=s||null!=i.onMouseLeave,$=f.map((e=>e(t))),{title:w,tooltip:S}=function(e,t,n,r,a,s,l,o){const i=l.format(e.cardinality),c=n?`${e.name} \u2229 ${n}`:e.name,d=n?`${l.format(t)}/${i}`:i;if(0===a.length)return{tooltip:`${c}: ${d}`,title:"set"===e.type?u.a.createElement(u.a.Fragment,null,u.a.createElement("tspan",{dy:"-0.6em"},e.name),u.a.createElement("tspan",{x:o,dy:"1.2em"},d)):d};if(1===a.length&&!r&&!n)return{tooltip:`${e.name} \u2229 ${s[0].name}: ${l.format(a[0])}/${i}`,title:"set"===e.type?u.a.createElement(u.a.Fragment,null,u.a.createElement("tspan",{dy:"-0.6em"},e.name),u.a.createElement("tspan",{x:o,dy:"1.2em"},`${l.format(a[0])}/${i}`)):`${l.format(a[0])}/${i}`};const m=u.a.createElement("tspan",{x:o,dy:"1.2em"},s.map(((e,t)=>u.a.createElement(u.a.Fragment,{key:e.name},u.a.createElement("tspan",{className:`fillQ${t}-${l.id}`},"\u2b24"),u.a.createElement("tspan",null,` ${l.format(a[t])}/${i}${t<s.length-1?" ":""}`)))));return{tooltip:`${c}: ${d}\n${s.map(((t,n)=>`${e.name} \u2229 ${t.name}: ${l.format(a[n])}/${i}`)).join("\n")}`,title:"set"===e.type?u.a.createElement(u.a.Fragment,null,u.a.createElement("tspan",{dy:"-1.2em"},e.name),u.a.createElement("tspan",{x:o,dy:"1.2em"},d),m):u.a.createElement(u.a.Fragment,null,u.a.createElement("tspan",{dy:"-0.6em"},d),m)}}(t,h,o,v,$,c,r,e.text.x);return u.a.createElement("g",null,u.a.createElement(Un,{id:b,v:0===h?0:h/t.cardinality,suffix:`Selection-${a.id}`,rotate:p,bgFill:t.color,bgFilled:null!=t.color||m,fill:a.selectionColor?void 0:t.color,styleId:a.id}),u.a.createElement("path",{onMouseEnter:i.onMouseEnter(t,[]),onMouseLeave:i.onMouseLeave,onClick:i.onClick(t,[]),onContextMenu:i.onContextMenu(t,[]),onMouseMove:i.onMouseMove(t,[]),d:y,className:x,style:Cn(a.styles.set,h>0&&h<t.cardinality?`url(#${b})`:g&&a.selectionColor?void 0:t.color)},a.tooltips&&u.a.createElement("title",null,S)),u.a.createElement("text",{x:e.text.x,y:e.text.y,className:an(`${"set"===t.type?"set":"value"}TextStyle-${a.id}`,`pnone-${a.id}`)},w))}function Qn(e,t,n,r,a,s,l,o){const i=e.length>r.maxSets?e.slice(0,r.maxSets):e,{cs:c,setKeys:u,csKeys:d}=function(e,t,n,r={min:1}){const a=e.map(t);let s=[];if(yn(n)){const a=new Map(n.map((e=>[Array.from(e.sets).map(t).sort().join("#"),e])));s=U(e.map((e=>({type:"set",cardinality:0,elems:[],name:e.name,s:e}))),Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},r)).map((e=>{const n=Array.from(e.sets).map((e=>t(e.s))).sort().join("#");return a.has(n)?a.get(n):{name:e.name,cardinality:0,degree:e.degree,elems:[],sets:new Set(Array.from(e.sets).map((e=>e.s))),type:"distinctIntersection"}}))}else s=U(e,Object.assign({type:"distinctIntersection",empty:!0,order:["degree:asc","group:asc"]},r,null!=n?n:{}));const l=s.map(t);return{cs:s,setKeys:a,csKeys:l}}(i,s,t),m=r.compute(i,c,n.area.w,n.area.h);return{id:o||sn(),sets:{d:m.sets.map(((e,t)=>({v:i[t],l:e,key:u[t]}))),v:i,format:a},format:a,cs:{d:m.intersections.map(((e,t)=>({v:c[t],l:e,key:d[t]}))),v:c,has:(e,t)=>{const n=s(t);return Array.from(e.sets).some((e=>s(e)===n))}},toKey:s,toElemKey:l}}function Jn(e,t,n,r){const a=t-2*n,s=e-2*n,l=Math.min(s,a)/2;return{id:r||sn(),legend:{x:e/2},area:{w:s,h:a,cx:s/2,cy:a/2,r:l},margin:n,w:e,h:t}}function Gn(e,t,n){return Object(c.useCallback)((r=>{const a=r.currentTarget.closest("svg"),s=r.currentTarget.dataset.type||"png";switch(s){case"dump":nn(a,t,e,n);break;case"share":rn(t,e,n);break;case"svg":case"png":Ut(a,{type:s,toRemove:`.${r.currentTarget.getAttribute("class")}`})}}),[e,t,n])}var Yn=u.a.forwardRef((function(e,t){const n=lt(e),{selection:r=null,queries:a=[],fontSizes:s}=n,l=function(e){const{selection:t=null,queries:n=[],fontSizes:r}=e,a=Object(c.useMemo)((()=>e.id?e.id:sn((e.fontFamily,r.valueLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity))),[e.id,e.fontFamily,r.valueLabel,r.legend,r.setLabel,r.title,r.exportLabel,r.description,e.textColor,e.color,e.hasSelectionColor,e.strokeColor,e.valueTextColor,e.selectionColor,e.opacity,e.hasSelectionOpacity]),s=Object(c.useMemo)((()=>function(e,t,n,r,a,s,l,o){return{theme:e,styles:t,classNames:n,id:r,selectionColor:a,title:s,description:l,tooltips:o}}(e.theme,e.styles,e.classNames,a,e.selectionColor,e.title,e.description,e.tooltips)),[e.theme,e.styles,e.classNames,a,e.selectionColor,e.title,e.description,e.tooltips]),l=Object(c.useMemo)((()=>Jn(e.width,e.height,e.padding,e.id)),[e.width,e.height,e.padding,e.id]),o=Rn(e),i=null!=t&&ln(t)?e.toKey(t):null,d=null==t?null:cn(t,e.toElemKey),m=un(t),f=u.a.useMemo((()=>n.map((t=>v(t,"intersection",e.toElemKey)))),[n,e.toElemKey]),y=Pn(a,e,e.fontFamily,r);return{styleId:a,size:l,style:s,h:o,selectionKey:i,selectionName:m,selectionOverlap:d,qs:f,rulesHelper:y}}(n),{size:o,style:i,rulesHelper:d}=l,m=Object(c.useMemo)((()=>Qn(n.sets,n.combinations,o,n.layout,n.valueFormat,n.toKey,n.toElemKey,n.id)),[n.sets,n.combinations,o,n.valueFormat,n.toKey,n.toElemKey,n.id,n.layout]),f=`\n  ${d.root}\n  ${d.text}\n\n  .valueTextStyle-${i.id} {\n    fill: ${n.valueTextColor};\n    ${d.p(s.valueLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .setTextStyle-${i.id} {\n    fill: ${n.textColor};\n    ${d.p(s.setLabel)}\n    text-anchor: middle;\n  }\n\n  .topText-${i.id} {\n    dominant-baseline: hanging;\n  }\n\n  .stroke-circle-${i.id} {\n    fill: none;\n    stroke: ${n.strokeColor};\n  }\n\n  .arc-${i.id} {\n    fill-rule: evenodd;\n  }\n  .arcP-${i.id} {\n    fill: transparent;\n    fill-opacity: ${n.opacity};\n  }\n  ${d.fill}\n  ${d.export}\n\n  ${d.hasSFill?`.root-${i.id}[data-selection] .arcP-${i.id} { ${d.hasSFill} }`:""}\n\n  ${a.map(((e,t)=>`.fillQ${t}-${m.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,y=Gn(m,n,"venn"),p=m.sets.d.reduce(((e,t)=>Math.min(e,t.l.cx-(Qe(t.l)?t.l.rx:t.l.r))),o.area.w);return u.a.createElement(Wn,{rules:f,style:i,selectionName:l.selectionName,size:o,p:n,data:m,tRef:t,h:l.h,exportChart:y},u.a.createElement(wn,{style:i,width:p}),u.a.createElement("g",{className:an(n.onClick&&`clickAble-${i.id}`)},m.sets.d.map(((e,t)=>u.a.createElement("text",{key:e.key,x:e.l.text.x,y:e.l.text.y,onClick:l.h.onClick(m.sets.v[t],[]),onMouseEnter:l.h.onMouseEnter(m.sets.v[t],[]),onMouseLeave:l.h.onMouseLeave,onContextMenu:l.h.onContextMenu(m.sets.v[t],[]),onMouseMove:l.h.onMouseMove(m.sets.v[t],[]),className:an(`setTextStyle-${i.id}`,`${e.l.align}Text-${i.id}`,`${e.l.verticalAlign}Text-${i.id}`)},m.sets.v[t].name)))),u.a.createElement("g",{className:an(n.onClick&&`clickAble-${i.id}`)},m.cs.d.map(((e,t)=>u.a.createElement(Vn,{key:e.key,d:e.v,i:t,slice:e.l,size:o,style:i,data:m,fill:n.filled,h:l.h,selectionName:l.selectionName,selected:l.selectionKey===e.key||S(r)&&m.cs.has(e.v,r),elemOverlap:l.selectionOverlap,queries:a,qs:l.qs})))),u.a.createElement("g",null,m.sets.d.map((e=>Qe(e.l)?u.a.createElement("ellipse",{key:e.key,rx:e.l.rx,ry:e.l.ry,transform:`translate(${e.l.cx},${e.l.cy})rotate(${e.l.rotation})`,className:an(`stroke-circle-${i.id}`,i.classNames.set),style:i.styles.set}):u.a.createElement("circle",{key:e.key,cx:e.l.cx,cy:e.l.cy,r:e.l.r,className:an(`stroke-circle-${i.id}`,i.classNames.set),style:i.styles.set})))))}));var Zn=u.a.memo((function({d:e,i:t,h:n,className:r,data:a,style:s}){const l=a.cs.l[t],o=a.cs.scale(e.cardinality),i=(a.cell-a.cs.bandWidth)/2;return u.a.createElement("g",{transform:`translate(${l.x}, ${l.y})`,onMouseEnter:n.onMouseEnter(e,[]),onMouseLeave:n.onMouseLeave,onClick:n.onClick(e,[]),onContextMenu:n.onContextMenu(e,[]),onMouseMove:n.onMouseMove(e,[]),className:r,"data-cardinality":e.cardinality},s.tooltips&&u.a.createElement("title",null,e.name,": ",a.sets.format(e.cardinality)),u.a.createElement("rect",{width:a.cell,height:a.cell,className:`fillTransparent-${s.id}`}),u.a.createElement("rect",{x:i,y:o,height:a.cell-o,width:a.cs.bandWidth,className:an(`fillPrimary-${s.id}`,s.classNames.bar),style:Cn(s.styles.bar,e.color)}),u.a.createElement("text",{y:o-s.barLabelOffset,x:a.cell/2,style:s.styles.barLabel,className:an(`barTextStyle-${s.id}`,s.classNames.barLabel)},a.sets.format(e.cardinality)))}));function Xn(e,t,n,r){const a=e*t,s=e*n;return[r.x.map((t=>`M ${t*e},0 l0,${a}`)),r.y.map((t=>`M 0,${t*e} l${s},0`))].flat().join(" ")}var er=u.a.memo((function({data:e,style:t,size:n,h:r}){const a="auto"===t.cs.offset?e.cs.labelOffset:t.cs.offset;return u.a.createElement("g",null,u.a.createElement("g",{transform:`translate(${n.w-a-2}, ${n.h-e.cell-50})`},u.a.createElement(vn,{scale:e.cs.scale,orient:"left",size:e.cell,start:e.cs.barLabelFontSize,style:t}),u.a.createElement("text",{className:an(`cChartTextStyle-${t.id}`,t.classNames.chartLabel),style:t.styles.chartLabel,transform:`translate(${-a}, ${e.cell})rotate(-90)`},t.cs.name)),u.a.createElement("g",null,e.sets.l.map(((n,a)=>{const s=e.sets.v[a],l=s.name;return u.a.createElement("g",{key:l,onClick:r.onClick(s,[]),onMouseEnter:r.onMouseEnter(s,[]),onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu(s,[]),onMouseMove:r.onMouseMove(s,[]),className:an(r.hasClick&&`clickAble-${t.id}`)},n.text.map(((e,r)=>u.a.createElement("text",{key:r,transform:`translate(${e.x},${e.y})${n.hor?"":"rotate(-90)"}`,className:an(`setTextStyle-${t.id}`)},l))))})),e.sets.l.map(((n,r)=>{const a=e.sets.v[r].name;return u.a.createElement(u.a.Fragment,{key:a},n.notText.map(((e,r)=>u.a.createElement("text",{key:r,transform:`translate(${e.x},${e.y})${n.hor?"":"rotate(-90)"}`,className:an(`setTextStyle-${t.id}`,`not-${t.id}`)},a))))}))),u.a.createElement("g",{className:an(r.hasClick&&`clickAble-${t.id}`)},e.cs.v.map(((n,a)=>u.a.createElement(Zn,{key:e.cs.keys[a],d:n,i:a,h:r,style:t,data:e})))),u.a.createElement("g",{transform:`translate(${e.grid.x}, ${e.grid.y})`},e.grid.levels.map(((n,r)=>u.a.createElement("path",{key:r,d:Xn(e.cell,e.grid.vCells,e.grid.hCells,n),className:`gridStyle-${t.id} gridStyle-${t.id}-${r}`})))))}));var tr=function({data:e,style:t,elemOverlap:n,secondary:r,tooltip:a,suffix:s,empty:l}){const o=e.cs.bandWidth,i=(e.cell-o)/2,c=an(`fill${s}`,!a&&`pnone-${t.id}`,t.classNames.bar);return u.a.createElement("g",{"data-upset":r?"cs-q":"cs-s"},e.cs.v.map(((s,d)=>{const m=e.cs.l[d],f=e.cs.keys[d];if(l&&!r)return u.a.createElement("rect",{key:f,x:m.x+i,y:m.y+e.cell,height:0,width:o,className:c,style:Cn(t.styles.bar,t.selectionColor?void 0:s.color)},a&&u.a.createElement("title",null));const y=n(s);if(0===y)return null;const p=e.cs.scale(y),h=a&&u.a.createElement("title",null,`${s.name} \u2229 ${a}: ${y}`);return r?u.a.createElement("path",{key:f,transform:`translate(${m.x+i}, ${m.y+p})`,d:`M0,-1 l${o},0 l0,2 l${-o},0 L-${e.triangleSize},-${e.triangleSize} L-${e.triangleSize},${e.triangleSize} Z`,className:c,"data-i":d,"data-cardinality":y,style:Cn(void 0,t.selectionColor?void 0:s.color)},h):u.a.createElement("rect",{key:f,x:m.x+i,y:m.y+p,height:e.cell-p,"data-i":d,"data-cardinality":y,width:o,className:c,style:Cn(t.styles.bar,t.selectionColor?void 0:s.color)},h)})))},nr=u.a.memo((function({data:e,style:t,hasHover:n,secondary:r,queries:a}){const s=Object(c.useMemo)((()=>a.map((t=>Object.assign(Object.assign({},t),{overlap:v(t,"intersection",e.toElemKey)})))),[a,e.toElemKey]);return u.a.createElement("g",{className:n&&!r?`pnone-${t.id}`:void 0},s.map(((a,s)=>u.a.createElement(tr,{key:a.name,data:e,style:t,elemOverlap:a.overlap,suffix:`Q${s}-${e.id}`,secondary:r||s>0,tooltip:n&&!(r||s>0)?void 0:a.name}))))}));function rr({data:e,style:t,selection:n,hasHover:r}){const a=t.emptySelection,s=cn(n,e.toElemKey),l=un(n);return u.a.createElement("g",{className:r?`pnone-${t.id}`:void 0},(n||a)&&u.a.createElement(tr,{data:e,style:t,empty:a&&!n,elemOverlap:s,suffix:`Selection-${t.id}`,tooltip:r?void 0:l}))}function ar(e,t){return Array(e).fill(0).map(((e,n)=>t(n)))}function sr(e){const t=Array(Math.pow(2,e)).fill(0);ar(e,(e=>{const n=Math.pow(2,e);for(let r=0;r<t.length;r+=n)t[r]++}));const n=ar(Math.max(e,1),(()=>[]));return t.forEach(((e,t)=>{const r=Math.max(0,e-1);n[r].push(t)})),n[n.length-1].push(t.length),n}function lr(e,t,n,r){const{xBefore:a,yBefore:s,cell:l,hCells:o,vCells:i,horizontalSets:c,verticalSets:u}=or(e.length,r),d=function(e,t){const{xOffset:n,yOffset:r,cell:a,xBefore:s,yBefore:l,hCells:o,vCells:i}=or(e,t),c=t.width-n,u=t.height-r;return ar(e,(e=>{const d=Math.floor(e/2),m=e%2==0,f=Math.pow(2,d),y=(m?o:i)/f/2,p=m?s:l,h=[{v:!0,x:p+y*a*.5},{v:!1,x:p+y*a*1.5}];for(let t=1;t<=d;t++){const e=y*Math.pow(2,t)*a,n=h.length-1;h.push(...h.map(((t,r)=>({v:h[n-r].v,x:t.x+e}))))}const g=d%2==1,x=Math.floor(d/2);let b=0;if(g){b=(m?u:c)-t.labelHeight*(.5+x)}else{b=(m?r:n)+t.labelHeight*(.5+x)}return m?{hor:!0,span:y,text:h.filter((e=>e.v)).map((e=>({x:e.x,y:b}))),notText:h.filter((e=>!e.v)).map((e=>({x:e.x,y:b})))}:{hor:!1,span:y,text:h.filter((e=>e.v)).map((e=>({x:b,y:e.x}))),notText:h.filter((e=>!e.v)).map((e=>({x:b,y:e.x})))}}))}(e.length,r),m=function(e,t,n,r){return e.map(((e,a)=>{const s=Math.floor(a/2),l=a%2==0,o=Math.pow(2,s),i=(l?t:n)/o/2;return(t,[n,a])=>r(t,e)?[n,a]:i>1?l?[i-1-n+i,a]:[n,i-1-a+i]:l?[n+i,a]:[n,a+i]}))}(e,o,i,n),f=t.map((e=>{const[t,n]=m.reduceRight(((t,n)=>n(e,t)),[0,0]);return{x:a+t*l,y:s+n*l}})),y=sr(c),p=sr(u);return{s:d,c:f,cell:l,grid:{x:a,y:s,hCells:o,vCells:i,levels:y.map(((e,t)=>({x:e,y:t<p.length?p[t]:[]})))}}}function or(e,t){const n=Math.ceil(e/2),r=Math.floor(e/2),a=Math.pow(2,n),s=Math.pow(2,r),l=Math.floor(Math.min((t.width-t.labelHeight*r)/a,(t.height-t.labelHeight*n)/s)),o=(t.width-a*l-t.labelHeight*r)/2,i=(t.height-s*l-t.labelHeight*n)/2;return{xOffset:o,horizontalSets:n,yOffset:i,verticalSets:r,cell:l,xBefore:o+Math.ceil(r/2)*t.labelHeight,yBefore:i+Math.ceil(n/2)*t.labelHeight,hCells:a,vCells:s}}var ir=u.a.forwardRef((function(e,t){const n=it(e),{queries:r=[],fontSizes:a,selection:s=null}=n,l=Object(c.useMemo)((()=>n.id?n.id:sn((n.fontFamily,a.axisTick,a.barLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity))),[n.id,n.fontFamily,a.axisTick,a.barLabel,a.legend,a.setLabel,a.title,a.exportLabel,a.description,n.textColor,n.color,n.hasSelectionColor,n.strokeColor,n.selectionColor,n.opacity,n.hasSelectionOpacity]),o=Object(c.useMemo)((()=>function(e,t,n,r,a,s,l,o,i,c,u,d){return{theme:e,styles:t,classNames:n,emptySelection:i,id:s,barLabelOffset:l,selectionColor:o,title:c,description:u,tooltips:d,cs:{name:r,offset:a}}}(n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips)),[n.theme,n.styles,n.classNames,n.combinationName,n.combinationNameAxisOffset,l,n.barLabelOffset,n.selectionColor,n.emptySelection,n.title,n.description,n.tooltips]),i=Object(c.useMemo)((()=>Jn(n.width,n.height,n.padding,n.id)),[n.width,n.height,n.padding,n.id]),d=Object(c.useMemo)((()=>function(e,t,n,r,a,s,l,o,i,c,u,d){const m=fn(r),f=e.map(i),y=yn(t)?t:U(e,Object.assign({type:"distinctIntersection"},null!=t?t:{})),p=y.map(i),h=(e,t)=>{const n=i(t);return Array.from(e.sets).some((e=>i(e)===n))},g=Math.ceil(1.2*l),x=lr(e,y,h,{width:n.area.w,height:n.area.h,labelHeight:g}),b=null!=d?d:y.reduce(((e,t)=>Math.max(e,t.cardinality)),0),v=m(b,[x.cell,a],{orientation:"vertical",fontSizeHint:o}),$=Math.round(x.cell*(1-s)),w=Math.min(Math.max(2,$/2*s),5),S=(E=b,Math.floor(a/1.4*.7*v.tickFormat()(E).length));var E;return{id:u||sn(),grid:x.grid,sets:{keys:f,l:x.s,v:e,labelHeight:g,format:v.tickFormat()},triangleSize:w,cell:x.cell,cs:{keys:p,l:x.c,v:y,barLabelFontSize:a,has:h,scale:v,bandWidth:$,labelOffset:S+9+6},toKey:i,toElemKey:c}}(n.sets,n.combinations,i,n.numericScale,n.barLabelOffset+mn(a.barLabel),n.barPadding,mn(a.setLabel),mn(a.axisTick),n.toKey,n.toElemKey,n.id,n.combinationMaxScale)),[n.sets,n.combinations,i,n.numericScale,n.barLabelOffset,a.barLabel,n.barPadding,a.axisTick,a.setLabel,n.toKey,n.toElemKey,n.id,n.combinationMaxScale]),m=Rn(n),f=un(s),y=Pn(l,n,n.fontFamily,a),p=`\n  ${y.root}\n  ${y.text}\n\n  .axisTextStyle-${l} {\n    fill: ${n.textColor};\n    ${y.p(a.axisTick)}\n    text-anchor: end;\n  }\n  .barTextStyle-${l} {\n    fill: ${n.textColor};\n    ${y.p(a.barLabel)}\n    text-anchor: middle;\n  }\n  .setTextStyle-${o.id} {\n    fill: ${n.textColor};\n    ${y.p(a.setLabel)}\n    text-anchor: middle;\n    dominant-baseline: central;\n  }\n  .cChartTextStyle-${l} {\n    fill: ${n.textColor};\n    ${y.p(a.chartLabel)}\n  }\n\n  .not-${o.id} {\n    text-decoration: overline;\n  }\n\n  .axisLine-${l} {\n    fill: none;\n    stroke: ${n.textColor};\n  }\n\n  .gridStyle-${o.id} {\n    fill: none;\n    stroke: ${n.strokeColor};\n    stroke-linecap: round;\n  }\n  .gridStyle-${o.id}-1 {\n    stroke-width: 2;\n  }\n  .gridStyle-${o.id}-2 {\n    stroke-width: 3;\n  }\n\n  ${y.fill}\n  ${y.export}\n\n  ${r.map(((e,t)=>`.fillQ${t}-${d.id} {\n    fill: ${e.color};\n  }`)).join("\n")}\n  `,h=Gn(d,n,"kmap"),g=d.sets.l.reduce(((e,t)=>Math.min(e,t.text[0].x-d.sets.labelHeight)),i.area.w);return u.a.createElement(Wn,{rules:p,style:o,size:i,p:n,data:d,tRef:t,selectionName:f,h:m,exportChart:h},u.a.createElement(wn,{style:o,width:g}),u.a.createElement(er,{style:o,data:d,h:m,size:i}),u.a.createElement(rr,{style:o,data:d,hasHover:m.hasHover,selection:s}),u.a.createElement(nr,{style:o,data:d,hasHover:m.hasHover,queries:r,secondary:m.hasHover||null!=s}))}));const cr="#F4F4F4",ur="#A6A8AB",dr="#E1E2E3";function mr(e){var t,n,r,a;const s=null!==(t=e.color)&&void 0!==t?t:ur,l=null!==(n=e.secondaryColor)&&void 0!==n?n:dr,o=Object.assign({},e),i=null!==(r=e.background)&&void 0!==r?r:cr;return delete o.color,delete o.secondaryColor,delete o.background,i&&(o.style=Object.assign({background:i},null!==(a=o.style)&&void 0!==a?a:{})),{color:s,secondary:l,rest:o}}const fr=u.a.memo(u.a.forwardRef((function(e,t){const{color:n,secondary:r,rest:a}=mr(e),s=20,l=[10,20,35,60,65,80,90],o=[50,30,15];return u.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t},a),l.map(((e,t)=>u.a.createElement("rect",{key:t,x:85+30*t,y:e,width:s,height:100-e,fill:n}))),o.map(((e,t)=>u.a.createElement("rect",{key:t,x:e,y:110+30*t,width:75-e,height:s,fill:n}))),l.map(((e,t)=>o.map(((e,a)=>{const s=a===2-t||3===t&&a>0||4===t&&1!==a||5===t&&a<2||6===t;return u.a.createElement("circle",{key:`${t}x${a}`,cx:85+30*t+10,cy:110+30*a+10,r:10,fill:s?n:r})})))),u.a.createElement("rect",{x:"182",y:"150",width:"6",height:"30",fill:n}),u.a.createElement("rect",{x:"212",y:"120",width:"6",height:"60",fill:n}),u.a.createElement("rect",{x:"242",y:"120",width:"6",height:"30",fill:n}),u.a.createElement("rect",{x:"272",y:"120",width:"6",height:"60",fill:n}))}))),yr=u.a.memo(u.a.forwardRef((function(e,t){const{color:n,secondary:r,rest:a}=mr(e),s=Ge(3,280,3180);return u.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t},a),s.sets.map(((e,t)=>u.a.createElement("circle",{key:t,cx:e.cx,cy:e.cy+10,r:e.r,fill:r}))),s.sets.map(((e,t)=>u.a.createElement("circle",{key:t,cx:e.cx,cy:e.cy+10,r:e.r,stroke:n,fill:"none"}))))}))),pr=u.a.memo(u.a.forwardRef((function(e,t){const{rest:n,color:r,secondary:a}=mr(e),{xBefore:s,yBefore:l,cell:o,hCells:i,vCells:c}=or(2,{width:270,height:170,labelHeight:20}),d=i*o,m=c*o;return u.a.createElement("svg",Object.assign({viewBox:"0 0 300 200",ref:t,fontFamily:"sans-serif"},n),u.a.createElement("g",{transform:`translate(${s+10},${l+10})`},u.a.createElement("text",{x:.5*o,y:-3,fill:r,textAnchor:"middle"},"A"),u.a.createElement("text",{x:1.5*o,y:-3,fill:r,textAnchor:"middle",style:{textDecoration:"overline"}},"A"),u.a.createElement("text",{x:-3,y:.5*o,fill:r,textAnchor:"end",dominantBaseline:"central"},"B"),u.a.createElement("text",{x:-3,y:1.5*o,fill:r,textAnchor:"end",dominantBaseline:"central",style:{textDecoration:"overline"}},"B"),u.a.createElement("rect",{x:.1*o,y:o*(1-.9),height:.9*o,width:.8*o,fill:a}),u.a.createElement("rect",{x:1.1*o,y:.5*o,height:.5*o,width:.8*o,fill:a}),u.a.createElement("rect",{x:.1*o,y:1.74*o,height:.26*o,width:.8*o,fill:a}),u.a.createElement("rect",{x:1.1*o,y:1.25*o,height:.75*o,width:.8*o,fill:a}),u.a.createElement("path",{d:`M0,0 l${d},0 l0,${m} l${-d},0 l0,${-m} M${d/2},0 l0,${m} M0,${m/2} l${d},0`,fill:"none",stroke:r})))}))),hr=1/180*Math.PI;function gr(e,t,n,r){return{x:e+Math.cos(r*hr)*n,y:t+Math.sin(r*hr)*n}}function xr(e,t){return{maxSets:1/0,compute(n,r,a,s){const l=r.map((e=>({sets:Array.from(e.sets).map((e=>e.name)),size:e.cardinality}))),o=e(l,Object.assign({},{width:a,height:s,distinct:!0},null!=t?t:{})),i=o.filter((e=>1===e.data.sets.length)),c=new Map(n.map(((e,t)=>[e.name,t]))),u=i.map((e=>e.circles[0])),d=function(e){const t=e.reduce(((e,t)=>e+t.x),0),n=e.reduce(((e,t)=>e+t.y),0);return{x:t/e.length,y:n/e.length}}(u),m=e=>({x2:e.p1.x,y2:e.p1.y,cx:e.circle.x,cy:e.circle.y,sweep:!0,large:e.width>e.circle.radius,ref:u.findIndex((t=>Math.abs(t.x-e.circle.x)<.05&&Math.abs(t.y-e.circle.y)<.05)),mode:"i"});return{sets:i.map((e=>{const t=e.circles[0],n=function(e,t){const n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)/hr}(t,d);return{cx:t.x,cy:t.y,r:t.radius,align:n>90?"end":"start",verticalAlign:"bottom",text:gr(t.x,t.y,1.1*t.radius,n)}})),intersections:o.map((e=>{const t=e.arcs,n={x:e.text.x,y:e.text.y};if(0===t.length)return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:0,y1:0,arcs:[]};if(1===t.length){const t=e.arcs[0].circle;return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:e.arcs[0].p2.x,y1:t.y-t.radius,arcs:[m(e.arcs[0]),Object.assign(m(e.arcs[0]),{y2:t.y-t.radius})],path:e.distinctPath||e.path}}return{sets:e.data.sets.map((e=>c.get(e))),text:n,x1:e.arcs[0].p2.x,y1:e.arcs[0].p2.y,arcs:e.arcs.map((e=>m(e))),path:e.distinctPath||e.path}}))}}}}function br(e){return null==e||Array.isArray(e)&&e.length>=2&&e.every((e=>"number"==typeof e))}function vr(e){return null==e||Array.isArray(e)&&e.length>=1&&e.every((e=>"number"==typeof e))}function $r(e){return null==e||"left"===e||"center"===e||"right"===e}function wr(e){return Array.isArray(e)&&e.every(S)}function Sr(e){return null==e||Array.isArray(e)&&e.every(E)||C(e)}function Er(e){return null==e||Array.isArray(e)||k(e)}function kr(e){return null==e||"function"==typeof e}function Cr(e){return null==e||"function"==typeof e}function Or(e){return null==e||"function"==typeof e}function Mr(e){return null==e||"function"==typeof e}function Nr(e){return!e||Array.isArray(e)&&e.every(O)}function Ar(e){return null==e||"string"==typeof e||!1===e}function Lr(e){return null==e||"light"===e||"dark"===e||"vega"===e}function jr(e){return null==e||Object.keys(e).every((t=>Be.includes(t)&&"string"==typeof e[t]))}function qr(e){return null==e||Object.keys(e).every((t=>Te.includes(t)&&"string"==typeof e[t]))}function zr(e){return null==e||"linear"===e||"log"===e||"function"==typeof e}function Ir(e){return null==e||"band"===e||"function"==typeof e}function _r(e){return null==e||"auto"===e||"number"==typeof e}function Tr(e){return null==e||"object"==typeof e}function Br(e){return null==e||Object.keys(e).every((e=>Be.includes(e)))}function Fr(e){return null==e||"boolean"==typeof e||Object.keys(e).every((t=>Fe.includes(t)&&"boolean"==typeof e[t]))}var Kr=n(198);const Hr={hinges:Kr.d,fivenum:Kr.b,type7:Kr.i,quantiles:Kr.i,linear:Kr.e,lower:Kr.f,higher:Kr.c,nearest:Kr.h,midpoint:Kr.g};function Pr(e,t={}){const n=Object.assign({},t,{quantiles:"function"==typeof t.quantiles||null==t.quantiles?t.quantiles:Hr[t.quantiles]});return null==n.quantiles&&delete n.quantiles,Object(Kr.a)(e,n)}function Rr(e){const t=e[1]-e[0];return n=>n*t+e[0]}function Dr(e){const t=e[1]-e[0];return n=>(n-e[0])/t}function Wr(e,t){const n=new Map(e.map((e=>[e.value,0])));return t.forEach((e=>{if(null==e)return;const t=e.toString();n.has(t)&&n.set(t,n.get(t)+1)})),n}function Ur(e,t,n,r=!1){const a=function(e){const t=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],n=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],r=e?t.concat(n):n.concat(t);let a=0;return()=>r[a++%r.length]}(r),s=t.map((e=>{return Object.assign({count:0,acc:0,percentage:0},{value:t="string"==typeof e?e:e.value,label:t.length>0?`${t[0].toUpperCase()}${t.slice(1)}`:t,color:a()},"string"==typeof e?{}:e);var t})),l=Wr(s,e),o=n?Wr(s,n):null,i=Array.from(l.values()).reduce(((e,t)=>e+t),0);let c=0;return s.forEach((e=>{e.acc=c,e.count=l.get(e.value),e.percentage=e.count/i,c+=o?o.get(e.value):e.count})),s}function Vr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Qr(e){return Math.round(100*e)/100}function Jr(e,t,n="horizontal"){const r=Dr(e),a=Rr(e),s=Rr(t),l=e=>s(r(e)),o="horizontal"===n?5:7;return l.ticks=(e=o)=>Array(e).fill(0).map(((t,n)=>{const r=a(n/(e-1));return{value:r,label:r.toFixed(2)}})),l.tickFormat=()=>e=>e.toFixed(2),l}const Gr=e=>e.toFixed(2);function Yr(e,t){return`Min: ${t(e.min)}, 25% Quantile: ${t(e.q1)}, Median: ${t(e.median)}, 75% Quantile: ${t(e.q3)}, Max: ${t(e.max)}`}const Zr=e=>{const{theme:t="light",mode:n="normal",boxStyle:r,lineStyle:a,outlierStyle:s,margin:l=0,boxPadding:o=.1,outlierRadius:i=3,numberFormat:c=Gr}=e,d=Vr(e,["theme","mode","boxStyle","lineStyle","outlierStyle","margin","boxPadding","outlierRadius","numberFormat"]),m=Array.isArray(e.values)?Pr(e.values,d):e.values;if(Number.isNaN(m.median))return u.a.createElement("g",null);const f="vertical"!==e.orient,y=Dr([e.min,e.max]),p=Rr([0,f?e.width:e.height]),h=e=>Qr(p(y(e))),g={max:h(m.max),avg:h(m.mean),med:h(m.median),min:h(m.min),q1:h(m.q1),q3:h(m.q3),wh:h(m.whiskerHigh),wl:h(m.whiskerLow)},x=!1!==e.tooltips&&u.a.createElement("title",null,Yr(m,c)),b=et(t).notMemberColor,v={box:Object.assign({fill:b},r),line:Object.assign({fill:"none",stroke:"light"===t?"black":"#cccccc"},a),outlier:Object.assign({fill:b},s)};if(f){const t=e.height/2,r=Qr(e.height*o)+l,a=e.height-r,s=`M${g.wl},${l} l0,${e.height-2*l} M${g.wl},${t} L${g.q1},${t}`,d=`M${g.q3},${t} L${g.wh},${t} M${g.wh},${l} L${g.wh},${e.height-l}`,f=`M${g.q1},${r} L${g.q3},${r} L${g.q3},${a} L${g.q1},${a} L${g.q1},${r} M${g.med},${r} l0,${a-r}`,y=u.a.createElement("path",{d:`${s} ${d} ${f}`,style:v.line});return"indicator"===n?y:u.a.createElement("g",null,x,"normal"===n&&u.a.createElement("rect",{x:g.q1,y:r,width:g.q3-g.q1,height:e.height-2*r,style:v.box}),y,m.outlier.map((e=>u.a.createElement("circle",{key:e,r:i,cy:t,cx:h(e),style:v.outlier},u.a.createElement("title",null,"$",c(e))))))}{const t=e.width/2,r=Qr(e.width*o)+l,a=e.width-r,s=`M${l},${g.wl} l${e.width-2*l},0 M${t},${g.wl} L${t},${g.q1}`,d=`M${t},${g.q3} L${t},${g.wh} M${l},${g.wh} L${e.width-l},${g.wh}`,f=`M${r},${g.q1} L${r},${g.q3} l${a-r},0 L${a},${g.q1} L${r},${g.q1} M${r},${g.med} l${a-r},0`,y=u.a.createElement("path",{d:`${s} ${d} ${f}`,style:v.line});return"indicator"===n?y:u.a.createElement("g",null,x,"normal"===n&&u.a.createElement("rect",{y:g.q1,x:r,height:g.q3-g.q1,width:e.width-2*r,style:v.box}),y,m.outlier.map((e=>u.a.createElement("circle",{key:e,r:i,cx:t,cy:h(e),style:v.outlier},u.a.createElement("title",null,"$",c(e))))))}},Xr=u.a.memo(Zr);function ea(e,t,n={}){var{size:r=100,position:a,name:s=e.toString()}=n,l=Vr(n,["size","position","name"]);const o="function"==typeof e?e:t=>t[e];let i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(Array.isArray(t))t.forEach((e=>{const t=o(e);null==t||Number.isNaN(t)||(t<i&&(i=t),t>c&&(c=t))}));else{const e=t;i=e.min,c=e.max}const d=Jr([i,c],[0,r],l.orient);return{name:s,position:a,size:r,scale:d,createOnHandlerData:e=>{const t=Pr(e.elems.map(o),l);return{id:"boxplot",name:s,value:Object.assign(Object.assign(Object.assign({},t),{toString(){var e;return Yr(this,null!==(e=l.numberFormat)&&void 0!==e?e:Gr)}}),t)}},render:({width:e,height:t,set:n,theme:r})=>{const a=n.elems.map(o);return u.a.createElement(Xr,Object.assign({values:a,width:e,height:t,min:i,max:c,theme:r},l))},renderSelection:({width:e,height:t,overlap:n,selectionColor:r,theme:a})=>{if(null==n||0===n.length)return null;const s=n.map(o);return u.a.createElement(Xr,Object.assign({values:s,width:e,height:t,min:i,max:c,mode:"box",lineStyle:{stroke:r,strokeWidth:2},outlierStyle:{fill:r},theme:a},l))},renderQuery:({width:e,height:t,overlap:n,query:r,secondary:a,index:s,theme:d})=>{if(null==n||0===n.length)return null;const m=n.map(o);return u.a.createElement(Xr,Object.assign({values:m,width:e,height:t,min:i,max:c,mode:a?"indicator":"box",margin:a?s+2:0,lineStyle:{stroke:r.color,strokeWidth:a?1:2},outlierStyle:{fill:r.color},theme:d},l))}}}function ta(e,t,n={}){var{size:r=100,position:a,name:s="BoxPlot"}=n,l=Vr(n,["size","position","name"]);const o=t.min,i=t.max,c=Jr([o,i],[0,r],l.orient);return{name:s,position:a,size:r,scale:c,createOnHandlerData:t=>{const n=e(t.elems);return n.toString=function(){var e;return Yr(this,null!==(e=l.numberFormat)&&void 0!==e?e:Gr)},{id:"boxplot",name:s,value:n}},render:({width:t,height:n,set:r,theme:a})=>{const s=e(r.elems);return u.a.createElement(Xr,Object.assign({values:s,width:t,height:n,min:o,max:i,theme:a},l))},renderSelection:({width:t,height:n,overlap:r,selectionColor:a,theme:s})=>{if(null==r||0===r.length)return null;const c=e(r);return u.a.createElement(Xr,Object.assign({values:c,width:t,height:n,min:o,max:i,mode:"box",lineStyle:{stroke:a,strokeWidth:2},outlierStyle:{fill:a},theme:s},l))},renderQuery:({width:t,height:n,overlap:r,query:a,secondary:s,index:c,theme:d})=>{if(null==r||0===r.length)return null;const m=e(r);return u.a.createElement(Xr,Object.assign({values:m,width:t,height:n,min:o,max:i,mode:s?"indicator":"box",margin:s?c+2:0,lineStyle:{stroke:a.color,strokeWidth:s?1:2},outlierStyle:{fill:a.color},theme:d},l))}}}function na(e){return Array.isArray(e.bins)}function ra(e){return e.map((e=>`${e.label}: ${e.count}`)).join(", ")}const aa=e=>{var t,n;const{margin:r=0,rectStyle:a={}}=e,s=na(e)?e.bins:Ur(e.values,e.categories,e.base,"dark"===e.theme),l=Dr([0,na(e)?e.bins.reduce(((e,t)=>e+t.count),0):null!==(n=null===(t=e.base)||void 0===t?void 0:t.length)&&void 0!==n?n:e.values.length]),o="vertical"!==e.orient,i=Rr([0,o?e.width:e.height]),c=e=>i(l(e));return o?u.a.createElement("g",null,s.map((t=>u.a.createElement("rect",{key:t.value,x:c(t.acc),width:c(t.count),y:r,height:e.height-2*r,style:Object.assign({fill:t.color},a)},!1!==e.tooltips&&u.a.createElement("title",null,`${t.label}: ${t.count}`))))):u.a.createElement("g",null,s.map((t=>u.a.createElement("rect",{key:t.value,y:c(t.acc),height:c(t.count),x:r,width:e.width-2*r,style:Object.assign({fill:t.color},a)},!1!==e.tooltips&&u.a.createElement("title",null,`${t.label}: ${t.count}`)))))},sa=u.a.memo(aa),la="rgba(255,255,255,0.2)",oa="rgba(0,0,0,0.1)";function ia(e,t,n={}){var{size:r=100,position:a,name:s=e.toString()}=n,l=Vr(n,["size","position","name"]);const o="function"==typeof e?e:t=>t[e];let i=[];if(Array.isArray(t)){const e=new Set;t.forEach((t=>{const n=o(t);null!=n&&e.add(n.toString())})),i=Array.from(e).sort()}else i=t.categories;return{name:s,position:a,size:r,createOnHandlerData:e=>{const t=Ur(e.elems.map(o),i,void 0,"dark"===l.theme);return t.toString=function(){return ra(this)},{id:"categorical",name:s,value:t}},render:({width:e,height:t,set:n,theme:r})=>{const a=n.elems.map(o);return u.a.createElement(sa,Object.assign({values:a,categories:i,width:e,height:t,theme:r},l))},renderSelection:({width:e,height:t,set:n,theme:r,overlap:a,selectionColor:s})=>{if(null==a||0===a.length)return null;const c=n.elems.map(o),d=a.map(o);return u.a.createElement(sa,Object.assign({values:d,base:c,categories:i,width:e,height:t,theme:r,rectStyle:{stroke:s,strokeWidth:2,fill:"light"===r?oa:la}},l))},renderQuery:({width:e,height:t,overlap:n,set:r,query:a,secondary:s,index:c,theme:d})=>{if(null==n||0===n.length)return null;const m=r.elems.map(o),f=n.map(o);return u.a.createElement(sa,Object.assign({values:f,base:m,categories:i,width:e,height:t,margin:s?c+2:0,rectStyle:{stroke:a.color,fill:"light"===d?oa:la},theme:d},l))}}}function ca(e,t={}){var{size:n=100,position:r,name:a="Histogram"}=t,s=Vr(t,["size","position","name"]);return{name:a,position:r,size:n,createOnHandlerData:t=>{const n=e(t.elems);return{id:"categorical",name:a,value:Object.assign(Object.assign(Object.assign({},n),{toString(){return ra(this)}}),n)}},render:({width:t,height:n,set:r,theme:a})=>{const l=e(r.elems);return u.a.createElement(sa,Object.assign({bins:l,width:t,height:n,theme:a},s))},renderSelection:({width:t,height:n,theme:r,overlap:a,selectionColor:l})=>{if(null==a||0===a.length)return null;const o=e(a);return u.a.createElement(sa,Object.assign({bins:o,width:t,height:n,theme:r,rectStyle:{stroke:l,strokeWidth:2,fill:"light"===r?oa:la}},s))},renderQuery:({width:t,height:n,overlap:r,query:a,secondary:l,index:o,theme:i})=>{if(null==r||0===r.length)return null;const c=e(r);return u.a.createElement(sa,Object.assign({bins:c,width:t,height:n,margin:l?o+2:0,rectStyle:{stroke:a.color,fill:"light"===i?oa:la},theme:i},s))}}}const ua=[{name:"Alton Lannister",sets:["was killed","Lannister","male"]},{name:"Arya Stark",sets:["Stark","female"]},{name:"Benjen Stark",sets:["was killed","Stark","male"]},{name:"Bran Stark",sets:["royal","Stark","male"]},{name:"Brandon Stark",sets:["was killed","Stark"]},{name:"Catelyn Stark",sets:["was killed","Stark","female"]},{name:"Cersei Lannister",sets:["royal","was killed","Lannister","female"]},{name:"Eddard Stark",sets:["was killed","Stark","male"]},{name:"Jaime Lannister",sets:["was killed","Lannister","male"]},{name:"Jon Snow",sets:["royal","was killed","Stark","male"]},{name:"Kevan Lannister",sets:["was killed","Lannister","male"]},{name:"Lancel Lannister",sets:["was killed","Lannister","male"]},{name:"Lyanna Stark",sets:["was killed","Stark","female"]},{name:"Martyn Lannister",sets:["was killed","Lannister","male"]},{name:"Rickard Stark",sets:["was killed","Stark","male"]},{name:"Rickon Stark",sets:["was killed","Stark","male"]},{name:"Robb Stark",sets:["royal","was killed","Stark","male"]},{name:"Sansa Stark",sets:["royal","Stark","female"]},{name:"Tyrion Lannister",sets:["Lannister","male"]},{name:"Tywin Lannister",sets:["was killed","Lannister","male"]},{name:"Willem Lannister",sets:["was killed","Lannister","male"]}],da=ae(ua,{order:"cardinality"}),ma=[{name:"Q1",color:"steelblue",elems:ua.filter((()=>Math.random()>.7))},{name:"Q2",color:"red",elems:ua.filter((()=>Math.random()>.8))}],fa=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],ya={React:u.a,GameOfThronesDataSet:i,...u.a,...r,...o,...a,...l};delete ya.default;t.a=ya},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(137),l=n(115),o=n(208),i=n(178);t.default=function(e){const{content:t}=e,{frontMatter:n,metadata:r}=t,{title:c,description:u,wrapperClassName:d,hide_table_of_contents:m}=n,{permalink:f}=r;return a.a.createElement(s.a,{title:c,description:u,permalink:f,wrapperClassName:d},a.a.createElement("main",null,a.a.createElement("div",{className:"container container--fluid"},a.a.createElement("div",{className:"margin-vert--lg padding-vert--lg"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col col--8 col--offset-2"},a.a.createElement("div",{className:"container"},a.a.createElement(l.a,{components:o.a},a.a.createElement(t,null)))),!m&&t.toc&&a.a.createElement("div",{className:"col col--2"},a.a.createElement(i.a,{toc:t.toc})))))))}}}]);